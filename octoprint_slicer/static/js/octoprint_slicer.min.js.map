{"version":3,"file":null,"sources":["../../../node_modules/3tk/dist/3tk.module.js","../../../src/STLViewPort.js","../../../src/profile_overrides.js","../../../src/slicer.js"],"sourcesContent":["import THREE from 'three';\n\n/**\n * @author arodic / https://github.com/arodic\n */\n\nfunction DefaultHandles() {\n\n    var GizmoMaterial = function GizmoMaterial(parameters) {\n\n        THREE.MeshBasicMaterial.call(this);\n\n        this.depthTest = false;\n        this.depthWrite = false;\n        this.side = THREE.FrontSide;\n        this.transparent = true;\n\n        this.setValues(parameters);\n\n        this.oldColor = this.color.clone();\n        this.oldOpacity = this.opacity;\n\n        this.highlight = function (highlighted) {\n\n            if (highlighted) {\n\n                this.color.setRGB(1, 1, 0);\n                this.opacity = 1;\n            } else {\n\n                this.color.copy(this.oldColor);\n                this.opacity = this.oldOpacity;\n            }\n        };\n    };\n\n    GizmoMaterial.prototype = Object.create(THREE.MeshBasicMaterial.prototype);\n    GizmoMaterial.prototype.constructor = GizmoMaterial;\n\n    var GizmoLineMaterial = function GizmoLineMaterial(parameters) {\n\n        THREE.LineBasicMaterial.call(this);\n\n        this.depthTest = false;\n        this.depthWrite = false;\n        this.transparent = true;\n        this.linewidth = 1;\n\n        this.setValues(parameters);\n\n        this.oldColor = this.color.clone();\n        this.oldOpacity = this.opacity;\n\n        this.highlight = function (highlighted) {\n\n            if (highlighted) {\n\n                this.color.setRGB(1, 1, 0);\n                this.opacity = 1;\n            } else {\n\n                this.color.copy(this.oldColor);\n                this.opacity = this.oldOpacity;\n            }\n        };\n    };\n\n    GizmoLineMaterial.prototype = Object.create(THREE.LineBasicMaterial.prototype);\n    GizmoLineMaterial.prototype.constructor = GizmoLineMaterial;\n\n    var invisibleMaterial = new GizmoMaterial({ visible: false, transparent: false });\n\n    var gizmoFromMap = function gizmoFromMap(gizmoMap) {\n\n        var gizmo = new THREE.Object3D();\n\n        for (var name in gizmoMap) {\n\n            for (var i = gizmoMap[name].length; i--;) {\n\n                var object = gizmoMap[name][i][0];\n                var position = gizmoMap[name][i][1];\n                var rotation = gizmoMap[name][i][2];\n\n                object.name = name;\n\n                if (position) object.position.set(position[0], position[1], position[2]);\n                if (rotation) object.rotation.set(rotation[0], rotation[1], rotation[2]);\n\n                gizmo.add(object);\n            }\n        }\n\n        return gizmo;\n    };\n\n    this.translateHandles = function () {\n        var arrowGeometry = new THREE.Geometry();\n        var mesh = new THREE.Mesh(new THREE.CylinderGeometry(0, 0.05, 0.2, 12, 1, false));\n        mesh.position.y = 0.5;\n        mesh.updateMatrix();\n\n        arrowGeometry.merge(mesh.geometry, mesh.matrix);\n\n        var lineXGeometry = new THREE.BufferGeometry();\n        lineXGeometry.addAttribute('position', new THREE.Float32BufferAttribute([0, 0, 0, 1, 0, 0], 3));\n\n        var lineYGeometry = new THREE.BufferGeometry();\n        lineYGeometry.addAttribute('position', new THREE.Float32BufferAttribute([0, 0, 0, 0, 1, 0], 3));\n\n        var lineZGeometry = new THREE.BufferGeometry();\n        lineZGeometry.addAttribute('position', new THREE.Float32BufferAttribute([0, 0, 0, 0, 0, 1], 3));\n\n        return gizmoFromMap({\n            X: [[new THREE.Mesh(arrowGeometry, new GizmoMaterial({ color: 0xff0000 })), [0.5, 0, 0], [0, 0, -Math.PI / 2]], [new THREE.Line(lineXGeometry, new GizmoLineMaterial({ color: 0xff0000 }))], [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), invisibleMaterial), [0.6, 0, 0], [0, 0, -Math.PI / 2]]],\n\n            Y: [[new THREE.Mesh(arrowGeometry, new GizmoMaterial({ color: 0x00ff00 })), [0, 0.5, 0]], [new THREE.Line(lineYGeometry, new GizmoLineMaterial({ color: 0x00ff00 }))], [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), invisibleMaterial), [0, 0.6, 0]]],\n\n            Z: [[new THREE.Mesh(arrowGeometry, new GizmoMaterial({ color: 0x0000ff })), [0, 0, 0.5], [Math.PI / 2, 0, 0]], [new THREE.Line(lineZGeometry, new GizmoLineMaterial({ color: 0x0000ff }))], [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), invisibleMaterial), [0, 0, 0.6], [Math.PI / 2, 0, 0]]],\n\n            XYZ: [[new THREE.Mesh(new THREE.OctahedronGeometry(0.1, 0), new GizmoMaterial({ color: 0xffffff, opacity: 0.25 })), [0, 0, 0], [0, 0, 0]], [new THREE.Mesh(new THREE.OctahedronGeometry(0.2, 0), invisibleMaterial)]],\n\n            XY: [[new THREE.Mesh(new THREE.PlaneBufferGeometry(0.29, 0.29), new GizmoMaterial({ color: 0xffff00, opacity: 0.25 })), [0.15, 0.15, 0]], [new THREE.Mesh(new THREE.PlaneBufferGeometry(0.4, 0.4), invisibleMaterial), [0.2, 0.2, 0]]],\n\n            YZ: [[new THREE.Mesh(new THREE.PlaneBufferGeometry(0.29, 0.29), new GizmoMaterial({ color: 0x00ffff, opacity: 0.25 })), [0, 0.15, 0.15], [0, Math.PI / 2, 0]], [new THREE.Mesh(new THREE.PlaneBufferGeometry(0.4, 0.4), invisibleMaterial), [0, 0.2, 0.2], [0, Math.PI / 2, 0]]],\n\n            XZ: [[new THREE.Mesh(new THREE.PlaneBufferGeometry(0.29, 0.29), new GizmoMaterial({ color: 0xff00ff, opacity: 0.25 })), [0.15, 0, 0.15], [-Math.PI / 2, 0, 0]], [new THREE.Mesh(new THREE.PlaneBufferGeometry(0.4, 0.4), invisibleMaterial), [0.2, 0, 0.2], [-Math.PI / 2, 0, 0]]]\n\n        });\n    };\n\n    this.rotateHandles = function () {\n\n        var CircleGeometry = function CircleGeometry(radius, facing, arc) {\n\n            var geometry = new THREE.BufferGeometry();\n            var vertices = [];\n            arc = arc ? arc : 1;\n\n            for (var i = 0; i <= 64 * arc; ++i) {\n\n                if (facing === 'x') vertices.push(0, Math.cos(i / 32 * Math.PI) * radius, Math.sin(i / 32 * Math.PI) * radius);\n                if (facing === 'y') vertices.push(Math.cos(i / 32 * Math.PI) * radius, 0, Math.sin(i / 32 * Math.PI) * radius);\n                if (facing === 'z') vertices.push(Math.sin(i / 32 * Math.PI) * radius, Math.cos(i / 32 * Math.PI) * radius, 0);\n            }\n\n            geometry.addAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));\n            return geometry;\n        };\n\n        return gizmoFromMap({\n            X: [[new THREE.Line(new CircleGeometry(1, 'x', 0.5), new GizmoLineMaterial({ color: 0xff0000 }))], [new THREE.Mesh(new THREE.TorusBufferGeometry(1, 0.12, 4, 12, Math.PI), invisibleMaterial), [0, 0, 0], [0, -Math.PI / 2, -Math.PI / 2]]],\n\n            Y: [[new THREE.Line(new CircleGeometry(1, 'y', 0.5), new GizmoLineMaterial({ color: 0x00ff00 }))], [new THREE.Mesh(new THREE.TorusBufferGeometry(1, 0.12, 4, 12, Math.PI), invisibleMaterial), [0, 0, 0], [Math.PI / 2, 0, 0]]],\n\n            Z: [[new THREE.Line(new CircleGeometry(1, 'z', 0.5), new GizmoLineMaterial({ color: 0x0000ff }))], [new THREE.Mesh(new THREE.TorusBufferGeometry(1, 0.12, 4, 12, Math.PI), invisibleMaterial), [0, 0, 0], [0, 0, -Math.PI / 2]]],\n\n            E: [[new THREE.Line(new CircleGeometry(1.25, 'z', 1), new GizmoLineMaterial({ color: 0xcccc00 }))], [new THREE.Mesh(new THREE.TorusBufferGeometry(1.25, 0.12, 2, 24), invisibleMaterial)]],\n\n            XYZE: [[new THREE.Line(new CircleGeometry(1, 'z', 1), new GizmoLineMaterial({ color: 0x787878 }))], [new THREE.Mesh()] // TODO\n            ]\n        });\n    };\n\n    this.scaleHandles = function () {\n        var arrowGeometry = new THREE.Geometry();\n        var mesh = new THREE.Mesh(new THREE.BoxGeometry(0.125, 0.125, 0.125));\n        mesh.position.y = 0.5;\n        mesh.updateMatrix();\n\n        arrowGeometry.merge(mesh.geometry, mesh.matrix);\n\n        var lineXGeometry = new THREE.BufferGeometry();\n        lineXGeometry.addAttribute('position', new THREE.Float32BufferAttribute([0, 0, 0, 1, 0, 0], 3));\n\n        var lineYGeometry = new THREE.BufferGeometry();\n        lineYGeometry.addAttribute('position', new THREE.Float32BufferAttribute([0, 0, 0, 0, 1, 0], 3));\n\n        var lineZGeometry = new THREE.BufferGeometry();\n        lineZGeometry.addAttribute('position', new THREE.Float32BufferAttribute([0, 0, 0, 0, 0, 1], 3));\n\n        return gizmoFromMap({\n            X: [[new THREE.Mesh(arrowGeometry, new GizmoMaterial({ color: 0xff0000 })), [0.5, 0, 0], [0, 0, -Math.PI / 2]], [new THREE.Line(lineXGeometry, new GizmoLineMaterial({ color: 0xff0000 }))], [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), invisibleMaterial), [0.6, 0, 0], [0, 0, -Math.PI / 2]]],\n\n            Y: [[new THREE.Mesh(arrowGeometry, new GizmoMaterial({ color: 0x00ff00 })), [0, 0.5, 0]], [new THREE.Line(lineYGeometry, new GizmoLineMaterial({ color: 0x00ff00 }))], [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), invisibleMaterial), [0, 0.6, 0]]],\n\n            Z: [[new THREE.Mesh(arrowGeometry, new GizmoMaterial({ color: 0x0000ff })), [0, 0, 0.5], [Math.PI / 2, 0, 0]], [new THREE.Line(lineZGeometry, new GizmoLineMaterial({ color: 0x0000ff }))], [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), invisibleMaterial), [0, 0, 0.6], [Math.PI / 2, 0, 0]]],\n\n            XYZ: [[new THREE.Mesh(new THREE.BoxBufferGeometry(0.125, 0.125, 0.125), new GizmoMaterial({ color: 0xffffff, opacity: 0.25 }))], [new THREE.Mesh(new THREE.BoxBufferGeometry(0.4, 0.4, 0.4), invisibleMaterial)]]\n        });\n    };\n}\n\nfunction TransformGizmo(handles) {\n\n    this.handles = handles;\n\n    this.init = function () {\n\n        THREE.Object3D.call(this);\n\n        this.add(this.handles);\n\n        this.planes = new THREE.Object3D();\n        this.add(this.planes);\n\n        //// PLANES\n\n        var planeGeometry = new THREE.PlaneBufferGeometry(50, 50, 2, 2);\n        var planeMaterial = new THREE.MeshBasicMaterial({ visible: false, side: THREE.DoubleSide });\n\n        var planes = {\n            \"XY\": new THREE.Mesh(planeGeometry, planeMaterial),\n            \"YZ\": new THREE.Mesh(planeGeometry, planeMaterial),\n            \"XZ\": new THREE.Mesh(planeGeometry, planeMaterial),\n            \"XYZE\": new THREE.Mesh(planeGeometry, planeMaterial)\n        };\n\n        this.activePlane = planes[\"XYZE\"];\n\n        planes[\"YZ\"].rotation.set(0, Math.PI / 2, 0);\n        planes[\"XZ\"].rotation.set(-Math.PI / 2, 0, 0);\n\n        for (var i in planes) {\n\n            planes[i].name = i;\n            this.planes.add(planes[i]);\n            this.planes[i] = planes[i];\n        }\n\n        // reset Transformations\n\n        this.traverse(function (child) {\n\n            if (child instanceof THREE.Mesh) {\n\n                child.updateMatrix();\n\n                var tempGeometry = child.geometry.clone();\n                tempGeometry.applyMatrix(child.matrix);\n                child.geometry = tempGeometry;\n\n                child.position.set(0, 0, 0);\n                child.rotation.set(0, 0, 0);\n                child.scale.set(1, 1, 1);\n            }\n        });\n    };\n\n    this.setHandles = function (handles) {\n\n        this.remove(this.handles);\n        this.handles = handles;\n        if (this.handles !== null) {\n            this.add(this.handles);\n        }\n    };\n\n    this.highlight = function (axis) {\n\n        this.traverse(function (child) {\n\n            if (child.material && child.material.highlight) {\n\n                if (child.name === axis) {\n\n                    child.material.highlight(true);\n                } else {\n\n                    child.material.highlight(false);\n                }\n            }\n        });\n    };\n}\n\nTransformGizmo.prototype = Object.create(THREE.Object3D.prototype);\nTransformGizmo.prototype.constructor = THREE.TransformGizmo;\n\nTransformGizmo.prototype.update = function (rotation, eye) {\n\n    var vec1 = new THREE.Vector3(0, 0, 0);\n    var vec2 = new THREE.Vector3(0, 1, 0);\n    var lookAtMatrix = new THREE.Matrix4();\n\n    this.traverse(function (child) {\n\n        if (child.name.search(\"E\") !== -1) {\n\n            child.quaternion.setFromRotationMatrix(lookAtMatrix.lookAt(eye, vec1, vec2));\n        } else if (child.name.search(\"X\") !== -1 || child.name.search(\"Y\") !== -1 || child.name.search(\"Z\") !== -1) {\n\n            child.quaternion.setFromEuler(rotation);\n        }\n    });\n};\n\nfunction TransformGizmoTranslate(handles) {\n\n    TransformGizmo.call(this, handles);\n\n    this.setActivePlane = function (axis, eye) {\n\n        var tempMatrix = new THREE.Matrix4();\n        eye.applyMatrix4(tempMatrix.getInverse(tempMatrix.extractRotation(this.planes[\"XY\"].matrixWorld)));\n\n        if (axis === \"X\") {\n\n            this.activePlane = this.planes[\"XY\"];\n\n            if (Math.abs(eye.y) > Math.abs(eye.z)) this.activePlane = this.planes[\"XZ\"];\n        }\n\n        if (axis === \"Y\") {\n\n            this.activePlane = this.planes[\"XY\"];\n\n            if (Math.abs(eye.x) > Math.abs(eye.z)) this.activePlane = this.planes[\"YZ\"];\n        }\n\n        if (axis === \"Z\") {\n\n            this.activePlane = this.planes[\"XZ\"];\n\n            if (Math.abs(eye.x) > Math.abs(eye.y)) this.activePlane = this.planes[\"YZ\"];\n        }\n\n        if (axis === \"XYZ\") this.activePlane = this.planes[\"XYZE\"];\n\n        if (axis === \"XY\") this.activePlane = this.planes[\"XY\"];\n\n        if (axis === \"YZ\") this.activePlane = this.planes[\"YZ\"];\n\n        if (axis === \"XZ\") this.activePlane = this.planes[\"XZ\"];\n    };\n\n    this.init();\n}\n\nTransformGizmoTranslate.prototype = Object.create(TransformGizmo.prototype);\nTransformGizmoTranslate.prototype.constructor = TransformGizmoTranslate;\n\nfunction TransformGizmoRotate(handles) {\n\n    TransformGizmo.call(this, handles);\n\n    this.setActivePlane = function (axis) {\n\n        if (axis === \"E\") this.activePlane = this.planes[\"XYZE\"];\n\n        if (axis === \"X\") this.activePlane = this.planes[\"YZ\"];\n\n        if (axis === \"Y\") this.activePlane = this.planes[\"XZ\"];\n\n        if (axis === \"Z\") this.activePlane = this.planes[\"XY\"];\n    };\n\n    this.update = function (rotation, eye2) {\n\n        TransformGizmo.prototype.update.apply(this, arguments);\n\n        var group = {\n\n            handles: this[\"handles\"]\n\n        };\n\n        var tempMatrix = new THREE.Matrix4();\n        var worldRotation = new THREE.Euler(0, 0, 1);\n        var tempQuaternion = new THREE.Quaternion();\n        var unitX = new THREE.Vector3(1, 0, 0);\n        var unitY = new THREE.Vector3(0, 1, 0);\n        var unitZ = new THREE.Vector3(0, 0, 1);\n        var quaternionX = new THREE.Quaternion();\n        var quaternionY = new THREE.Quaternion();\n        var quaternionZ = new THREE.Quaternion();\n        var eye = eye2.clone();\n\n        worldRotation.copy(this.planes[\"XY\"].rotation);\n        tempQuaternion.setFromEuler(worldRotation);\n\n        tempMatrix.makeRotationFromQuaternion(tempQuaternion).getInverse(tempMatrix);\n        eye.applyMatrix4(tempMatrix);\n\n        this.traverse(function (child) {\n\n            tempQuaternion.setFromEuler(worldRotation);\n\n            if (child.name === \"X\") {\n\n                quaternionX.setFromAxisAngle(unitX, Math.atan2(-eye.y, eye.z));\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionX);\n                child.quaternion.copy(tempQuaternion);\n            }\n\n            if (child.name === \"Y\") {\n\n                quaternionY.setFromAxisAngle(unitY, Math.atan2(eye.x, eye.z));\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionY);\n                child.quaternion.copy(tempQuaternion);\n            }\n\n            if (child.name === \"Z\") {\n\n                quaternionZ.setFromAxisAngle(unitZ, Math.atan2(eye.y, eye.x));\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionZ);\n                child.quaternion.copy(tempQuaternion);\n            }\n        });\n    };\n\n    this.init();\n}\n\nTransformGizmoRotate.prototype = Object.create(TransformGizmo.prototype);\nTransformGizmoRotate.prototype.constructor = TransformGizmoRotate;\n\nfunction TransformGizmoScale(handles) {\n\n    TransformGizmo.call(this, handles);\n\n    this.setActivePlane = function (axis, eye) {\n\n        var tempMatrix = new THREE.Matrix4();\n        eye.applyMatrix4(tempMatrix.getInverse(tempMatrix.extractRotation(this.planes[\"XY\"].matrixWorld)));\n\n        if (axis === \"X\") {\n\n            this.activePlane = this.planes[\"XY\"];\n            if (Math.abs(eye.y) > Math.abs(eye.z)) this.activePlane = this.planes[\"XZ\"];\n        }\n\n        if (axis === \"Y\") {\n\n            this.activePlane = this.planes[\"XY\"];\n            if (Math.abs(eye.x) > Math.abs(eye.z)) this.activePlane = this.planes[\"YZ\"];\n        }\n\n        if (axis === \"Z\") {\n\n            this.activePlane = this.planes[\"XZ\"];\n            if (Math.abs(eye.x) > Math.abs(eye.y)) this.activePlane = this.planes[\"YZ\"];\n        }\n\n        if (axis === \"XYZ\") this.activePlane = this.planes[\"XYZE\"];\n    };\n\n    this.init();\n}\n\nTransformGizmoScale.prototype = Object.create(TransformGizmo.prototype);\nTransformGizmoScale.prototype.constructor = TransformGizmoScale;\n\nfunction TransformControls(camera, domElement) {\n\n    // TODO: Make non-uniform scale and rotate play nice in hierarchies\n    // TODO: ADD RXYZ contol\n\n    THREE.Object3D.call(this);\n\n    domElement = domElement !== undefined ? domElement : document;\n\n    this.defaultHandles = new DefaultHandles();\n\n    this.object = undefined;\n    this.visible = false;\n    this.translationSnap = null;\n    this.rotationSnap = null;\n    this.space = \"world\";\n    this.size = 1;\n    this.axis = null;\n    this.dragObject = false;\n\n    var scope = this;\n\n    var _mode = \"translate\";\n    var _dragging = false;\n    var _plane = \"XY\";\n    var _gizmo = {\n        \"translate\": new TransformGizmoTranslate(scope.defaultHandles.translateHandles()),\n        \"rotate\": new TransformGizmoRotate(scope.defaultHandles.rotateHandles()),\n        \"scale\": new TransformGizmoScale(scope.defaultHandles.scaleHandles())\n    };\n\n    for (var type in _gizmo) {\n\n        var gizmoObj = _gizmo[type];\n\n        gizmoObj.visible = type === _mode;\n        this.add(gizmoObj);\n    }\n\n    var changeEvent = { type: \"change\" };\n    var mouseDownEvent = { type: \"mouseDown\" };\n    var mouseUpEvent = { type: \"mouseUp\", mode: _mode };\n    var objectChangeEvent = { type: \"objectChange\" };\n\n    var ray = new THREE.Raycaster();\n    ray.linePrecision = 0.01;\n    var pointerVector = new THREE.Vector2();\n\n    var point = new THREE.Vector3();\n    var offset = new THREE.Vector3();\n\n    var rotation = new THREE.Vector3();\n    var offsetRotation = new THREE.Vector3();\n    var scale = 1;\n\n    var lookAtMatrix = new THREE.Matrix4();\n    var eye = new THREE.Vector3();\n\n    var tempMatrix = new THREE.Matrix4();\n    var tempVector = new THREE.Vector3();\n    var tempQuaternion = new THREE.Quaternion();\n    var unitX = new THREE.Vector3(1, 0, 0);\n    var unitY = new THREE.Vector3(0, 1, 0);\n    var unitZ = new THREE.Vector3(0, 0, 1);\n\n    var quaternionXYZ = new THREE.Quaternion();\n    var quaternionX = new THREE.Quaternion();\n    var quaternionY = new THREE.Quaternion();\n    var quaternionZ = new THREE.Quaternion();\n    var quaternionE = new THREE.Quaternion();\n\n    var oldPosition = new THREE.Vector3();\n    var oldScale = new THREE.Vector3();\n    var oldRotationMatrix = new THREE.Matrix4();\n\n    var parentRotationMatrix = new THREE.Matrix4();\n    var parentScale = new THREE.Vector3();\n\n    var worldPosition = new THREE.Vector3();\n    var worldRotation = new THREE.Euler();\n    var worldRotationMatrix = new THREE.Matrix4();\n    var camPosition = new THREE.Vector3();\n    var camRotation = new THREE.Euler();\n\n    domElement.addEventListener(\"mousedown\", onPointerDown, false);\n    domElement.addEventListener(\"touchstart\", onPointerDown, false);\n\n    domElement.addEventListener(\"mousemove\", onPointerHover, false);\n    domElement.addEventListener(\"touchmove\", onPointerHover, false);\n\n    domElement.addEventListener(\"mousemove\", onPointerMove, false);\n    domElement.addEventListener(\"touchmove\", onPointerMove, false);\n\n    domElement.addEventListener(\"mouseup\", onPointerUp, false);\n    domElement.addEventListener(\"mouseout\", onPointerUp, false);\n    domElement.addEventListener(\"touchend\", onPointerUp, false);\n    domElement.addEventListener(\"touchcancel\", onPointerUp, false);\n    domElement.addEventListener(\"touchleave\", onPointerUp, false);\n\n    this.dispose = function () {\n\n        domElement.removeEventListener(\"mousedown\", onPointerDown);\n        domElement.removeEventListener(\"touchstart\", onPointerDown);\n\n        domElement.removeEventListener(\"mousemove\", onPointerHover);\n        domElement.removeEventListener(\"touchmove\", onPointerHover);\n\n        domElement.removeEventListener(\"mousemove\", onPointerMove);\n        domElement.removeEventListener(\"touchmove\", onPointerMove);\n\n        domElement.removeEventListener(\"mouseup\", onPointerUp);\n        domElement.removeEventListener(\"mouseout\", onPointerUp);\n        domElement.removeEventListener(\"touchend\", onPointerUp);\n        domElement.removeEventListener(\"touchcancel\", onPointerUp);\n        domElement.removeEventListener(\"touchleave\", onPointerUp);\n    };\n\n    this.attach = function (object) {\n\n        this.object = object;\n        this.visible = true;\n        this.update();\n    };\n\n    this.detach = function () {\n\n        this.object = undefined;\n        this.visible = false;\n        this.axis = null;\n    };\n\n    this.getMode = function () {\n\n        return _mode;\n    };\n\n    this.setMode = function (mode) {\n\n        _mode = mode ? mode : _mode;\n\n        if (_mode === \"scale\") scope.space = \"local\";\n\n        for (var type in _gizmo) {\n            _gizmo[type].visible = type === _mode;\n        }this.update();\n        scope.dispatchEvent(changeEvent);\n    };\n\n    this.setTranslationSnap = function (translationSnap) {\n\n        scope.translationSnap = translationSnap;\n    };\n\n    this.setRotationSnap = function (rotationSnap) {\n\n        scope.rotationSnap = rotationSnap;\n    };\n\n    this.setSize = function (size) {\n\n        scope.size = size;\n        this.update();\n        scope.dispatchEvent(changeEvent);\n    };\n\n    this.setSpace = function (space) {\n\n        scope.space = space;\n        this.update();\n        scope.dispatchEvent(changeEvent);\n    };\n\n    this.setHandles = function (mode, handles) {\n\n        _gizmo[mode].setHandles(handles);\n        scope.update();\n        scope.dispatchEvent(changeEvent);\n    };\n\n    this.update = function () {\n\n        if (scope.object === undefined) return;\n\n        scope.object.updateMatrixWorld();\n        worldPosition.setFromMatrixPosition(scope.object.matrixWorld);\n        worldRotation.setFromRotationMatrix(tempMatrix.extractRotation(scope.object.matrixWorld));\n\n        camera.updateMatrixWorld();\n        camPosition.setFromMatrixPosition(camera.matrixWorld);\n        camRotation.setFromRotationMatrix(tempMatrix.extractRotation(camera.matrixWorld));\n\n        scale = worldPosition.distanceTo(camPosition) / 6 * scope.size;\n        this.position.copy(worldPosition);\n        this.scale.set(scale, scale, scale);\n\n        if (camera instanceof THREE.PerspectiveCamera) {\n\n            eye.copy(camPosition).sub(worldPosition).normalize();\n        } else if (camera instanceof THREE.OrthographicCamera) {\n\n            eye.copy(camPosition).normalize();\n        }\n\n        if (scope.space === \"local\") {\n\n            _gizmo[_mode].update(worldRotation, eye);\n        } else if (scope.space === \"world\") {\n\n            _gizmo[_mode].update(new THREE.Euler(), eye);\n        }\n\n        _gizmo[_mode].highlight(scope.axis);\n    };\n\n    function onPointerHover(event) {\n\n        if (scope.object === undefined || _dragging === true || _gizmo[_mode].handles === null || event.button !== undefined && event.button !== 0) return;\n\n        var pointer = event.changedTouches ? event.changedTouches[0] : event;\n\n        var intersect = intersectObjects(pointer, _gizmo[_mode].handles.children);\n\n        var axis = null;\n\n        if (intersect) {\n\n            axis = intersect.object.name;\n\n            event.preventDefault();\n        }\n\n        if (scope.axis !== axis) {\n\n            scope.axis = axis;\n            scope.update();\n            scope.dispatchEvent(changeEvent);\n        }\n    }\n\n    function onPointerDown(event) {\n\n        if (scope.object === undefined || _dragging === true || event.button !== undefined && event.button !== 0) return;\n\n        var pointer = event.changedTouches ? event.changedTouches[0] : event;\n\n        if (pointer.button === 0 || pointer.button === undefined) {\n\n            if (_gizmo[_mode].handles !== null) {\n\n                var intersect = intersectObjects(pointer, _gizmo[_mode].handles.children);\n\n                if (!intersect) return;\n\n                event.preventDefault();\n                event.stopPropagation();\n\n                scope.dispatchEvent(mouseDownEvent);\n\n                scope.axis = intersect.object.name;\n            }\n\n            if (!scope.axis) return;\n\n            scope.update();\n\n            eye.copy(camPosition).sub(worldPosition).normalize();\n\n            _gizmo[_mode].setActivePlane(scope.axis, eye);\n\n            var planeIntersect = intersectObjects(pointer, [_gizmo[_mode].activePlane]);\n\n            if (planeIntersect) {\n\n                oldPosition.copy(scope.object.position);\n                oldScale.copy(scope.object.scale);\n\n                oldRotationMatrix.extractRotation(scope.object.matrix);\n                worldRotationMatrix.extractRotation(scope.object.matrixWorld);\n\n                parentRotationMatrix.extractRotation(scope.object.parent.matrixWorld);\n                parentScale.setFromMatrixScale(tempMatrix.getInverse(scope.object.parent.matrixWorld));\n\n                offset.copy(planeIntersect.point);\n            }\n        }\n\n        _dragging = true;\n    }\n\n    function onPointerMove(event) {\n\n        if (scope.object === undefined || scope.axis === null || _dragging === false || event.button !== undefined && event.button !== 0) return;\n\n        var pointer = event.changedTouches ? event.changedTouches[0] : event;\n\n        var planeIntersect = intersectObjects(pointer, [_gizmo[_mode].activePlane]);\n\n        if (planeIntersect === false) return;\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        point.copy(planeIntersect.point);\n\n        if (_mode === \"translate\") {\n\n            point.sub(offset);\n            point.multiply(parentScale);\n\n            if (scope.space === \"local\") {\n\n                point.applyMatrix4(tempMatrix.getInverse(worldRotationMatrix));\n\n                if (scope.axis.search(\"X\") === -1) point.x = 0;\n                if (scope.axis.search(\"Y\") === -1) point.y = 0;\n                if (scope.axis.search(\"Z\") === -1) point.z = 0;\n\n                point.applyMatrix4(oldRotationMatrix);\n\n                scope.object.position.copy(oldPosition);\n                scope.object.position.add(point);\n            }\n\n            if (scope.space === \"world\" || scope.axis.search(\"XYZ\") !== -1) {\n\n                if (scope.axis.search(\"X\") === -1) point.x = 0;\n                if (scope.axis.search(\"Y\") === -1) point.y = 0;\n                if (scope.axis.search(\"Z\") === -1) point.z = 0;\n\n                point.applyMatrix4(tempMatrix.getInverse(parentRotationMatrix));\n\n                scope.object.position.copy(oldPosition);\n                scope.object.position.add(point);\n            }\n\n            if (scope.translationSnap !== null) {\n\n                if (scope.space === \"local\") {\n\n                    scope.object.position.applyMatrix4(tempMatrix.getInverse(worldRotationMatrix));\n                }\n\n                if (scope.axis.search(\"X\") !== -1) scope.object.position.x = Math.round(scope.object.position.x / scope.translationSnap) * scope.translationSnap;\n                if (scope.axis.search(\"Y\") !== -1) scope.object.position.y = Math.round(scope.object.position.y / scope.translationSnap) * scope.translationSnap;\n                if (scope.axis.search(\"Z\") !== -1) scope.object.position.z = Math.round(scope.object.position.z / scope.translationSnap) * scope.translationSnap;\n\n                if (scope.space === \"local\") {\n\n                    scope.object.position.applyMatrix4(worldRotationMatrix);\n                }\n            }\n        } else if (_mode === \"scale\") {\n\n            point.sub(offset);\n            point.multiply(parentScale);\n\n            if (scope.space === \"local\") {\n\n                if (scope.axis === \"XYZ\") {\n\n                    scale = 1 + point.y / Math.max(oldScale.x, oldScale.y, oldScale.z);\n\n                    scope.object.scale.x = oldScale.x * scale;\n                    scope.object.scale.y = oldScale.y * scale;\n                    scope.object.scale.z = oldScale.z * scale;\n                } else {\n\n                    point.applyMatrix4(tempMatrix.getInverse(worldRotationMatrix));\n\n                    if (scope.axis === \"X\") scope.object.scale.x = oldScale.x * (1 + point.x / oldScale.x);\n                    if (scope.axis === \"Y\") scope.object.scale.y = oldScale.y * (1 + point.y / oldScale.y);\n                    if (scope.axis === \"Z\") scope.object.scale.z = oldScale.z * (1 + point.z / oldScale.z);\n                }\n            }\n        } else if (_mode === \"rotate\") {\n\n            point.sub(worldPosition);\n            point.multiply(parentScale);\n            tempVector.copy(offset).sub(worldPosition);\n            tempVector.multiply(parentScale);\n\n            if (scope.axis === \"E\") {\n\n                point.applyMatrix4(tempMatrix.getInverse(lookAtMatrix));\n                tempVector.applyMatrix4(tempMatrix.getInverse(lookAtMatrix));\n\n                rotation.set(Math.atan2(point.z, point.y), Math.atan2(point.x, point.z), Math.atan2(point.y, point.x));\n                offsetRotation.set(Math.atan2(tempVector.z, tempVector.y), Math.atan2(tempVector.x, tempVector.z), Math.atan2(tempVector.y, tempVector.x));\n\n                tempQuaternion.setFromRotationMatrix(tempMatrix.getInverse(parentRotationMatrix));\n\n                quaternionE.setFromAxisAngle(eye, rotation.z - offsetRotation.z);\n                quaternionXYZ.setFromRotationMatrix(worldRotationMatrix);\n\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionE);\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionXYZ);\n\n                scope.object.quaternion.copy(tempQuaternion);\n            } else if (scope.axis === \"XYZE\") {\n\n                quaternionE.setFromEuler(point.clone().cross(tempVector).normalize()); // rotation axis\n\n                tempQuaternion.setFromRotationMatrix(tempMatrix.getInverse(parentRotationMatrix));\n                quaternionX.setFromAxisAngle(quaternionE, -point.clone().angleTo(tempVector));\n                quaternionXYZ.setFromRotationMatrix(worldRotationMatrix);\n\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionX);\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionXYZ);\n\n                scope.object.quaternion.copy(tempQuaternion);\n            } else if (scope.space === \"local\") {\n\n                point.applyMatrix4(tempMatrix.getInverse(worldRotationMatrix));\n\n                tempVector.applyMatrix4(tempMatrix.getInverse(worldRotationMatrix));\n\n                rotation.set(Math.atan2(point.z, point.y), Math.atan2(point.x, point.z), Math.atan2(point.y, point.x));\n                offsetRotation.set(Math.atan2(tempVector.z, tempVector.y), Math.atan2(tempVector.x, tempVector.z), Math.atan2(tempVector.y, tempVector.x));\n\n                quaternionXYZ.setFromRotationMatrix(oldRotationMatrix);\n\n                if (scope.rotationSnap !== null) {\n\n                    quaternionX.setFromAxisAngle(unitX, Math.round((rotation.x - offsetRotation.x) / scope.rotationSnap) * scope.rotationSnap);\n                    quaternionY.setFromAxisAngle(unitY, Math.round((rotation.y - offsetRotation.y) / scope.rotationSnap) * scope.rotationSnap);\n                    quaternionZ.setFromAxisAngle(unitZ, Math.round((rotation.z - offsetRotation.z) / scope.rotationSnap) * scope.rotationSnap);\n                } else {\n\n                    quaternionX.setFromAxisAngle(unitX, rotation.x - offsetRotation.x);\n                    quaternionY.setFromAxisAngle(unitY, rotation.y - offsetRotation.y);\n                    quaternionZ.setFromAxisAngle(unitZ, rotation.z - offsetRotation.z);\n                }\n\n                if (scope.axis === \"X\") quaternionXYZ.multiplyQuaternions(quaternionXYZ, quaternionX);\n                if (scope.axis === \"Y\") quaternionXYZ.multiplyQuaternions(quaternionXYZ, quaternionY);\n                if (scope.axis === \"Z\") quaternionXYZ.multiplyQuaternions(quaternionXYZ, quaternionZ);\n\n                scope.object.quaternion.copy(quaternionXYZ);\n            } else if (scope.space === \"world\") {\n\n                rotation.set(Math.atan2(point.z, point.y), Math.atan2(point.x, point.z), Math.atan2(point.y, point.x));\n                offsetRotation.set(Math.atan2(tempVector.z, tempVector.y), Math.atan2(tempVector.x, tempVector.z), Math.atan2(tempVector.y, tempVector.x));\n\n                tempQuaternion.setFromRotationMatrix(tempMatrix.getInverse(parentRotationMatrix));\n\n                if (scope.rotationSnap !== null) {\n\n                    quaternionX.setFromAxisAngle(unitX, Math.round((rotation.x - offsetRotation.x) / scope.rotationSnap) * scope.rotationSnap);\n                    quaternionY.setFromAxisAngle(unitY, Math.round((rotation.y - offsetRotation.y) / scope.rotationSnap) * scope.rotationSnap);\n                    quaternionZ.setFromAxisAngle(unitZ, Math.round((rotation.z - offsetRotation.z) / scope.rotationSnap) * scope.rotationSnap);\n                } else {\n\n                    quaternionX.setFromAxisAngle(unitX, rotation.x - offsetRotation.x);\n                    quaternionY.setFromAxisAngle(unitY, rotation.y - offsetRotation.y);\n                    quaternionZ.setFromAxisAngle(unitZ, rotation.z - offsetRotation.z);\n                }\n\n                quaternionXYZ.setFromRotationMatrix(worldRotationMatrix);\n\n                if (scope.axis === \"X\") tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionX);\n                if (scope.axis === \"Y\") tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionY);\n                if (scope.axis === \"Z\") tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionZ);\n\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionXYZ);\n\n                scope.object.quaternion.copy(tempQuaternion);\n            }\n        }\n\n        scope.update();\n        scope.dispatchEvent(changeEvent);\n        scope.dispatchEvent(objectChangeEvent);\n    }\n\n    function onPointerUp(event) {\n\n        event.preventDefault(); // Prevent MouseEvent on mobile\n\n        if (event.button !== undefined && event.button !== 0) return;\n\n        if (_dragging && scope.axis !== null) {\n\n            mouseUpEvent.mode = _mode;\n            scope.dispatchEvent(mouseUpEvent);\n        }\n\n        _dragging = false;\n\n        if ('TouchEvent' in window && event instanceof TouchEvent) {\n\n            // Force \"rollover\"\n\n            scope.axis = null;\n            scope.update();\n            scope.dispatchEvent(changeEvent);\n        } else {\n\n            onPointerHover(event);\n        }\n    }\n\n    function intersectObjects(pointer, objects) {\n\n        var rect = domElement.getBoundingClientRect();\n        var x = (pointer.clientX - rect.left) / rect.width;\n        var y = (pointer.clientY - rect.top) / rect.height;\n\n        pointerVector.set(x * 2 - 1, -(y * 2) + 1);\n        ray.setFromCamera(pointerVector, camera);\n\n        var intersections = ray.intersectObjects(objects, true);\n        return intersections[0] ? intersections[0] : false;\n    }\n}\n\nTransformControls.prototype = Object.create(THREE.Object3D.prototype);\nTransformControls.prototype.constructor = TransformControls;\n\n/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one finger move\n//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n//    Pan - right mouse, or arrow keys / touch: three finger swipe\n\nfunction OrbitControls(object, domElement) {\n\n\tthis.object = object;\n\n\tthis.domElement = domElement !== undefined ? domElement : document;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new THREE.Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\tthis.minAzimuthAngle = -Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.25;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = true;\n\tthis.keyPanSpeed = 7.0; // pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// Set to false to disable use of the keys\n\tthis.enableKeys = true;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t//\n\t// public methods\n\t//\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\t};\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy(scope.target);\n\t\tscope.position0.copy(scope.object.position);\n\t\tscope.zoom0 = scope.object.zoom;\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy(scope.target0);\n\t\tscope.object.position.copy(scope.position0);\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent(changeEvent);\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function () {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new THREE.Quaternion().setFromUnitVectors(object.up, new THREE.Vector3(0, 1, 0));\n\t\tvar quatInverse = quat.clone().inverse();\n\n\t\tvar lastPosition = new THREE.Vector3();\n\t\tvar lastQuaternion = new THREE.Quaternion();\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy(position).sub(scope.target);\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion(quat);\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3(offset);\n\n\t\t\tif (scope.autoRotate && state === STATE.NONE) {\n\n\t\t\t\trotateLeft(getAutoRotationAngle());\n\t\t\t}\n\n\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t// restrict theta to be between desired limits\n\t\t\tspherical.theta = Math.max(scope.minAzimuthAngle, Math.min(scope.maxAzimuthAngle, spherical.theta));\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n\n\t\t\tspherical.makeSafe();\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius));\n\n\t\t\t// move target to panned location\n\t\t\tscope.target.add(panOffset);\n\n\t\t\toffset.setFromSpherical(spherical);\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion(quatInverse);\n\n\t\t\tposition.copy(scope.target).add(offset);\n\n\t\t\tscope.object.lookAt(scope.target);\n\n\t\t\tif (scope.enableDamping === true) {\n\n\t\t\t\tsphericalDelta.theta *= 1 - scope.dampingFactor;\n\t\t\t\tsphericalDelta.phi *= 1 - scope.dampingFactor;\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set(0, 0, 0);\n\t\t\t}\n\n\t\t\tscale = 1;\n\t\t\tpanOffset.set(0, 0, 0);\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n\n\t\t\t\tscope.dispatchEvent(changeEvent);\n\n\t\t\t\tlastPosition.copy(scope.object.position);\n\t\t\t\tlastQuaternion.copy(scope.object.quaternion);\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener('contextmenu', onContextMenu, false);\n\t\tscope.domElement.removeEventListener('mousedown', onMouseDown, false);\n\t\tscope.domElement.removeEventListener('wheel', onMouseWheel, false);\n\n\t\tscope.domElement.removeEventListener('touchstart', onTouchStart, false);\n\t\tscope.domElement.removeEventListener('touchend', onTouchEnd, false);\n\t\tscope.domElement.removeEventListener('touchmove', onTouchMove, false);\n\n\t\tdocument.removeEventListener('mousemove', onMouseMove, false);\n\t\tdocument.removeEventListener('mouseup', onMouseUp, false);\n\n\t\twindow.removeEventListener('keydown', onKeyDown, false);\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = { NONE: -1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new THREE.Spherical();\n\tvar sphericalDelta = new THREE.Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new THREE.Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new THREE.Vector2();\n\tvar rotateEnd = new THREE.Vector2();\n\tvar rotateDelta = new THREE.Vector2();\n\n\tvar panStart = new THREE.Vector2();\n\tvar panEnd = new THREE.Vector2();\n\tvar panDelta = new THREE.Vector2();\n\n\tvar dollyStart = new THREE.Vector2();\n\tvar dollyEnd = new THREE.Vector2();\n\tvar dollyDelta = new THREE.Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow(0.95, scope.zoomSpeed);\n\t}\n\n\tfunction rotateLeft(angle) {\n\n\t\tsphericalDelta.theta -= angle;\n\t}\n\n\tfunction rotateUp(angle) {\n\n\t\tsphericalDelta.phi -= angle;\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panLeft(distance, objectMatrix) {\n\n\t\t\tv.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\t\t\tv.multiplyScalar(-distance);\n\n\t\t\tpanOffset.add(v);\n\t\t};\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panUp(distance, objectMatrix) {\n\n\t\t\tv.setFromMatrixColumn(objectMatrix, 1); // get Y column of objectMatrix\n\t\t\tv.multiplyScalar(distance);\n\n\t\t\tpanOffset.add(v);\n\t\t};\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function () {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\treturn function pan(deltaX, deltaY) {\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tif (scope.object instanceof THREE.PerspectiveCamera) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy(position).sub(scope.target);\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0);\n\n\t\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\n\t\t\t\tpanLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n\t\t\t\tpanUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n\t\t\t} else if (scope.object instanceof THREE.OrthographicCamera) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n\t\t\t\tpanUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n\t\t\t\tscope.enablePan = false;\n\t\t\t}\n\t\t};\n\t}();\n\n\tfunction dollyIn(dollyScale) {\n\n\t\tif (scope.object instanceof THREE.PerspectiveCamera) {\n\n\t\t\tscale /= dollyScale;\n\t\t} else if (scope.object instanceof THREE.OrthographicCamera) {\n\n\t\t\tscope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\t\t} else {\n\n\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n\t\t\tscope.enableZoom = false;\n\t\t}\n\t}\n\n\tfunction dollyOut(dollyScale) {\n\n\t\tif (scope.object instanceof THREE.PerspectiveCamera) {\n\n\t\t\tscale *= dollyScale;\n\t\t} else if (scope.object instanceof THREE.OrthographicCamera) {\n\n\t\t\tscope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\t\t} else {\n\n\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n\t\t\tscope.enableZoom = false;\n\t\t}\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate(event) {\n\n\t\t//console.log( 'handleMouseDownRotate' );\n\n\t\trotateStart.set(event.clientX, event.clientY);\n\t}\n\n\tfunction handleMouseDownDolly(event) {\n\n\t\t//console.log( 'handleMouseDownDolly' );\n\n\t\tdollyStart.set(event.clientX, event.clientY);\n\t}\n\n\tfunction handleMouseDownPan(event) {\n\n\t\t//console.log( 'handleMouseDownPan' );\n\n\t\tpanStart.set(event.clientX, event.clientY);\n\t}\n\n\tfunction handleMouseMoveRotate(event) {\n\n\t\t//console.log( 'handleMouseMoveRotate' );\n\n\t\trotateEnd.set(event.clientX, event.clientY);\n\t\trotateDelta.subVectors(rotateEnd, rotateStart);\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t// rotating across whole screen goes 360 degrees around\n\t\trotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\trotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n\t\trotateStart.copy(rotateEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleMouseMoveDolly(event) {\n\n\t\t//console.log( 'handleMouseMoveDolly' );\n\n\t\tdollyEnd.set(event.clientX, event.clientY);\n\n\t\tdollyDelta.subVectors(dollyEnd, dollyStart);\n\n\t\tif (dollyDelta.y > 0) {\n\n\t\t\tdollyIn(getZoomScale());\n\t\t} else if (dollyDelta.y < 0) {\n\n\t\t\tdollyOut(getZoomScale());\n\t\t}\n\n\t\tdollyStart.copy(dollyEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleMouseMovePan(event) {\n\n\t\t//console.log( 'handleMouseMovePan' );\n\n\t\tpanEnd.set(event.clientX, event.clientY);\n\n\t\tpanDelta.subVectors(panEnd, panStart);\n\n\t\tpan(panDelta.x, panDelta.y);\n\n\t\tpanStart.copy(panEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleMouseUp(event) {\n\n\t\t// console.log( 'handleMouseUp' );\n\n\t}\n\n\tfunction handleMouseWheel(event) {\n\n\t\t// console.log( 'handleMouseWheel' );\n\n\t\tif (event.deltaY < 0) {\n\n\t\t\tdollyOut(getZoomScale());\n\t\t} else if (event.deltaY > 0) {\n\n\t\t\tdollyIn(getZoomScale());\n\t\t}\n\n\t\tscope.update();\n\t}\n\n\tfunction handleKeyDown(event) {\n\n\t\t//console.log( 'handleKeyDown' );\n\n\t\tswitch (event.keyCode) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan(0, scope.keyPanSpeed);\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan(0, -scope.keyPanSpeed);\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan(scope.keyPanSpeed, 0);\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan(-scope.keyPanSpeed, 0);\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n\n\tfunction handleTouchStartRotate(event) {\n\n\t\t//console.log( 'handleTouchStartRotate' );\n\n\t\trotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\t}\n\n\tfunction handleTouchStartDolly(event) {\n\n\t\t//console.log( 'handleTouchStartDolly' );\n\n\t\tvar dx = event.touches[0].pageX - event.touches[1].pageX;\n\t\tvar dy = event.touches[0].pageY - event.touches[1].pageY;\n\n\t\tvar distance = Math.sqrt(dx * dx + dy * dy);\n\n\t\tdollyStart.set(0, distance);\n\t}\n\n\tfunction handleTouchStartPan(event) {\n\n\t\t//console.log( 'handleTouchStartPan' );\n\n\t\tpanStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\t}\n\n\tfunction handleTouchMoveRotate(event) {\n\n\t\t//console.log( 'handleTouchMoveRotate' );\n\n\t\trotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\t\trotateDelta.subVectors(rotateEnd, rotateStart);\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t// rotating across whole screen goes 360 degrees around\n\t\trotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\trotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n\t\trotateStart.copy(rotateEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleTouchMoveDolly(event) {\n\n\t\t//console.log( 'handleTouchMoveDolly' );\n\n\t\tvar dx = event.touches[0].pageX - event.touches[1].pageX;\n\t\tvar dy = event.touches[0].pageY - event.touches[1].pageY;\n\n\t\tvar distance = Math.sqrt(dx * dx + dy * dy);\n\n\t\tdollyEnd.set(0, distance);\n\n\t\tdollyDelta.subVectors(dollyEnd, dollyStart);\n\n\t\tif (dollyDelta.y > 0) {\n\n\t\t\tdollyOut(getZoomScale());\n\t\t} else if (dollyDelta.y < 0) {\n\n\t\t\tdollyIn(getZoomScale());\n\t\t}\n\n\t\tdollyStart.copy(dollyEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleTouchMovePan(event) {\n\n\t\t//console.log( 'handleTouchMovePan' );\n\n\t\tpanEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\n\t\tpanDelta.subVectors(panEnd, panStart);\n\n\t\tpan(panDelta.x, panDelta.y);\n\n\t\tpanStart.copy(panEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleTouchEnd(event) {}\n\n\t//console.log( 'handleTouchEnd' );\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onMouseDown(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tevent.preventDefault();\n\n\t\tif (event.button === scope.mouseButtons.ORBIT) {\n\n\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\thandleMouseDownRotate(event);\n\n\t\t\tstate = STATE.ROTATE;\n\t\t} else if (event.button === scope.mouseButtons.ZOOM) {\n\n\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\thandleMouseDownDolly(event);\n\n\t\t\tstate = STATE.DOLLY;\n\t\t} else if (event.button === scope.mouseButtons.PAN) {\n\n\t\t\tif (scope.enablePan === false) return;\n\n\t\t\thandleMouseDownPan(event);\n\n\t\t\tstate = STATE.PAN;\n\t\t}\n\n\t\tif (state !== STATE.NONE) {\n\n\t\t\tdocument.addEventListener('mousemove', onMouseMove, false);\n\t\t\tdocument.addEventListener('mouseup', onMouseUp, false);\n\n\t\t\tscope.dispatchEvent(startEvent);\n\t\t}\n\t}\n\n\tfunction onMouseMove(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tevent.preventDefault();\n\n\t\tif (state === STATE.ROTATE) {\n\n\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\thandleMouseMoveRotate(event);\n\t\t} else if (state === STATE.DOLLY) {\n\n\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\thandleMouseMoveDolly(event);\n\t\t} else if (state === STATE.PAN) {\n\n\t\t\tif (scope.enablePan === false) return;\n\n\t\t\thandleMouseMovePan(event);\n\t\t}\n\t}\n\n\tfunction onMouseUp(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\thandleMouseUp(event);\n\n\t\tdocument.removeEventListener('mousemove', onMouseMove, false);\n\t\tdocument.removeEventListener('mouseup', onMouseUp, false);\n\n\t\tscope.dispatchEvent(endEvent);\n\n\t\tstate = STATE.NONE;\n\t}\n\n\tfunction onMouseWheel(event) {\n\n\t\tif (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\thandleMouseWheel(event);\n\n\t\tscope.dispatchEvent(startEvent); // not sure why these are here...\n\t\tscope.dispatchEvent(endEvent);\n\t}\n\n\tfunction onKeyDown(event) {\n\n\t\tif (scope.enabled === false || scope.enableKeys === false || scope.enablePan === false) return;\n\n\t\thandleKeyDown(event);\n\t}\n\n\tfunction onTouchStart(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tswitch (event.touches.length) {\n\n\t\t\tcase 1:\n\t\t\t\t// one-fingered touch: rotate\n\n\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\thandleTouchStartRotate(event);\n\n\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\t// two-fingered touch: dolly\n\n\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\thandleTouchStartDolly(event);\n\n\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\t// three-fingered touch: pan\n\n\t\t\t\tif (scope.enablePan === false) return;\n\n\t\t\t\thandleTouchStartPan(event);\n\n\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif (state !== STATE.NONE) {\n\n\t\t\tscope.dispatchEvent(startEvent);\n\t\t}\n\t}\n\n\tfunction onTouchMove(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tswitch (event.touches.length) {\n\n\t\t\tcase 1:\n\t\t\t\t// one-fingered touch: rotate\n\n\t\t\t\tif (scope.enableRotate === false) return;\n\t\t\t\tif (state !== STATE.TOUCH_ROTATE) return; // is this needed?...\n\n\t\t\t\thandleTouchMoveRotate(event);\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\t// two-fingered touch: dolly\n\n\t\t\t\tif (scope.enableZoom === false) return;\n\t\t\t\tif (state !== STATE.TOUCH_DOLLY) return; // is this needed?...\n\n\t\t\t\thandleTouchMoveDolly(event);\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\t// three-fingered touch: pan\n\n\t\t\t\tif (scope.enablePan === false) return;\n\t\t\t\tif (state !== STATE.TOUCH_PAN) return; // is this needed?...\n\n\t\t\t\thandleTouchMovePan(event);\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\t}\n\n\tfunction onTouchEnd(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\thandleTouchEnd(event);\n\n\t\tscope.dispatchEvent(endEvent);\n\n\t\tstate = STATE.NONE;\n\t}\n\n\tfunction onContextMenu(event) {\n\n\t\tevent.preventDefault();\n\t}\n\n\t//\n\n\tscope.domElement.addEventListener('contextmenu', onContextMenu, false);\n\n\tscope.domElement.addEventListener('mousedown', onMouseDown, false);\n\tscope.domElement.addEventListener('wheel', onMouseWheel, false);\n\n\tscope.domElement.addEventListener('touchstart', onTouchStart, false);\n\tscope.domElement.addEventListener('touchend', onTouchEnd, false);\n\tscope.domElement.addEventListener('touchmove', onTouchMove, false);\n\n\twindow.addEventListener('keydown', onKeyDown, false);\n\n\t// force an update at start\n\n\tthis.update();\n}\n\nOrbitControls.prototype = Object.create(THREE.EventDispatcher.prototype);\nOrbitControls.prototype.constructor = THREE.OrbitControls;\n\nObject.defineProperties(OrbitControls.prototype, {\n\n\tcenter: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .center has been renamed to .target');\n\t\t\treturn this.target;\n\t\t}\n\n\t},\n\n\t// backward compatibility\n\n\tnoZoom: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n\t\t\treturn !this.enableZoom;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n\t\t\tthis.enableZoom = !value;\n\t\t}\n\n\t},\n\n\tnoRotate: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n\t\t\treturn !this.enableRotate;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n\t\t\tthis.enableRotate = !value;\n\t\t}\n\n\t},\n\n\tnoPan: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n\t\t\treturn !this.enablePan;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n\t\t\tthis.enablePan = !value;\n\t\t}\n\n\t},\n\n\tnoKeys: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n\t\t\treturn !this.enableKeys;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n\t\t\tthis.enableKeys = !value;\n\t\t}\n\n\t},\n\n\tstaticMoving: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n\t\t\treturn !this.enableDamping;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n\t\t\tthis.enableDamping = !value;\n\t\t}\n\n\t},\n\n\tdynamicDampingFactor: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n\t\t\treturn this.dampingFactor;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n\t\t\tthis.dampingFactor = value;\n\t\t}\n\n\t}\n\n});\n\n/**\n * @author aleeper / http://adamleeper.com/\n * @author mrdoob / http://mrdoob.com/\n * @author gero3 / https://github.com/gero3\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Description: A THREE loader for STL ASCII files, as created by Solidworks and other CAD programs.\n *\n * Supports both binary and ASCII encoded files, with automatic detection of type.\n *\n * The loader returns a non-indexed buffer geometry.\n *\n * Limitations:\n *  Binary decoding supports \"Magics\" color format (http://en.wikipedia.org/wiki/STL_(file_format)#Color_in_binary_STL).\n *  There is perhaps some question as to how valid it is to always assume little-endian-ness.\n *  ASCII decoding assumes file is UTF-8.\n *\n * Usage:\n *  var loader = new THREE.STLLoader();\n *  loader.load( './models/stl/slotted_disk.stl', function ( geometry ) {\n *    scene.add( new THREE.Mesh( geometry ) );\n *  });\n *\n * For binary STLs geometry might contain colors for vertices. To use it:\n *  // use the same code to load STL as above\n *  if (geometry.hasColors) {\n *    material = new THREE.MeshPhongMaterial({ opacity: geometry.alpha, vertexColors: THREE.VertexColors });\n *  } else { .... }\n *  var mesh = new THREE.Mesh( geometry, material );\n */\n\nfunction STLLoader(manager) {\n\n    this.manager = manager !== undefined ? manager : THREE.DefaultLoadingManager;\n}\n\nSTLLoader.prototype = {\n\n    constructor: STLLoader,\n\n    load: function load(url, onLoad, onProgress, onError) {\n\n        var scope = this;\n\n        var loader = new THREE.FileLoader(scope.manager);\n        loader.setResponseType('arraybuffer');\n        loader.load(url, function (text) {\n\n            onLoad(scope.parse(text));\n        }, onProgress, onError);\n    },\n\n    parse: function parse(data) {\n\n        var isBinary = function isBinary() {\n\n            var expect, face_size, n_faces, reader;\n            reader = new DataView(binData);\n            face_size = 32 / 8 * 3 + 32 / 8 * 3 * 3 + 16 / 8;\n            n_faces = reader.getUint32(80, true);\n            expect = 80 + 32 / 8 + n_faces * face_size;\n\n            if (expect === reader.byteLength) {\n\n                return true;\n            }\n\n            // An ASCII STL data must begin with 'solid ' as the first six bytes.\n            // However, ASCII STLs lacking the SPACE after the 'd' are known to be\n            // plentiful.  So, check the first 5 bytes for 'solid'.\n\n            // US-ASCII ordinal values for 's', 'o', 'l', 'i', 'd'\n            var solid = [115, 111, 108, 105, 100];\n\n            for (var i = 0; i < 5; i++) {\n\n                // If solid[ i ] does not match the i-th byte, then it is not an\n                // ASCII STL; hence, it is binary and return true.\n\n                if (solid[i] != reader.getUint8(i, false)) return true;\n            }\n\n            // First 5 bytes read \"solid\"; declare it to be an ASCII STL\n            return false;\n        };\n\n        var binData = this.ensureBinary(data);\n\n        return isBinary() ? this.parseBinary(binData) : this.parseASCII(this.ensureString(data));\n    },\n\n    parseBinary: function parseBinary(data) {\n\n        var reader = new DataView(data);\n        var faces = reader.getUint32(80, true);\n\n        var r,\n            g,\n            b,\n            hasColors = false,\n            colors;\n        var defaultR, defaultG, defaultB, alpha;\n\n        // process STL header\n        // check for default color in header (\"COLOR=rgba\" sequence).\n\n        for (var index = 0; index < 80 - 10; index++) {\n\n            if (reader.getUint32(index, false) == 0x434F4C4F /*COLO*/ && reader.getUint8(index + 4) == 0x52 /*'R'*/ && reader.getUint8(index + 5) == 0x3D /*'='*/) {\n\n                hasColors = true;\n                colors = [];\n\n                defaultR = reader.getUint8(index + 6) / 255;\n                defaultG = reader.getUint8(index + 7) / 255;\n                defaultB = reader.getUint8(index + 8) / 255;\n                alpha = reader.getUint8(index + 9) / 255;\n            }\n        }\n\n        var dataOffset = 84;\n        var faceLength = 12 * 4 + 2;\n\n        var geometry = new THREE.BufferGeometry();\n\n        var vertices = [];\n        var normals = [];\n\n        for (var face = 0; face < faces; face++) {\n\n            var start = dataOffset + face * faceLength;\n            var normalX = reader.getFloat32(start, true);\n            var normalY = reader.getFloat32(start + 4, true);\n            var normalZ = reader.getFloat32(start + 8, true);\n\n            if (hasColors) {\n\n                var packedColor = reader.getUint16(start + 48, true);\n\n                if ((packedColor & 0x8000) === 0) {\n\n                    // facet has its own unique color\n\n                    r = (packedColor & 0x1F) / 31;\n                    g = (packedColor >> 5 & 0x1F) / 31;\n                    b = (packedColor >> 10 & 0x1F) / 31;\n                } else {\n\n                    r = defaultR;\n                    g = defaultG;\n                    b = defaultB;\n                }\n            }\n\n            for (var i = 1; i <= 3; i++) {\n\n                var vertexstart = start + i * 12;\n\n                vertices.push(reader.getFloat32(vertexstart, true));\n                vertices.push(reader.getFloat32(vertexstart + 4, true));\n                vertices.push(reader.getFloat32(vertexstart + 8, true));\n\n                normals.push(normalX, normalY, normalZ);\n\n                if (hasColors) {\n\n                    colors.push(r, g, b);\n                }\n            }\n        }\n\n        geometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(vertices), 3));\n        geometry.addAttribute('normal', new THREE.BufferAttribute(new Float32Array(normals), 3));\n\n        if (hasColors) {\n\n            geometry.addAttribute('color', new THREE.BufferAttribute(new Float32Array(colors), 3));\n            geometry.hasColors = true;\n            geometry.alpha = alpha;\n        }\n\n        return geometry;\n    },\n\n    parseASCII: function parseASCII(data) {\n\n        var geometry, length, patternFace, patternNormal, patternVertex, result, text;\n        geometry = new THREE.BufferGeometry();\n        patternFace = /facet([\\s\\S]*?)endfacet/g;\n\n        var vertices = [];\n        var normals = [];\n\n        var normal = new THREE.Vector3();\n\n        while ((result = patternFace.exec(data)) !== null) {\n\n            text = result[0];\n            patternNormal = /normal[\\s]+([\\-+]?[0-9]+\\.?[0-9]*([eE][\\-+]?[0-9]+)?)+[\\s]+([\\-+]?[0-9]*\\.?[0-9]+([eE][\\-+]?[0-9]+)?)+[\\s]+([\\-+]?[0-9]*\\.?[0-9]+([eE][\\-+]?[0-9]+)?)+/g;\n\n            while ((result = patternNormal.exec(text)) !== null) {\n\n                normal.x = parseFloat(result[1]);\n                normal.y = parseFloat(result[3]);\n                normal.z = parseFloat(result[5]);\n            }\n\n            patternVertex = /vertex[\\s]+([\\-+]?[0-9]+\\.?[0-9]*([eE][\\-+]?[0-9]+)?)+[\\s]+([\\-+]?[0-9]*\\.?[0-9]+([eE][\\-+]?[0-9]+)?)+[\\s]+([\\-+]?[0-9]*\\.?[0-9]+([eE][\\-+]?[0-9]+)?)+/g;\n\n            while ((result = patternVertex.exec(text)) !== null) {\n\n                vertices.push(parseFloat(result[1]), parseFloat(result[3]), parseFloat(result[5]));\n                normals.push(normal.x, normal.y, normal.z);\n            }\n        }\n\n        geometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(vertices), 3));\n        geometry.addAttribute('normal', new THREE.BufferAttribute(new Float32Array(normals), 3));\n\n        return geometry;\n    },\n\n    ensureString: function ensureString(buf) {\n\n        if (typeof buf !== \"string\") {\n\n            var array_buffer = new Uint8Array(buf);\n            var strArray = [];\n            for (var i = 0; i < buf.byteLength; i++) {\n\n                strArray.push(String.fromCharCode(array_buffer[i])); // implicitly assumes little-endian\n            }\n            return strArray.join('');\n        } else {\n\n            return buf;\n        }\n    },\n\n    ensureBinary: function ensureBinary(buf) {\n\n        if (typeof buf === \"string\") {\n\n            var array_buffer = new Uint8Array(buf.length);\n            for (var i = 0; i < buf.length; i++) {\n\n                array_buffer[i] = buf.charCodeAt(i) & 0xff; // implicitly assumes little-endian\n            }\n            return array_buffer.buffer || array_buffer;\n        } else {\n\n            return buf;\n        }\n    }\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mr.doob / http://mrdoob.com/\n */\n\nvar Detector = {\n\n\tcanvas: !!window.CanvasRenderingContext2D,\n\twebgl: function () {\n\n\t\ttry {\n\n\t\t\tvar canvas = document.createElement('canvas');return !!(window.WebGLRenderingContext && (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));\n\t\t} catch (e) {\n\n\t\t\treturn false;\n\t\t}\n\t}(),\n\tworkers: !!window.Worker,\n\tfileapi: window.File && window.FileReader && window.FileList && window.Blob,\n\n\tgetWebGLErrorMessage: function getWebGLErrorMessage() {\n\n\t\tvar element = document.createElement('div');\n\t\telement.id = 'webgl-error-message';\n\t\telement.style.fontFamily = 'monospace';\n\t\telement.style.fontSize = '13px';\n\t\telement.style.fontWeight = 'normal';\n\t\telement.style.textAlign = 'center';\n\t\telement.style.background = '#fff';\n\t\telement.style.color = '#000';\n\t\telement.style.padding = '1.5em';\n\t\telement.style.width = '400px';\n\t\telement.style.margin = '5em auto 0';\n\n\t\tif (!this.webgl) {\n\n\t\t\telement.innerHTML = window.WebGLRenderingContext ? ['Your graphics card does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">WebGL</a>.<br />', 'Find out how to get it <a href=\"http://get.webgl.org/\" style=\"color:#000\">here</a>.'].join('\\n') : ['Your browser does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">WebGL</a>.<br/>', 'Find out how to get it <a href=\"http://get.webgl.org/\" style=\"color:#000\">here</a>.'].join('\\n');\n\t\t}\n\n\t\treturn element;\n\t},\n\n\taddGetWebGLMessage: function addGetWebGLMessage(parameters) {\n\n\t\tvar parent, id, element;\n\n\t\tparameters = parameters || {};\n\n\t\tparent = parameters.parent !== undefined ? parameters.parent : document.body;\n\t\tid = parameters.id !== undefined ? parameters.id : 'oldie';\n\n\t\telement = Detector.getWebGLErrorMessage();\n\t\telement.id = id;\n\n\t\tparent.appendChild(element);\n\t}\n\n};\n\n/**\n * @author kennethjiang / https://github.com/kennethjiang\n *\n *\n * Description: Seperator Geometry with unconnected islands into their own Geometries\n *\n */\n\nfunction VertexNode(posIndex) {\n    var self = this;\n    self.neighbors = new Set();\n    self.island = undefined;\n\n    self.addNeighbor = function (vertexNode) {\n        if (vertexNode === self) {\n            return;\n        }\n\n        self.neighbors.add(vertexNode);\n        vertexNode.neighbors.add(self);\n    };\n}\n\nfunction VertexGraph(positions, precisionPoints) {\n    var self = this;\n    self.positions = positions;\n    self.precisionPoints = precisionPoints;\n\n    self.verticesMap = new Map(); // map of { vertexKey -> vertexNode }\n\n    self.vertexKeyForPosition = function (posIndex) {\n\n        // 0 -> x; 1 -> y; 2 -> z\n        var _ref = [self.positions[posIndex], self.positions[posIndex + 1], self.positions[posIndex + 2]],\n            x = _ref[0],\n            y = _ref[1],\n            z = _ref[2];\n\n\n        var precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n        var precision = Math.pow(10, precisionPoints);\n        return Math.round(x * precision) + '_' + Math.round(y * precision) + '_' + Math.round(z * precision);\n    };\n\n    self.vertexForPosition = function (posIndex) {\n        return self.verticesMap.get(self.vertexKeyForPosition(posIndex));\n    };\n\n    for (var faceIndex = 0; faceIndex < positions.length; faceIndex += 9) {\n        // a face is 9 positions - 3 vertex x 3 positions\n\n        var verticesOfCurrentFace = [];\n        for (var v = 0; v < 3; v++) {\n            var key = self.vertexKeyForPosition(faceIndex + v * 3);\n\n            if (!self.verticesMap.has(key)) {\n                self.verticesMap.set(key, new VertexNode());\n            }\n\n            verticesOfCurrentFace.push(self.verticesMap.get(key));\n        }\n\n        // Since these 3 vertices are on the same face, they are neighbors on the graph\n        verticesOfCurrentFace[0].addNeighbor(verticesOfCurrentFace[1]);\n        verticesOfCurrentFace[0].addNeighbor(verticesOfCurrentFace[2]);\n    }\n\n    self.islands = function () {\n        var allIslands = [];\n\n        self.verticesMap.forEach(function (vertexNode) {\n\n            if (vertexNode.island) {\n                return;\n            }\n\n            var newIsland = {};\n            self.floodFill(vertexNode, newIsland);\n            allIslands.push(newIsland);\n        });\n\n        return allIslands;\n    };\n\n    self.floodFill = function (start, island) {\n\n        // Breadth-first traversal\n        var queue = [];\n\n        // Mark the source node as visited and enqueue it\n        queue.unshift(start);\n        start.island = island;\n\n        while (queue.length > 0) {\n\n            // Dequeue a vertex from queue and print it\n            var v = queue.pop(0);\n\n            // Get all adjacent vertices of the dequeued\n            // vertex s. If a adjacent has not been visited,\n            // then mark it visited and enqueue it\n            v.neighbors.forEach(function (nextV) {\n\n                if (!nextV.island) {\n                    queue.unshift(nextV);\n                    nextV.island = island;\n                }\n            });\n        }\n    };\n}\n\n/**\n * parameters:\n *   - precisionPoints: number of decimal points, e.g. 4 for epsilon of 0.0001. 2 vertices are considered \"the same\" when they are with the distance defined by precisionPoints\n */\n\nfunction IslandSeparator() {\n    var precisionPoints = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 4;\n\n\n    var self = this;\n\n    self.separate = function (geometry) {\n\n        var originalPositions = geometry.attributes.position.array;\n        var originalNormals = geometry.attributes.normal !== undefined ? geometry.attributes.normal.array : undefined;\n        var originalColors = geometry.attributes.color !== undefined ? geometry.attributes.color.array : undefined;\n\n        var graph = new VertexGraph(originalPositions, precisionPoints);\n        var islands = graph.islands();\n        var verticesMap = graph.verticesMap;\n\n        islands.forEach(function (island) {\n            island.faceIndices = []; // List of position indices the faces (the same as position index of 1st vertex of the face) on this island\n        });\n\n        for (var faceIndex = 0; faceIndex < originalPositions.length; faceIndex += 9) {\n            // a face is 9 positions - 3 vertex x 3 positions\n            var islandOfCurrentFace = graph.vertexForPosition(faceIndex).island;\n            islandOfCurrentFace.faceIndices.push(faceIndex);\n        }\n\n        var geometries = islands.map(function (island) {\n\n            // Adopted from STLLoader.js\n            var geometry = new THREE.BufferGeometry();\n\n            var vertices = [];\n            var normals = [];\n            var colors = [];\n\n            island.faceIndices.forEach(function (faceIndex) {\n\n                for (var i = 0; i < 9; i++) {\n\n                    vertices.push(originalPositions[faceIndex + i]);\n\n                    if (originalNormals) {\n                        normals.push(originalNormals[faceIndex + i]);\n                    }\n\n                    if (originalColors) {\n                        colors.push(originalColors[faceIndex + i]);\n                    }\n                }\n            });\n\n            geometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(vertices), 3));\n\n            if (originalNormals) {\n                geometry.addAttribute('normal', new THREE.BufferAttribute(new Float32Array(normals), 3));\n            }\n\n            if (originalColors) {\n                geometry.addAttribute('color', new THREE.BufferAttribute(new Float32Array(colors), 3));\n            }\n\n            return geometry;\n        });\n\n        return geometries;\n    };\n}\n\n/**\n * @author kovacsv / http://kovacsv.hu/\n * @author mrdoob / http://mrdoob.com/\n * @author mudcube / http://mudcu.be/\n */\n\nfunction STLBinaryExporter() {}\n\nSTLBinaryExporter.prototype = {\n\n\tconstructor: STLBinaryExporter,\n\n\tparse: function () {\n\n\t\tvar vector = new THREE.Vector3();\n\t\tvar normalMatrixWorld = new THREE.Matrix3();\n\n\t\treturn function parse(scene) {\n\n\t\t\t// We collect objects first, as we may need to convert from BufferGeometry to Geometry\n\t\t\tvar objects = [];\n\t\t\tvar triangles = 0;\n\t\t\tscene.traverse(function (object) {\n\n\t\t\t\tif (!(object instanceof THREE.Mesh)) return;\n\n\t\t\t\tvar geometry = object.geometry;\n\t\t\t\tif (geometry instanceof THREE.BufferGeometry) {\n\n\t\t\t\t\tgeometry = new THREE.Geometry().fromBufferGeometry(geometry);\n\t\t\t\t}\n\n\t\t\t\tif (!(geometry instanceof THREE.Geometry)) return;\n\t\t\t\ttriangles += geometry.faces.length;\n\n\t\t\t\tobjects.push({\n\n\t\t\t\t\tgeometry: geometry,\n\t\t\t\t\tmatrix: object.matrixWorld\n\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tvar offset = 80; // skip header\n\t\t\tvar bufferLength = triangles * 2 + triangles * 3 * 4 * 4 + 80 + 4;\n\t\t\tvar arrayBuffer = new ArrayBuffer(bufferLength);\n\t\t\tvar output = new DataView(arrayBuffer);\n\t\t\toutput.setUint32(offset, triangles, true);offset += 4;\n\n\t\t\t// Traversing our collected objects\n\t\t\tobjects.forEach(function (object) {\n\n\t\t\t\tvar vertices = object.geometry.vertices;\n\t\t\t\tvar faces = object.geometry.faces;\n\n\t\t\t\tnormalMatrixWorld.getNormalMatrix(object.matrix);\n\n\t\t\t\tfor (var i = 0, l = faces.length; i < l; i++) {\n\n\t\t\t\t\tvar face = faces[i];\n\n\t\t\t\t\tvector.copy(face.normal).applyMatrix3(normalMatrixWorld).normalize();\n\n\t\t\t\t\toutput.setFloat32(offset, vector.x, true);offset += 4; // normal\n\t\t\t\t\toutput.setFloat32(offset, vector.y, true);offset += 4;\n\t\t\t\t\toutput.setFloat32(offset, vector.z, true);offset += 4;\n\n\t\t\t\t\tvar indices = [face.a, face.b, face.c];\n\n\t\t\t\t\tfor (var j = 0; j < 3; j++) {\n\n\t\t\t\t\t\tvector.copy(vertices[indices[j]]).applyMatrix4(object.matrix);\n\n\t\t\t\t\t\toutput.setFloat32(offset, vector.x, true);offset += 4; // vertices\n\t\t\t\t\t\toutput.setFloat32(offset, vector.y, true);offset += 4;\n\t\t\t\t\t\toutput.setFloat32(offset, vector.z, true);offset += 4;\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.setUint16(offset, 0, true);offset += 2; // attribute byte count\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn output;\n\t\t};\n\t}()\n\n};\n\nexport { TransformControls, OrbitControls, STLLoader, Detector, IslandSeparator, STLBinaryExporter };\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi4uL3NyYy9jb250cm9scy9UcmFuc2Zvcm1Db250cm9scy5qcyIsIi4uL3NyYy9jb250cm9scy9PcmJpdENvbnRyb2xzLmpzIiwiLi4vc3JjL2xvYWRlcnMvU1RMTG9hZGVyLmpzIiwiLi4vc3JjL2hlbHBlcnMvRGV0ZWN0b3IuanMiLCIuLi9zcmMvbW9kaWZpZXJzL0lzbGFuZFNlcGFyYXRvci5qcyIsIi4uL3NyYy9leHBvcnRlcnMvU1RMQmluYXJ5RXhwb3J0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAYXV0aG9yIGFyb2RpYyAvIGh0dHBzOi8vZ2l0aHViLmNvbS9hcm9kaWNcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCBUSFJFRSBmcm9tICd0aHJlZSdcblxuZnVuY3Rpb24gRGVmYXVsdEhhbmRsZXMoKSB7XG5cbiAgICB2YXIgR2l6bW9NYXRlcmlhbCA9IGZ1bmN0aW9uICggcGFyYW1ldGVycyApIHtcblxuICAgICAgICBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbC5jYWxsKCB0aGlzICk7XG5cbiAgICAgICAgdGhpcy5kZXB0aFRlc3QgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZXB0aFdyaXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2lkZSA9IFRIUkVFLkZyb250U2lkZTtcbiAgICAgICAgdGhpcy50cmFuc3BhcmVudCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5zZXRWYWx1ZXMoIHBhcmFtZXRlcnMgKTtcblxuICAgICAgICB0aGlzLm9sZENvbG9yID0gdGhpcy5jb2xvci5jbG9uZSgpO1xuICAgICAgICB0aGlzLm9sZE9wYWNpdHkgPSB0aGlzLm9wYWNpdHk7XG5cbiAgICAgICAgdGhpcy5oaWdobGlnaHQgPSBmdW5jdGlvbiggaGlnaGxpZ2h0ZWQgKSB7XG5cbiAgICAgICAgICAgIGlmICggaGlnaGxpZ2h0ZWQgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yLnNldFJHQiggMSwgMSwgMCApO1xuICAgICAgICAgICAgICAgIHRoaXMub3BhY2l0eSA9IDE7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yLmNvcHkoIHRoaXMub2xkQ29sb3IgKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9wYWNpdHkgPSB0aGlzLm9sZE9wYWNpdHk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9O1xuXG4gICAgfTtcblxuICAgIEdpem1vTWF0ZXJpYWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwucHJvdG90eXBlICk7XG4gICAgR2l6bW9NYXRlcmlhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBHaXptb01hdGVyaWFsO1xuXG5cbiAgICB2YXIgR2l6bW9MaW5lTWF0ZXJpYWwgPSBmdW5jdGlvbiAoIHBhcmFtZXRlcnMgKSB7XG5cbiAgICAgICAgVEhSRUUuTGluZUJhc2ljTWF0ZXJpYWwuY2FsbCggdGhpcyApO1xuXG4gICAgICAgIHRoaXMuZGVwdGhUZXN0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVwdGhXcml0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRyYW5zcGFyZW50ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5saW5ld2lkdGggPSAxO1xuXG4gICAgICAgIHRoaXMuc2V0VmFsdWVzKCBwYXJhbWV0ZXJzICk7XG5cbiAgICAgICAgdGhpcy5vbGRDb2xvciA9IHRoaXMuY29sb3IuY2xvbmUoKTtcbiAgICAgICAgdGhpcy5vbGRPcGFjaXR5ID0gdGhpcy5vcGFjaXR5O1xuXG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0ID0gZnVuY3Rpb24oIGhpZ2hsaWdodGVkICkge1xuXG4gICAgICAgICAgICBpZiAoIGhpZ2hsaWdodGVkICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvci5zZXRSR0IoIDEsIDEsIDAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9wYWNpdHkgPSAxO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvci5jb3B5KCB0aGlzLm9sZENvbG9yICk7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGFjaXR5ID0gdGhpcy5vbGRPcGFjaXR5O1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgIH1cblxuICAgIEdpem1vTGluZU1hdGVyaWFsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFRIUkVFLkxpbmVCYXNpY01hdGVyaWFsLnByb3RvdHlwZSApO1xuICAgIEdpem1vTGluZU1hdGVyaWFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdpem1vTGluZU1hdGVyaWFsO1xuXG4gICAgdmFyIGludmlzaWJsZU1hdGVyaWFsID0gbmV3IEdpem1vTWF0ZXJpYWwoIHsgdmlzaWJsZTogZmFsc2UsIHRyYW5zcGFyZW50OiBmYWxzZSB9ICk7XG5cbiAgICB2YXIgZ2l6bW9Gcm9tTWFwID0gZnVuY3Rpb24oIGdpem1vTWFwICkge1xuXG4gICAgICAgIHZhciBnaXptbyA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuXG4gICAgICAgIGZvciAoIHZhciBuYW1lIGluIGdpem1vTWFwICkge1xuXG4gICAgICAgICAgICBmb3IgKCB2YXIgaSA9IGdpem1vTWFwWyBuYW1lIF0ubGVuZ3RoOyBpIC0tOyApIHtcblxuICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSBnaXptb01hcFsgbmFtZSBdWyBpIF1bIDAgXTtcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBnaXptb01hcFsgbmFtZSBdWyBpIF1bIDEgXTtcbiAgICAgICAgICAgICAgICB2YXIgcm90YXRpb24gPSBnaXptb01hcFsgbmFtZSBdWyBpIF1bIDIgXTtcblxuICAgICAgICAgICAgICAgIG9iamVjdC5uYW1lID0gbmFtZTtcblxuICAgICAgICAgICAgICAgIGlmICggcG9zaXRpb24gKSBvYmplY3QucG9zaXRpb24uc2V0KCBwb3NpdGlvblsgMCBdLCBwb3NpdGlvblsgMSBdLCBwb3NpdGlvblsgMiBdICk7XG4gICAgICAgICAgICAgICAgaWYgKCByb3RhdGlvbiApIG9iamVjdC5yb3RhdGlvbi5zZXQoIHJvdGF0aW9uWyAwIF0sIHJvdGF0aW9uWyAxIF0sIHJvdGF0aW9uWyAyIF0gKTtcblxuICAgICAgICAgICAgICAgIGdpem1vLmFkZCggb2JqZWN0ICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdpem1vO1xuICAgIH07XG5cbiAgICB0aGlzLnRyYW5zbGF0ZUhhbmRsZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFycm93R2VvbWV0cnkgPSBuZXcgVEhSRUUuR2VvbWV0cnkoKTtcbiAgICAgICAgdmFyIG1lc2ggPSBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoIDAsIDAuMDUsIDAuMiwgMTIsIDEsIGZhbHNlICkgKTtcbiAgICAgICAgbWVzaC5wb3NpdGlvbi55ID0gMC41O1xuICAgICAgICBtZXNoLnVwZGF0ZU1hdHJpeCgpO1xuXG4gICAgICAgIGFycm93R2VvbWV0cnkubWVyZ2UoIG1lc2guZ2VvbWV0cnksIG1lc2gubWF0cml4ICk7XG5cbiAgICAgICAgdmFyIGxpbmVYR2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcbiAgICAgICAgbGluZVhHZW9tZXRyeS5hZGRBdHRyaWJ1dGUoICdwb3NpdGlvbicsIG5ldyBUSFJFRS5GbG9hdDMyQnVmZmVyQXR0cmlidXRlKCBbIDAsIDAsIDAsICAxLCAwLCAwIF0sIDMgKSApO1xuXG4gICAgICAgIHZhciBsaW5lWUdlb21ldHJ5ID0gbmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5KCk7XG4gICAgICAgIGxpbmVZR2VvbWV0cnkuYWRkQXR0cmlidXRlKCAncG9zaXRpb24nLCBuZXcgVEhSRUUuRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSggWyAwLCAwLCAwLCAgMCwgMSwgMCBdLCAzICkgKTtcblxuICAgICAgICB2YXIgbGluZVpHZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xuICAgICAgICBsaW5lWkdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoIFsgMCwgMCwgMCwgIDAsIDAsIDEgXSwgMyApICk7XG5cbiAgICAgICAgcmV0dXJuIGdpem1vRnJvbU1hcCh7XG4gICAgICAgICAgICBYOiBbXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggYXJyb3dHZW9tZXRyeSwgbmV3IEdpem1vTWF0ZXJpYWwoIHsgY29sb3I6IDB4ZmYwMDAwIH0gKSApLCBbIDAuNSwgMCwgMCBdLCBbIDAsIDAsIC0gTWF0aC5QSSAvIDIgXSBdLFxuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLkxpbmUoIGxpbmVYR2VvbWV0cnksIG5ldyBHaXptb0xpbmVNYXRlcmlhbCggeyBjb2xvcjogMHhmZjAwMDAgfSApICkgXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuQ3lsaW5kZXJCdWZmZXJHZW9tZXRyeSggMC4yLCAwLCAxLCA0LCAxLCBmYWxzZSApLCBpbnZpc2libGVNYXRlcmlhbCApLCBbIDAuNiwgMCwgMCBdLCBbIDAsIDAsIC0gTWF0aC5QSSAvIDIgXSBdXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBZOiBbXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggYXJyb3dHZW9tZXRyeSwgbmV3IEdpem1vTWF0ZXJpYWwoIHsgY29sb3I6IDB4MDBmZjAwIH0gKSApLCBbIDAsIDAuNSwgMCBdIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTGluZSggbGluZVlHZW9tZXRyeSwgbmV3IEdpem1vTGluZU1hdGVyaWFsKCB7IGNvbG9yOiAweDAwZmYwMCB9ICkgKSBdLFxuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5DeWxpbmRlckJ1ZmZlckdlb21ldHJ5KCAwLjIsIDAsIDEsIDQsIDEsIGZhbHNlICksIGludmlzaWJsZU1hdGVyaWFsICksIFsgMCwgMC42LCAwIF0gXVxuICAgICAgICAgICAgXSxcblxuICAgICAgICAgICAgWjogW1xuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIGFycm93R2VvbWV0cnksIG5ldyBHaXptb01hdGVyaWFsKCB7IGNvbG9yOiAweDAwMDBmZiB9ICkgKSwgWyAwLCAwLCAwLjUgXSwgWyBNYXRoLlBJIC8gMiwgMCwgMCBdIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTGluZSggbGluZVpHZW9tZXRyeSwgbmV3IEdpem1vTGluZU1hdGVyaWFsKCB7IGNvbG9yOiAweDAwMDBmZiB9ICkgKSBdLFxuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5DeWxpbmRlckJ1ZmZlckdlb21ldHJ5KCAwLjIsIDAsIDEsIDQsIDEsIGZhbHNlICksIGludmlzaWJsZU1hdGVyaWFsICksIFsgMCwgMCwgMC42IF0sIFsgTWF0aC5QSSAvIDIsIDAsIDAgXSBdXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBYWVo6IFtcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuT2N0YWhlZHJvbkdlb21ldHJ5KCAwLjEsIDAgKSwgbmV3IEdpem1vTWF0ZXJpYWwoIHsgY29sb3I6IDB4ZmZmZmZmLCBvcGFjaXR5OiAwLjI1IH0gKSApLCBbIDAsIDAsIDAgXSwgWyAwLCAwLCAwIF0gXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuT2N0YWhlZHJvbkdlb21ldHJ5KCAwLjIsIDAgKSwgaW52aXNpYmxlTWF0ZXJpYWwgKSBdXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBYWTogW1xuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5KCAwLjI5LCAwLjI5ICksIG5ldyBHaXptb01hdGVyaWFsKCB7IGNvbG9yOiAweGZmZmYwMCwgb3BhY2l0eTogMC4yNSB9ICkgKSwgWyAwLjE1LCAwLjE1LCAwIF0gXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeSggMC40LCAwLjQgKSwgaW52aXNpYmxlTWF0ZXJpYWwgKSwgWyAwLjIsIDAuMiwgMCBdIF1cbiAgICAgICAgICAgIF0sXG5cbiAgICAgICAgICAgIFlaOiBbXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoIDAuMjksIDAuMjkgKSwgbmV3IEdpem1vTWF0ZXJpYWwoIHsgY29sb3I6IDB4MDBmZmZmLCBvcGFjaXR5OiAwLjI1IH0gKSApLCBbIDAsIDAuMTUsIDAuMTUgXSwgWyAwLCBNYXRoLlBJIC8gMiwgMCBdIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoIDAuNCwgMC40ICksIGludmlzaWJsZU1hdGVyaWFsICksIFsgMCwgMC4yLCAwLjIgXSwgWyAwLCBNYXRoLlBJIC8gMiwgMCBdIF1cbiAgICAgICAgICAgIF0sXG5cbiAgICAgICAgICAgIFhaOiBbXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoIDAuMjksIDAuMjkgKSwgbmV3IEdpem1vTWF0ZXJpYWwoIHsgY29sb3I6IDB4ZmYwMGZmLCBvcGFjaXR5OiAwLjI1IH0gKSApLCBbIDAuMTUsIDAsIDAuMTUgXSwgWyAtIE1hdGguUEkgLyAyLCAwLCAwIF0gXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeSggMC40LCAwLjQgKSwgaW52aXNpYmxlTWF0ZXJpYWwgKSwgWyAwLjIsIDAsIDAuMiBdLCBbIC0gTWF0aC5QSSAvIDIsIDAsIDAgXSBdXG4gICAgICAgICAgICBdXG5cbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgdGhpcy5yb3RhdGVIYW5kbGVzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIENpcmNsZUdlb21ldHJ5ID0gZnVuY3Rpb24gKCByYWRpdXMsIGZhY2luZywgYXJjICkge1xuXG4gICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcbiAgICAgICAgICAgIHZhciB2ZXJ0aWNlcyA9IFtdO1xuICAgICAgICAgICAgYXJjID0gYXJjID8gYXJjIDogMTtcblxuICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDw9IDY0ICogYXJjOyArKyBpICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCBmYWNpbmcgPT09ICd4JyApIHZlcnRpY2VzLnB1c2goIDAsIE1hdGguY29zKCBpIC8gMzIgKiBNYXRoLlBJICkgKiByYWRpdXMsIE1hdGguc2luKCBpIC8gMzIgKiBNYXRoLlBJICkgKiByYWRpdXMgKTtcbiAgICAgICAgICAgICAgICBpZiAoIGZhY2luZyA9PT0gJ3knICkgdmVydGljZXMucHVzaCggTWF0aC5jb3MoIGkgLyAzMiAqIE1hdGguUEkgKSAqIHJhZGl1cywgMCwgTWF0aC5zaW4oIGkgLyAzMiAqIE1hdGguUEkgKSAqIHJhZGl1cyApO1xuICAgICAgICAgICAgICAgIGlmICggZmFjaW5nID09PSAneicgKSB2ZXJ0aWNlcy5wdXNoKCBNYXRoLnNpbiggaSAvIDMyICogTWF0aC5QSSApICogcmFkaXVzLCBNYXRoLmNvcyggaSAvIDMyICogTWF0aC5QSSApICogcmFkaXVzLCAwICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCAncG9zaXRpb24nLCBuZXcgVEhSRUUuRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSggdmVydGljZXMsIDMgKSApO1xuICAgICAgICAgICAgcmV0dXJuIGdlb21ldHJ5O1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGdpem1vRnJvbU1hcCh7XG4gICAgICAgICAgICBYOiBbXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTGluZSggbmV3IENpcmNsZUdlb21ldHJ5KCAxLCAneCcsIDAuNSApLCBuZXcgR2l6bW9MaW5lTWF0ZXJpYWwoIHsgY29sb3I6IDB4ZmYwMDAwIH0gKSApIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLlRvcnVzQnVmZmVyR2VvbWV0cnkoIDEsIDAuMTIsIDQsIDEyLCBNYXRoLlBJICksIGludmlzaWJsZU1hdGVyaWFsICksIFsgMCwgMCwgMCBdLCBbIDAsIC0gTWF0aC5QSSAvIDIsIC0gTWF0aC5QSSAvIDIgXSBdXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBZOiBbXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTGluZSggbmV3IENpcmNsZUdlb21ldHJ5KCAxLCAneScsIDAuNSApLCBuZXcgR2l6bW9MaW5lTWF0ZXJpYWwoIHsgY29sb3I6IDB4MDBmZjAwIH0gKSApIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLlRvcnVzQnVmZmVyR2VvbWV0cnkoIDEsIDAuMTIsIDQsIDEyLCBNYXRoLlBJICksIGludmlzaWJsZU1hdGVyaWFsICksIFsgMCwgMCwgMCBdLCBbIE1hdGguUEkgLyAyLCAwLCAwIF0gXVxuICAgICAgICAgICAgXSxcblxuICAgICAgICAgICAgWjogW1xuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLkxpbmUoIG5ldyBDaXJjbGVHZW9tZXRyeSggMSwgJ3onLCAwLjUgKSwgbmV3IEdpem1vTGluZU1hdGVyaWFsKCB7IGNvbG9yOiAweDAwMDBmZiB9ICkgKSBdLFxuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5Ub3J1c0J1ZmZlckdlb21ldHJ5KCAxLCAwLjEyLCA0LCAxMiwgTWF0aC5QSSApLCBpbnZpc2libGVNYXRlcmlhbCApLCBbIDAsIDAsIDAgXSwgWyAwLCAwLCAtIE1hdGguUEkgLyAyIF0gXVxuICAgICAgICAgICAgXSxcblxuICAgICAgICAgICAgRTogW1xuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLkxpbmUoIG5ldyBDaXJjbGVHZW9tZXRyeSggMS4yNSwgJ3onLCAxICksIG5ldyBHaXptb0xpbmVNYXRlcmlhbCggeyBjb2xvcjogMHhjY2NjMDAgfSApICkgXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuVG9ydXNCdWZmZXJHZW9tZXRyeSggMS4yNSwgMC4xMiwgMiwgMjQgKSwgaW52aXNpYmxlTWF0ZXJpYWwgKSBdXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBYWVpFOiBbXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTGluZSggbmV3IENpcmNsZUdlb21ldHJ5KCAxLCAneicsIDEgKSwgbmV3IEdpem1vTGluZU1hdGVyaWFsKCB7IGNvbG9yOiAweDc4Nzg3OCB9ICkgKSBdLFxuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goKSBdLy8gVE9ET1xuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5zY2FsZUhhbmRsZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFycm93R2VvbWV0cnkgPSBuZXcgVEhSRUUuR2VvbWV0cnkoKTtcbiAgICAgICAgdmFyIG1lc2ggPSBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLkJveEdlb21ldHJ5KCAwLjEyNSwgMC4xMjUsIDAuMTI1ICkgKTtcbiAgICAgICAgbWVzaC5wb3NpdGlvbi55ID0gMC41O1xuICAgICAgICBtZXNoLnVwZGF0ZU1hdHJpeCgpO1xuXG4gICAgICAgIGFycm93R2VvbWV0cnkubWVyZ2UoIG1lc2guZ2VvbWV0cnksIG1lc2gubWF0cml4ICk7XG5cbiAgICAgICAgdmFyIGxpbmVYR2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcbiAgICAgICAgbGluZVhHZW9tZXRyeS5hZGRBdHRyaWJ1dGUoICdwb3NpdGlvbicsIG5ldyBUSFJFRS5GbG9hdDMyQnVmZmVyQXR0cmlidXRlKCBbIDAsIDAsIDAsICAxLCAwLCAwIF0sIDMgKSApO1xuXG4gICAgICAgIHZhciBsaW5lWUdlb21ldHJ5ID0gbmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5KCk7XG4gICAgICAgIGxpbmVZR2VvbWV0cnkuYWRkQXR0cmlidXRlKCAncG9zaXRpb24nLCBuZXcgVEhSRUUuRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSggWyAwLCAwLCAwLCAgMCwgMSwgMCBdLCAzICkgKTtcblxuICAgICAgICB2YXIgbGluZVpHZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xuICAgICAgICBsaW5lWkdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoIFsgMCwgMCwgMCwgIDAsIDAsIDEgXSwgMyApICk7XG5cbiAgICAgICAgcmV0dXJuIGdpem1vRnJvbU1hcCh7XG4gICAgICAgICAgICBYOiBbXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggYXJyb3dHZW9tZXRyeSwgbmV3IEdpem1vTWF0ZXJpYWwoIHsgY29sb3I6IDB4ZmYwMDAwIH0gKSApLCBbIDAuNSwgMCwgMCBdLCBbIDAsIDAsIC0gTWF0aC5QSSAvIDIgXSBdLFxuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLkxpbmUoIGxpbmVYR2VvbWV0cnksIG5ldyBHaXptb0xpbmVNYXRlcmlhbCggeyBjb2xvcjogMHhmZjAwMDAgfSApICkgXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuQ3lsaW5kZXJCdWZmZXJHZW9tZXRyeSggMC4yLCAwLCAxLCA0LCAxLCBmYWxzZSApLCBpbnZpc2libGVNYXRlcmlhbCApLCBbIDAuNiwgMCwgMCBdLCBbIDAsIDAsIC0gTWF0aC5QSSAvIDIgXSBdXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBZOiBbXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggYXJyb3dHZW9tZXRyeSwgbmV3IEdpem1vTWF0ZXJpYWwoIHsgY29sb3I6IDB4MDBmZjAwIH0gKSApLCBbIDAsIDAuNSwgMCBdIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTGluZSggbGluZVlHZW9tZXRyeSwgbmV3IEdpem1vTGluZU1hdGVyaWFsKCB7IGNvbG9yOiAweDAwZmYwMCB9ICkgKSBdLFxuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5DeWxpbmRlckJ1ZmZlckdlb21ldHJ5KCAwLjIsIDAsIDEsIDQsIDEsIGZhbHNlICksIGludmlzaWJsZU1hdGVyaWFsICksIFsgMCwgMC42LCAwIF0gXVxuICAgICAgICAgICAgXSxcblxuICAgICAgICAgICAgWjogW1xuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIGFycm93R2VvbWV0cnksIG5ldyBHaXptb01hdGVyaWFsKCB7IGNvbG9yOiAweDAwMDBmZiB9ICkgKSwgWyAwLCAwLCAwLjUgXSwgWyBNYXRoLlBJIC8gMiwgMCwgMCBdIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTGluZSggbGluZVpHZW9tZXRyeSwgbmV3IEdpem1vTGluZU1hdGVyaWFsKCB7IGNvbG9yOiAweDAwMDBmZiB9ICkgKSBdLFxuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5DeWxpbmRlckJ1ZmZlckdlb21ldHJ5KCAwLjIsIDAsIDEsIDQsIDEsIGZhbHNlICksIGludmlzaWJsZU1hdGVyaWFsICksIFsgMCwgMCwgMC42IF0sIFsgTWF0aC5QSSAvIDIsIDAsIDAgXSBdXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBYWVo6IFtcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuQm94QnVmZmVyR2VvbWV0cnkoIDAuMTI1LCAwLjEyNSwgMC4xMjUgKSwgbmV3IEdpem1vTWF0ZXJpYWwoIHsgY29sb3I6IDB4ZmZmZmZmLCBvcGFjaXR5OiAwLjI1IH0gKSApIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLkJveEJ1ZmZlckdlb21ldHJ5KCAwLjQsIDAuNCwgMC40ICksIGludmlzaWJsZU1hdGVyaWFsICkgXVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcblxuICAgIH07XG5cbn1cblxuZnVuY3Rpb24gVHJhbnNmb3JtR2l6bW8oIGhhbmRsZXMgKSB7XG5cbiAgICB0aGlzLmhhbmRsZXMgPSBoYW5kbGVzO1xuXG4gICAgdGhpcy5pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIFRIUkVFLk9iamVjdDNELmNhbGwoIHRoaXMgKTtcblxuICAgICAgICB0aGlzLmFkZCggdGhpcy5oYW5kbGVzICk7XG5cbiAgICAgICAgdGhpcy5wbGFuZXMgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICAgICAgdGhpcy5hZGQoIHRoaXMucGxhbmVzICk7XG5cbiAgICAgICAgLy8vLyBQTEFORVNcblxuICAgICAgICB2YXIgcGxhbmVHZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5KCA1MCwgNTAsIDIsIDIgKTtcbiAgICAgICAgdmFyIHBsYW5lTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoIHsgdmlzaWJsZTogZmFsc2UsIHNpZGU6IFRIUkVFLkRvdWJsZVNpZGUgfSApO1xuXG4gICAgICAgIHZhciBwbGFuZXMgPSB7XG4gICAgICAgICAgICBcIlhZXCI6ICAgbmV3IFRIUkVFLk1lc2goIHBsYW5lR2VvbWV0cnksIHBsYW5lTWF0ZXJpYWwgKSxcbiAgICAgICAgICAgIFwiWVpcIjogICBuZXcgVEhSRUUuTWVzaCggcGxhbmVHZW9tZXRyeSwgcGxhbmVNYXRlcmlhbCApLFxuICAgICAgICAgICAgXCJYWlwiOiAgIG5ldyBUSFJFRS5NZXNoKCBwbGFuZUdlb21ldHJ5LCBwbGFuZU1hdGVyaWFsICksXG4gICAgICAgICAgICBcIlhZWkVcIjogbmV3IFRIUkVFLk1lc2goIHBsYW5lR2VvbWV0cnksIHBsYW5lTWF0ZXJpYWwgKVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuYWN0aXZlUGxhbmUgPSBwbGFuZXNbIFwiWFlaRVwiIF07XG5cbiAgICAgICAgcGxhbmVzWyBcIllaXCIgXS5yb3RhdGlvbi5zZXQoIDAsIE1hdGguUEkgLyAyLCAwICk7XG4gICAgICAgIHBsYW5lc1sgXCJYWlwiIF0ucm90YXRpb24uc2V0KCAtIE1hdGguUEkgLyAyLCAwLCAwICk7XG5cbiAgICAgICAgZm9yICggdmFyIGkgaW4gcGxhbmVzICkge1xuXG4gICAgICAgICAgICBwbGFuZXNbIGkgXS5uYW1lID0gaTtcbiAgICAgICAgICAgIHRoaXMucGxhbmVzLmFkZCggcGxhbmVzWyBpIF0gKTtcbiAgICAgICAgICAgIHRoaXMucGxhbmVzWyBpIF0gPSBwbGFuZXNbIGkgXTtcblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgVHJhbnNmb3JtYXRpb25zXG5cbiAgICAgICAgdGhpcy50cmF2ZXJzZSggZnVuY3Rpb24gKCBjaGlsZCApIHtcblxuICAgICAgICAgICAgaWYgKCBjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2ggKSB7XG5cbiAgICAgICAgICAgICAgICBjaGlsZC51cGRhdGVNYXRyaXgoKTtcblxuICAgICAgICAgICAgICAgIHZhciB0ZW1wR2VvbWV0cnkgPSBjaGlsZC5nZW9tZXRyeS5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIHRlbXBHZW9tZXRyeS5hcHBseU1hdHJpeCggY2hpbGQubWF0cml4ICk7XG4gICAgICAgICAgICAgICAgY2hpbGQuZ2VvbWV0cnkgPSB0ZW1wR2VvbWV0cnk7XG5cbiAgICAgICAgICAgICAgICBjaGlsZC5wb3NpdGlvbi5zZXQoIDAsIDAsIDAgKTtcbiAgICAgICAgICAgICAgICBjaGlsZC5yb3RhdGlvbi5zZXQoIDAsIDAsIDAgKTtcbiAgICAgICAgICAgICAgICBjaGlsZC5zY2FsZS5zZXQoIDEsIDEsIDEgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gKTtcblxuICAgIH07XG5cbiAgICB0aGlzLnNldEhhbmRsZXMgPSBmdW5jdGlvbiAoIGhhbmRsZXMgKSB7XG5cbiAgICAgICAgdGhpcy5yZW1vdmUoIHRoaXMuaGFuZGxlcyApO1xuICAgICAgICB0aGlzLmhhbmRsZXMgPSBoYW5kbGVzO1xuICAgICAgICBpZiAoIHRoaXMuaGFuZGxlcyAhPT0gbnVsbCApIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKCB0aGlzLmhhbmRsZXMgKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIHRoaXMuaGlnaGxpZ2h0ID0gZnVuY3Rpb24gKCBheGlzICkge1xuXG4gICAgICAgIHRoaXMudHJhdmVyc2UoIGZ1bmN0aW9uKCBjaGlsZCApIHtcblxuICAgICAgICAgICAgaWYgKCBjaGlsZC5tYXRlcmlhbCAmJiBjaGlsZC5tYXRlcmlhbC5oaWdobGlnaHQgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIGNoaWxkLm5hbWUgPT09IGF4aXMgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwuaGlnaGxpZ2h0KCB0cnVlICk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLmhpZ2hsaWdodCggZmFsc2UgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gKTtcblxuICAgIH07XG5cbn1cblxuVHJhbnNmb3JtR2l6bW8ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVEhSRUUuT2JqZWN0M0QucHJvdG90eXBlICk7XG5UcmFuc2Zvcm1HaXptby5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUSFJFRS5UcmFuc2Zvcm1HaXptbztcblxuVHJhbnNmb3JtR2l6bW8ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICggcm90YXRpb24sIGV5ZSApIHtcblxuICAgIHZhciB2ZWMxID0gbmV3IFRIUkVFLlZlY3RvcjMoIDAsIDAsIDAgKTtcbiAgICB2YXIgdmVjMiA9IG5ldyBUSFJFRS5WZWN0b3IzKCAwLCAxLCAwICk7XG4gICAgdmFyIGxvb2tBdE1hdHJpeCA9IG5ldyBUSFJFRS5NYXRyaXg0KCk7XG5cbiAgICB0aGlzLnRyYXZlcnNlKCBmdW5jdGlvbiggY2hpbGQgKSB7XG5cbiAgICAgICAgaWYgKCBjaGlsZC5uYW1lLnNlYXJjaCggXCJFXCIgKSAhPT0gLSAxICkge1xuXG4gICAgICAgICAgICBjaGlsZC5xdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeCggbG9va0F0TWF0cml4Lmxvb2tBdCggZXllLCB2ZWMxLCB2ZWMyICkgKTtcblxuICAgICAgICB9IGVsc2UgaWYgKCBjaGlsZC5uYW1lLnNlYXJjaCggXCJYXCIgKSAhPT0gLSAxIHx8IGNoaWxkLm5hbWUuc2VhcmNoKCBcIllcIiApICE9PSAtIDEgfHwgY2hpbGQubmFtZS5zZWFyY2goIFwiWlwiICkgIT09IC0gMSApIHtcblxuICAgICAgICAgICAgY2hpbGQucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIoIHJvdGF0aW9uICk7XG5cbiAgICAgICAgfVxuXG4gICAgfSApO1xuXG59XG5cbmZ1bmN0aW9uIFRyYW5zZm9ybUdpem1vVHJhbnNsYXRlKCBoYW5kbGVzICkge1xuXG4gICAgVHJhbnNmb3JtR2l6bW8uY2FsbCggdGhpcywgaGFuZGxlcyApO1xuXG4gICAgdGhpcy5zZXRBY3RpdmVQbGFuZSA9IGZ1bmN0aW9uICggYXhpcywgZXllICkge1xuXG4gICAgICAgIHZhciB0ZW1wTWF0cml4ID0gbmV3IFRIUkVFLk1hdHJpeDQoKTtcbiAgICAgICAgZXllLmFwcGx5TWF0cml4NCggdGVtcE1hdHJpeC5nZXRJbnZlcnNlKCB0ZW1wTWF0cml4LmV4dHJhY3RSb3RhdGlvbiggdGhpcy5wbGFuZXNbIFwiWFlcIiBdLm1hdHJpeFdvcmxkICkgKSApO1xuXG4gICAgICAgIGlmICggYXhpcyA9PT0gXCJYXCIgKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYWN0aXZlUGxhbmUgPSB0aGlzLnBsYW5lc1sgXCJYWVwiIF07XG5cbiAgICAgICAgICAgIGlmICggTWF0aC5hYnMoIGV5ZS55ICkgPiBNYXRoLmFicyggZXllLnogKSApIHRoaXMuYWN0aXZlUGxhbmUgPSB0aGlzLnBsYW5lc1sgXCJYWlwiIF07XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggYXhpcyA9PT0gXCJZXCIgKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYWN0aXZlUGxhbmUgPSB0aGlzLnBsYW5lc1sgXCJYWVwiIF07XG5cbiAgICAgICAgICAgIGlmICggTWF0aC5hYnMoIGV5ZS54ICkgPiBNYXRoLmFicyggZXllLnogKSApIHRoaXMuYWN0aXZlUGxhbmUgPSB0aGlzLnBsYW5lc1sgXCJZWlwiIF07XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggYXhpcyA9PT0gXCJaXCIgKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYWN0aXZlUGxhbmUgPSB0aGlzLnBsYW5lc1sgXCJYWlwiIF07XG5cbiAgICAgICAgICAgIGlmICggTWF0aC5hYnMoIGV5ZS54ICkgPiBNYXRoLmFicyggZXllLnkgKSApIHRoaXMuYWN0aXZlUGxhbmUgPSB0aGlzLnBsYW5lc1sgXCJZWlwiIF07XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggYXhpcyA9PT0gXCJYWVpcIiApIHRoaXMuYWN0aXZlUGxhbmUgPSB0aGlzLnBsYW5lc1sgXCJYWVpFXCIgXTtcblxuICAgICAgICBpZiAoIGF4aXMgPT09IFwiWFlcIiApIHRoaXMuYWN0aXZlUGxhbmUgPSB0aGlzLnBsYW5lc1sgXCJYWVwiIF07XG5cbiAgICAgICAgaWYgKCBheGlzID09PSBcIllaXCIgKSB0aGlzLmFjdGl2ZVBsYW5lID0gdGhpcy5wbGFuZXNbIFwiWVpcIiBdO1xuXG4gICAgICAgIGlmICggYXhpcyA9PT0gXCJYWlwiICkgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhaXCIgXTtcblxuICAgIH07XG5cbiAgICB0aGlzLmluaXQoKTtcblxufVxuXG5UcmFuc2Zvcm1HaXptb1RyYW5zbGF0ZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBUcmFuc2Zvcm1HaXptby5wcm90b3R5cGUgKTtcblRyYW5zZm9ybUdpem1vVHJhbnNsYXRlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRyYW5zZm9ybUdpem1vVHJhbnNsYXRlO1xuXG5mdW5jdGlvbiBUcmFuc2Zvcm1HaXptb1JvdGF0ZSggaGFuZGxlcyApIHtcblxuICAgIFRyYW5zZm9ybUdpem1vLmNhbGwoIHRoaXMsIGhhbmRsZXMgKTtcblxuICAgIHRoaXMuc2V0QWN0aXZlUGxhbmUgPSBmdW5jdGlvbiAoIGF4aXMgKSB7XG5cbiAgICAgICAgaWYgKCBheGlzID09PSBcIkVcIiApIHRoaXMuYWN0aXZlUGxhbmUgPSB0aGlzLnBsYW5lc1sgXCJYWVpFXCIgXTtcblxuICAgICAgICBpZiAoIGF4aXMgPT09IFwiWFwiICkgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIllaXCIgXTtcblxuICAgICAgICBpZiAoIGF4aXMgPT09IFwiWVwiICkgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhaXCIgXTtcblxuICAgICAgICBpZiAoIGF4aXMgPT09IFwiWlwiICkgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhZXCIgXTtcblxuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uICggcm90YXRpb24sIGV5ZTIgKSB7XG5cbiAgICAgICAgVHJhbnNmb3JtR2l6bW8ucHJvdG90eXBlLnVwZGF0ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cbiAgICAgICAgdmFyIGdyb3VwID0ge1xuXG4gICAgICAgICAgICBoYW5kbGVzOiB0aGlzWyBcImhhbmRsZXNcIiBdXG5cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgdGVtcE1hdHJpeCA9IG5ldyBUSFJFRS5NYXRyaXg0KCk7XG4gICAgICAgIHZhciB3b3JsZFJvdGF0aW9uID0gbmV3IFRIUkVFLkV1bGVyKCAwLCAwLCAxICk7XG4gICAgICAgIHZhciB0ZW1wUXVhdGVybmlvbiA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XG4gICAgICAgIHZhciB1bml0WCA9IG5ldyBUSFJFRS5WZWN0b3IzKCAxLCAwLCAwICk7XG4gICAgICAgIHZhciB1bml0WSA9IG5ldyBUSFJFRS5WZWN0b3IzKCAwLCAxLCAwICk7XG4gICAgICAgIHZhciB1bml0WiA9IG5ldyBUSFJFRS5WZWN0b3IzKCAwLCAwLCAxICk7XG4gICAgICAgIHZhciBxdWF0ZXJuaW9uWCA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XG4gICAgICAgIHZhciBxdWF0ZXJuaW9uWSA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XG4gICAgICAgIHZhciBxdWF0ZXJuaW9uWiA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XG4gICAgICAgIHZhciBleWUgPSBleWUyLmNsb25lKCk7XG5cbiAgICAgICAgd29ybGRSb3RhdGlvbi5jb3B5KCB0aGlzLnBsYW5lc1sgXCJYWVwiIF0ucm90YXRpb24gKTtcbiAgICAgICAgdGVtcFF1YXRlcm5pb24uc2V0RnJvbUV1bGVyKCB3b3JsZFJvdGF0aW9uICk7XG5cbiAgICAgICAgdGVtcE1hdHJpeC5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbiggdGVtcFF1YXRlcm5pb24gKS5nZXRJbnZlcnNlKCB0ZW1wTWF0cml4ICk7XG4gICAgICAgIGV5ZS5hcHBseU1hdHJpeDQoIHRlbXBNYXRyaXggKTtcblxuICAgICAgICB0aGlzLnRyYXZlcnNlKCBmdW5jdGlvbiggY2hpbGQgKSB7XG5cbiAgICAgICAgICAgIHRlbXBRdWF0ZXJuaW9uLnNldEZyb21FdWxlciggd29ybGRSb3RhdGlvbiApO1xuXG4gICAgICAgICAgICBpZiAoIGNoaWxkLm5hbWUgPT09IFwiWFwiICkge1xuXG4gICAgICAgICAgICAgICAgcXVhdGVybmlvblguc2V0RnJvbUF4aXNBbmdsZSggdW5pdFgsIE1hdGguYXRhbjIoIC0gZXllLnksIGV5ZS56ICkgKTtcbiAgICAgICAgICAgICAgICB0ZW1wUXVhdGVybmlvbi5tdWx0aXBseVF1YXRlcm5pb25zKCB0ZW1wUXVhdGVybmlvbiwgcXVhdGVybmlvblggKTtcbiAgICAgICAgICAgICAgICBjaGlsZC5xdWF0ZXJuaW9uLmNvcHkoIHRlbXBRdWF0ZXJuaW9uICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCBjaGlsZC5uYW1lID09PSBcIllcIiApIHtcblxuICAgICAgICAgICAgICAgIHF1YXRlcm5pb25ZLnNldEZyb21BeGlzQW5nbGUoIHVuaXRZLCBNYXRoLmF0YW4yKCBleWUueCwgZXllLnogKSApO1xuICAgICAgICAgICAgICAgIHRlbXBRdWF0ZXJuaW9uLm11bHRpcGx5UXVhdGVybmlvbnMoIHRlbXBRdWF0ZXJuaW9uLCBxdWF0ZXJuaW9uWSApO1xuICAgICAgICAgICAgICAgIGNoaWxkLnF1YXRlcm5pb24uY29weSggdGVtcFF1YXRlcm5pb24gKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIGNoaWxkLm5hbWUgPT09IFwiWlwiICkge1xuXG4gICAgICAgICAgICAgICAgcXVhdGVybmlvblouc2V0RnJvbUF4aXNBbmdsZSggdW5pdFosIE1hdGguYXRhbjIoIGV5ZS55LCBleWUueCApICk7XG4gICAgICAgICAgICAgICAgdGVtcFF1YXRlcm5pb24ubXVsdGlwbHlRdWF0ZXJuaW9ucyggdGVtcFF1YXRlcm5pb24sIHF1YXRlcm5pb25aICk7XG4gICAgICAgICAgICAgICAgY2hpbGQucXVhdGVybmlvbi5jb3B5KCB0ZW1wUXVhdGVybmlvbiApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSApO1xuXG4gICAgfTtcblxuICAgIHRoaXMuaW5pdCgpO1xuXG59XG5cblRyYW5zZm9ybUdpem1vUm90YXRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFRyYW5zZm9ybUdpem1vLnByb3RvdHlwZSApO1xuVHJhbnNmb3JtR2l6bW9Sb3RhdGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVHJhbnNmb3JtR2l6bW9Sb3RhdGU7XG5cbmZ1bmN0aW9uIFRyYW5zZm9ybUdpem1vU2NhbGUoIGhhbmRsZXMgKSB7XG5cbiAgICBUcmFuc2Zvcm1HaXptby5jYWxsKCB0aGlzLCBoYW5kbGVzICk7XG5cbiAgICB0aGlzLnNldEFjdGl2ZVBsYW5lID0gZnVuY3Rpb24gKCBheGlzLCBleWUgKSB7XG5cbiAgICAgICAgdmFyIHRlbXBNYXRyaXggPSBuZXcgVEhSRUUuTWF0cml4NCgpO1xuICAgICAgICBleWUuYXBwbHlNYXRyaXg0KCB0ZW1wTWF0cml4LmdldEludmVyc2UoIHRlbXBNYXRyaXguZXh0cmFjdFJvdGF0aW9uKCB0aGlzLnBsYW5lc1sgXCJYWVwiIF0ubWF0cml4V29ybGQgKSApICk7XG5cbiAgICAgICAgaWYgKCBheGlzID09PSBcIlhcIiApIHtcblxuICAgICAgICAgICAgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhZXCIgXTtcbiAgICAgICAgICAgIGlmICggTWF0aC5hYnMoIGV5ZS55ICkgPiBNYXRoLmFicyggZXllLnogKSApIHRoaXMuYWN0aXZlUGxhbmUgPSB0aGlzLnBsYW5lc1sgXCJYWlwiIF07XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggYXhpcyA9PT0gXCJZXCIgKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYWN0aXZlUGxhbmUgPSB0aGlzLnBsYW5lc1sgXCJYWVwiIF07XG4gICAgICAgICAgICBpZiAoIE1hdGguYWJzKCBleWUueCApID4gTWF0aC5hYnMoIGV5ZS56ICkgKSB0aGlzLmFjdGl2ZVBsYW5lID0gdGhpcy5wbGFuZXNbIFwiWVpcIiBdO1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIGF4aXMgPT09IFwiWlwiICkge1xuXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVBsYW5lID0gdGhpcy5wbGFuZXNbIFwiWFpcIiBdO1xuICAgICAgICAgICAgaWYgKCBNYXRoLmFicyggZXllLnggKSA+IE1hdGguYWJzKCBleWUueSApICkgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIllaXCIgXTtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBheGlzID09PSBcIlhZWlwiICkgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhZWkVcIiBdO1xuXG4gICAgfTtcblxuICAgIHRoaXMuaW5pdCgpO1xuXG59XG5cblRyYW5zZm9ybUdpem1vU2NhbGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVHJhbnNmb3JtR2l6bW8ucHJvdG90eXBlICk7XG5UcmFuc2Zvcm1HaXptb1NjYWxlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRyYW5zZm9ybUdpem1vU2NhbGU7XG5cbmZ1bmN0aW9uIFRyYW5zZm9ybUNvbnRyb2xzKCBjYW1lcmEsIGRvbUVsZW1lbnQgKSB7XG5cbiAgICAvLyBUT0RPOiBNYWtlIG5vbi11bmlmb3JtIHNjYWxlIGFuZCByb3RhdGUgcGxheSBuaWNlIGluIGhpZXJhcmNoaWVzXG4gICAgLy8gVE9ETzogQUREIFJYWVogY29udG9sXG5cbiAgICBUSFJFRS5PYmplY3QzRC5jYWxsKCB0aGlzICk7XG5cbiAgICBkb21FbGVtZW50ID0gKCBkb21FbGVtZW50ICE9PSB1bmRlZmluZWQgKSA/IGRvbUVsZW1lbnQgOiBkb2N1bWVudDtcblxuICAgIHRoaXMuZGVmYXVsdEhhbmRsZXMgPSBuZXcgRGVmYXVsdEhhbmRsZXMoKTtcblxuICAgIHRoaXMub2JqZWN0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgIHRoaXMudHJhbnNsYXRpb25TbmFwID0gbnVsbDtcbiAgICB0aGlzLnJvdGF0aW9uU25hcCA9IG51bGw7XG4gICAgdGhpcy5zcGFjZSA9IFwid29ybGRcIjtcbiAgICB0aGlzLnNpemUgPSAxO1xuICAgIHRoaXMuYXhpcyA9IG51bGw7XG4gICAgdGhpcy5kcmFnT2JqZWN0ID0gZmFsc2U7XG5cbiAgICB2YXIgc2NvcGUgPSB0aGlzO1xuXG4gICAgdmFyIF9tb2RlID0gXCJ0cmFuc2xhdGVcIjtcbiAgICB2YXIgX2RyYWdnaW5nID0gZmFsc2U7XG4gICAgdmFyIF9wbGFuZSA9IFwiWFlcIjtcbiAgICB2YXIgX2dpem1vID0ge1xuICAgICAgICBcInRyYW5zbGF0ZVwiOiBuZXcgVHJhbnNmb3JtR2l6bW9UcmFuc2xhdGUoIHNjb3BlLmRlZmF1bHRIYW5kbGVzLnRyYW5zbGF0ZUhhbmRsZXMoKSApLFxuICAgICAgICBcInJvdGF0ZVwiOiBuZXcgVHJhbnNmb3JtR2l6bW9Sb3RhdGUoIHNjb3BlLmRlZmF1bHRIYW5kbGVzLnJvdGF0ZUhhbmRsZXMoKSApLFxuICAgICAgICBcInNjYWxlXCI6IG5ldyBUcmFuc2Zvcm1HaXptb1NjYWxlKCBzY29wZS5kZWZhdWx0SGFuZGxlcy5zY2FsZUhhbmRsZXMoKSApXG4gICAgfTtcblxuICAgIGZvciAoIHZhciB0eXBlIGluIF9naXptbyApIHtcblxuICAgICAgICB2YXIgZ2l6bW9PYmogPSBfZ2l6bW9bIHR5cGUgXTtcblxuICAgICAgICBnaXptb09iai52aXNpYmxlID0gKCB0eXBlID09PSBfbW9kZSApO1xuICAgICAgICB0aGlzLmFkZCggZ2l6bW9PYmogKTtcblxuICAgIH1cblxuICAgIHZhciBjaGFuZ2VFdmVudCA9IHsgdHlwZTogXCJjaGFuZ2VcIiB9O1xuICAgIHZhciBtb3VzZURvd25FdmVudCA9IHsgdHlwZTogXCJtb3VzZURvd25cIiB9O1xuICAgIHZhciBtb3VzZVVwRXZlbnQgPSB7IHR5cGU6IFwibW91c2VVcFwiLCBtb2RlOiBfbW9kZSB9O1xuICAgIHZhciBvYmplY3RDaGFuZ2VFdmVudCA9IHsgdHlwZTogXCJvYmplY3RDaGFuZ2VcIiB9O1xuXG4gICAgdmFyIHJheSA9IG5ldyBUSFJFRS5SYXljYXN0ZXIoKTtcbiAgICByYXkubGluZVByZWNpc2lvbiA9IDAuMDE7XG4gICAgdmFyIHBvaW50ZXJWZWN0b3IgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXG4gICAgdmFyIHBvaW50ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB2YXIgb2Zmc2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuICAgIHZhciByb3RhdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgdmFyIG9mZnNldFJvdGF0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB2YXIgc2NhbGUgPSAxO1xuXG4gICAgdmFyIGxvb2tBdE1hdHJpeCA9IG5ldyBUSFJFRS5NYXRyaXg0KCk7XG4gICAgdmFyIGV5ZSA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cbiAgICB2YXIgdGVtcE1hdHJpeCA9IG5ldyBUSFJFRS5NYXRyaXg0KCk7XG4gICAgdmFyIHRlbXBWZWN0b3IgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHZhciB0ZW1wUXVhdGVybmlvbiA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XG4gICAgdmFyIHVuaXRYID0gbmV3IFRIUkVFLlZlY3RvcjMoIDEsIDAsIDAgKTtcbiAgICB2YXIgdW5pdFkgPSBuZXcgVEhSRUUuVmVjdG9yMyggMCwgMSwgMCApO1xuICAgIHZhciB1bml0WiA9IG5ldyBUSFJFRS5WZWN0b3IzKCAwLCAwLCAxICk7XG5cbiAgICB2YXIgcXVhdGVybmlvblhZWiA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XG4gICAgdmFyIHF1YXRlcm5pb25YID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcbiAgICB2YXIgcXVhdGVybmlvblkgPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuICAgIHZhciBxdWF0ZXJuaW9uWiA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XG4gICAgdmFyIHF1YXRlcm5pb25FID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcblxuICAgIHZhciBvbGRQb3NpdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgdmFyIG9sZFNjYWxlID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB2YXIgb2xkUm90YXRpb25NYXRyaXggPSBuZXcgVEhSRUUuTWF0cml4NCgpO1xuXG4gICAgdmFyIHBhcmVudFJvdGF0aW9uTWF0cml4ICA9IG5ldyBUSFJFRS5NYXRyaXg0KCk7XG4gICAgdmFyIHBhcmVudFNjYWxlID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuICAgIHZhciB3b3JsZFBvc2l0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB2YXIgd29ybGRSb3RhdGlvbiA9IG5ldyBUSFJFRS5FdWxlcigpO1xuICAgIHZhciB3b3JsZFJvdGF0aW9uTWF0cml4ICA9IG5ldyBUSFJFRS5NYXRyaXg0KCk7XG4gICAgdmFyIGNhbVBvc2l0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB2YXIgY2FtUm90YXRpb24gPSBuZXcgVEhSRUUuRXVsZXIoKTtcblxuICAgIGRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJtb3VzZWRvd25cIiwgb25Qb2ludGVyRG93biwgZmFsc2UgKTtcbiAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwidG91Y2hzdGFydFwiLCBvblBvaW50ZXJEb3duLCBmYWxzZSApO1xuXG4gICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCBcIm1vdXNlbW92ZVwiLCBvblBvaW50ZXJIb3ZlciwgZmFsc2UgKTtcbiAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwidG91Y2htb3ZlXCIsIG9uUG9pbnRlckhvdmVyLCBmYWxzZSApO1xuXG4gICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCBcIm1vdXNlbW92ZVwiLCBvblBvaW50ZXJNb3ZlLCBmYWxzZSApO1xuICAgIGRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJ0b3VjaG1vdmVcIiwgb25Qb2ludGVyTW92ZSwgZmFsc2UgKTtcblxuICAgIGRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJtb3VzZXVwXCIsIG9uUG9pbnRlclVwLCBmYWxzZSApO1xuICAgIGRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJtb3VzZW91dFwiLCBvblBvaW50ZXJVcCwgZmFsc2UgKTtcbiAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwidG91Y2hlbmRcIiwgb25Qb2ludGVyVXAsIGZhbHNlICk7XG4gICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCBcInRvdWNoY2FuY2VsXCIsIG9uUG9pbnRlclVwLCBmYWxzZSApO1xuICAgIGRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJ0b3VjaGxlYXZlXCIsIG9uUG9pbnRlclVwLCBmYWxzZSApO1xuXG4gICAgdGhpcy5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJtb3VzZWRvd25cIiwgb25Qb2ludGVyRG93biApO1xuICAgICAgICBkb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwidG91Y2hzdGFydFwiLCBvblBvaW50ZXJEb3duICk7XG5cbiAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcIm1vdXNlbW92ZVwiLCBvblBvaW50ZXJIb3ZlciApO1xuICAgICAgICBkb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwidG91Y2htb3ZlXCIsIG9uUG9pbnRlckhvdmVyICk7XG5cbiAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcIm1vdXNlbW92ZVwiLCBvblBvaW50ZXJNb3ZlICk7XG4gICAgICAgIGRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJ0b3VjaG1vdmVcIiwgb25Qb2ludGVyTW92ZSApO1xuXG4gICAgICAgIGRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJtb3VzZXVwXCIsIG9uUG9pbnRlclVwICk7XG4gICAgICAgIGRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJtb3VzZW91dFwiLCBvblBvaW50ZXJVcCApO1xuICAgICAgICBkb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwidG91Y2hlbmRcIiwgb25Qb2ludGVyVXAgKTtcbiAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcInRvdWNoY2FuY2VsXCIsIG9uUG9pbnRlclVwICk7XG4gICAgICAgIGRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJ0b3VjaGxlYXZlXCIsIG9uUG9pbnRlclVwICk7XG5cbiAgICB9O1xuXG4gICAgdGhpcy5hdHRhY2ggPSBmdW5jdGlvbiAoIG9iamVjdCApIHtcblxuICAgICAgICB0aGlzLm9iamVjdCA9IG9iamVjdDtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcblxuICAgIH07XG5cbiAgICB0aGlzLmRldGFjaCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB0aGlzLm9iamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYXhpcyA9IG51bGw7XG5cbiAgICB9O1xuXG4gICAgdGhpcy5nZXRNb2RlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHJldHVybiBfbW9kZTtcblxuICAgIH07XG5cbiAgICB0aGlzLnNldE1vZGUgPSBmdW5jdGlvbiAoIG1vZGUgKSB7XG5cbiAgICAgICAgX21vZGUgPSBtb2RlID8gbW9kZSA6IF9tb2RlO1xuXG4gICAgICAgIGlmICggX21vZGUgPT09IFwic2NhbGVcIiApIHNjb3BlLnNwYWNlID0gXCJsb2NhbFwiO1xuXG4gICAgICAgIGZvciAoIHZhciB0eXBlIGluIF9naXptbyApIF9naXptb1sgdHlwZSBdLnZpc2libGUgPSAoIHR5cGUgPT09IF9tb2RlICk7XG5cbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgc2NvcGUuZGlzcGF0Y2hFdmVudCggY2hhbmdlRXZlbnQgKTtcblxuICAgIH07XG5cbiAgICB0aGlzLnNldFRyYW5zbGF0aW9uU25hcCA9IGZ1bmN0aW9uICggdHJhbnNsYXRpb25TbmFwICkge1xuXG4gICAgICAgIHNjb3BlLnRyYW5zbGF0aW9uU25hcCA9IHRyYW5zbGF0aW9uU25hcDtcblxuICAgIH07XG5cbiAgICB0aGlzLnNldFJvdGF0aW9uU25hcCA9IGZ1bmN0aW9uICggcm90YXRpb25TbmFwICkge1xuXG4gICAgICAgIHNjb3BlLnJvdGF0aW9uU25hcCA9IHJvdGF0aW9uU25hcDtcblxuICAgIH07XG5cbiAgICB0aGlzLnNldFNpemUgPSBmdW5jdGlvbiAoIHNpemUgKSB7XG5cbiAgICAgICAgc2NvcGUuc2l6ZSA9IHNpemU7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoIGNoYW5nZUV2ZW50ICk7XG5cbiAgICB9O1xuXG4gICAgdGhpcy5zZXRTcGFjZSA9IGZ1bmN0aW9uICggc3BhY2UgKSB7XG5cbiAgICAgICAgc2NvcGUuc3BhY2UgPSBzcGFjZTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgc2NvcGUuZGlzcGF0Y2hFdmVudCggY2hhbmdlRXZlbnQgKTtcblxuICAgIH07XG5cbiAgICB0aGlzLnNldEhhbmRsZXMgPSBmdW5jdGlvbiAoIG1vZGUsIGhhbmRsZXMgKSB7XG5cbiAgICAgICAgX2dpem1vWyBtb2RlIF0uc2V0SGFuZGxlcyggaGFuZGxlcyApO1xuICAgICAgICBzY29wZS51cGRhdGUoKTtcbiAgICAgICAgc2NvcGUuZGlzcGF0Y2hFdmVudCggY2hhbmdlRXZlbnQgKTtcblxuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAoIHNjb3BlLm9iamVjdCA9PT0gdW5kZWZpbmVkICkgcmV0dXJuO1xuXG4gICAgICAgIHNjb3BlLm9iamVjdC51cGRhdGVNYXRyaXhXb3JsZCgpO1xuICAgICAgICB3b3JsZFBvc2l0aW9uLnNldEZyb21NYXRyaXhQb3NpdGlvbiggc2NvcGUub2JqZWN0Lm1hdHJpeFdvcmxkICk7XG4gICAgICAgIHdvcmxkUm90YXRpb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KCB0ZW1wTWF0cml4LmV4dHJhY3RSb3RhdGlvbiggc2NvcGUub2JqZWN0Lm1hdHJpeFdvcmxkICkgKTtcblxuICAgICAgICBjYW1lcmEudXBkYXRlTWF0cml4V29ybGQoKTtcbiAgICAgICAgY2FtUG9zaXRpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKCBjYW1lcmEubWF0cml4V29ybGQgKTtcbiAgICAgICAgY2FtUm90YXRpb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KCB0ZW1wTWF0cml4LmV4dHJhY3RSb3RhdGlvbiggY2FtZXJhLm1hdHJpeFdvcmxkICkgKTtcblxuICAgICAgICBzY2FsZSA9IHdvcmxkUG9zaXRpb24uZGlzdGFuY2VUbyggY2FtUG9zaXRpb24gKSAvIDYgKiBzY29wZS5zaXplO1xuICAgICAgICB0aGlzLnBvc2l0aW9uLmNvcHkoIHdvcmxkUG9zaXRpb24gKTtcbiAgICAgICAgdGhpcy5zY2FsZS5zZXQoIHNjYWxlLCBzY2FsZSwgc2NhbGUgKTtcblxuICAgICAgICBpZiAoIGNhbWVyYSBpbnN0YW5jZW9mIFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhICkge1xuXG4gICAgICAgICAgICBleWUuY29weSggY2FtUG9zaXRpb24gKS5zdWIoIHdvcmxkUG9zaXRpb24gKS5ub3JtYWxpemUoKTtcblxuICAgICAgICB9IGVsc2UgaWYgKCBjYW1lcmEgaW5zdGFuY2VvZiBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEgKSB7XG5cbiAgICAgICAgICAgIGV5ZS5jb3B5KCBjYW1Qb3NpdGlvbiApLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIHNjb3BlLnNwYWNlID09PSBcImxvY2FsXCIgKSB7XG5cbiAgICAgICAgICAgIF9naXptb1sgX21vZGUgXS51cGRhdGUoIHdvcmxkUm90YXRpb24sIGV5ZSApO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoIHNjb3BlLnNwYWNlID09PSBcIndvcmxkXCIgKSB7XG5cbiAgICAgICAgICAgIF9naXptb1sgX21vZGUgXS51cGRhdGUoIG5ldyBUSFJFRS5FdWxlcigpLCBleWUgKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgX2dpem1vWyBfbW9kZSBdLmhpZ2hsaWdodCggc2NvcGUuYXhpcyApO1xuXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG9uUG9pbnRlckhvdmVyKCBldmVudCApIHtcblxuICAgICAgICBpZiAoIHNjb3BlLm9iamVjdCA9PT0gdW5kZWZpbmVkIHx8IF9kcmFnZ2luZyA9PT0gdHJ1ZSB8fCBfZ2l6bW9bIF9tb2RlIF0uaGFuZGxlcyA9PT0gbnVsbCB8fCAoIGV2ZW50LmJ1dHRvbiAhPT0gdW5kZWZpbmVkICYmIGV2ZW50LmJ1dHRvbiAhPT0gMCApICkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBwb2ludGVyID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMgPyBldmVudC5jaGFuZ2VkVG91Y2hlc1sgMCBdIDogZXZlbnQ7XG5cbiAgICAgICAgdmFyIGludGVyc2VjdCA9IGludGVyc2VjdE9iamVjdHMoIHBvaW50ZXIsIF9naXptb1sgX21vZGUgXS5oYW5kbGVzLmNoaWxkcmVuICk7XG5cbiAgICAgICAgdmFyIGF4aXMgPSBudWxsO1xuXG4gICAgICAgIGlmICggaW50ZXJzZWN0ICkge1xuXG4gICAgICAgICAgICBheGlzID0gaW50ZXJzZWN0Lm9iamVjdC5uYW1lO1xuXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIHNjb3BlLmF4aXMgIT09IGF4aXMgKSB7XG5cbiAgICAgICAgICAgIHNjb3BlLmF4aXMgPSBheGlzO1xuICAgICAgICAgICAgc2NvcGUudXBkYXRlKCk7XG4gICAgICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KCBjaGFuZ2VFdmVudCApO1xuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uUG9pbnRlckRvd24oIGV2ZW50ICkge1xuXG4gICAgICAgIGlmICggc2NvcGUub2JqZWN0ID09PSB1bmRlZmluZWQgfHwgX2RyYWdnaW5nID09PSB0cnVlIHx8ICggZXZlbnQuYnV0dG9uICE9PSB1bmRlZmluZWQgJiYgZXZlbnQuYnV0dG9uICE9PSAwICkgKSByZXR1cm47XG5cbiAgICAgICAgdmFyIHBvaW50ZXIgPSBldmVudC5jaGFuZ2VkVG91Y2hlcyA/IGV2ZW50LmNoYW5nZWRUb3VjaGVzWyAwIF0gOiBldmVudDtcblxuICAgICAgICBpZiAoIHBvaW50ZXIuYnV0dG9uID09PSAwIHx8IHBvaW50ZXIuYnV0dG9uID09PSB1bmRlZmluZWQgKSB7XG5cbiAgICAgICAgICAgIGlmICggX2dpem1vWyBfbW9kZSBdLmhhbmRsZXMgIT09IG51bGwgKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJzZWN0ID0gaW50ZXJzZWN0T2JqZWN0cyggcG9pbnRlciwgX2dpem1vWyBfbW9kZSBdLmhhbmRsZXMuY2hpbGRyZW4gKTtcblxuICAgICAgICAgICAgICAgIGlmICggISBpbnRlcnNlY3QgKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgc2NvcGUuZGlzcGF0Y2hFdmVudCggbW91c2VEb3duRXZlbnQgKTtcblxuICAgICAgICAgICAgICAgIHNjb3BlLmF4aXMgPSBpbnRlcnNlY3Qub2JqZWN0Lm5hbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggISBzY29wZS5heGlzICkgcmV0dXJuIDtcblxuICAgICAgICAgICAgc2NvcGUudXBkYXRlKCk7XG5cbiAgICAgICAgICAgIGV5ZS5jb3B5KCBjYW1Qb3NpdGlvbiApLnN1Yiggd29ybGRQb3NpdGlvbiApLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAgICAgICBfZ2l6bW9bIF9tb2RlIF0uc2V0QWN0aXZlUGxhbmUoIHNjb3BlLmF4aXMsIGV5ZSApO1xuXG4gICAgICAgICAgICB2YXIgcGxhbmVJbnRlcnNlY3QgPSBpbnRlcnNlY3RPYmplY3RzKCBwb2ludGVyLCBbIF9naXptb1sgX21vZGUgXS5hY3RpdmVQbGFuZSBdICk7XG5cbiAgICAgICAgICAgIGlmICggcGxhbmVJbnRlcnNlY3QgKSB7XG5cbiAgICAgICAgICAgICAgICBvbGRQb3NpdGlvbi5jb3B5KCBzY29wZS5vYmplY3QucG9zaXRpb24gKTtcbiAgICAgICAgICAgICAgICBvbGRTY2FsZS5jb3B5KCBzY29wZS5vYmplY3Quc2NhbGUgKTtcblxuICAgICAgICAgICAgICAgIG9sZFJvdGF0aW9uTWF0cml4LmV4dHJhY3RSb3RhdGlvbiggc2NvcGUub2JqZWN0Lm1hdHJpeCApO1xuICAgICAgICAgICAgICAgIHdvcmxkUm90YXRpb25NYXRyaXguZXh0cmFjdFJvdGF0aW9uKCBzY29wZS5vYmplY3QubWF0cml4V29ybGQgKTtcblxuICAgICAgICAgICAgICAgIHBhcmVudFJvdGF0aW9uTWF0cml4LmV4dHJhY3RSb3RhdGlvbiggc2NvcGUub2JqZWN0LnBhcmVudC5tYXRyaXhXb3JsZCApO1xuICAgICAgICAgICAgICAgIHBhcmVudFNjYWxlLnNldEZyb21NYXRyaXhTY2FsZSggdGVtcE1hdHJpeC5nZXRJbnZlcnNlKCBzY29wZS5vYmplY3QucGFyZW50Lm1hdHJpeFdvcmxkICkgKTtcblxuICAgICAgICAgICAgICAgIG9mZnNldC5jb3B5KCBwbGFuZUludGVyc2VjdC5wb2ludCApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIF9kcmFnZ2luZyA9IHRydWU7XG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblBvaW50ZXJNb3ZlKCBldmVudCApIHtcblxuICAgICAgICBpZiAoIHNjb3BlLm9iamVjdCA9PT0gdW5kZWZpbmVkIHx8IHNjb3BlLmF4aXMgPT09IG51bGwgfHwgX2RyYWdnaW5nID09PSBmYWxzZSB8fCAoIGV2ZW50LmJ1dHRvbiAhPT0gdW5kZWZpbmVkICYmIGV2ZW50LmJ1dHRvbiAhPT0gMCApICkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBwb2ludGVyID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMgPyBldmVudC5jaGFuZ2VkVG91Y2hlc1sgMCBdIDogZXZlbnQ7XG5cbiAgICAgICAgdmFyIHBsYW5lSW50ZXJzZWN0ID0gaW50ZXJzZWN0T2JqZWN0cyggcG9pbnRlciwgWyBfZ2l6bW9bIF9tb2RlIF0uYWN0aXZlUGxhbmUgXSApO1xuXG4gICAgICAgIGlmICggcGxhbmVJbnRlcnNlY3QgPT09IGZhbHNlICkgcmV0dXJuO1xuXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIHBvaW50LmNvcHkoIHBsYW5lSW50ZXJzZWN0LnBvaW50ICk7XG5cbiAgICAgICAgaWYgKCBfbW9kZSA9PT0gXCJ0cmFuc2xhdGVcIiApIHtcblxuICAgICAgICAgICAgcG9pbnQuc3ViKCBvZmZzZXQgKTtcbiAgICAgICAgICAgIHBvaW50Lm11bHRpcGx5KCBwYXJlbnRTY2FsZSApO1xuXG4gICAgICAgICAgICBpZiAoIHNjb3BlLnNwYWNlID09PSBcImxvY2FsXCIgKSB7XG5cbiAgICAgICAgICAgICAgICBwb2ludC5hcHBseU1hdHJpeDQoIHRlbXBNYXRyaXguZ2V0SW52ZXJzZSggd29ybGRSb3RhdGlvbk1hdHJpeCApICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHNjb3BlLmF4aXMuc2VhcmNoKCBcIlhcIiApID09PSAtIDEgKSBwb2ludC54ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoIHNjb3BlLmF4aXMuc2VhcmNoKCBcIllcIiApID09PSAtIDEgKSBwb2ludC55ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoIHNjb3BlLmF4aXMuc2VhcmNoKCBcIlpcIiApID09PSAtIDEgKSBwb2ludC56ID0gMDtcblxuICAgICAgICAgICAgICAgIHBvaW50LmFwcGx5TWF0cml4NCggb2xkUm90YXRpb25NYXRyaXggKTtcblxuICAgICAgICAgICAgICAgIHNjb3BlLm9iamVjdC5wb3NpdGlvbi5jb3B5KCBvbGRQb3NpdGlvbiApO1xuICAgICAgICAgICAgICAgIHNjb3BlLm9iamVjdC5wb3NpdGlvbi5hZGQoIHBvaW50ICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCBzY29wZS5zcGFjZSA9PT0gXCJ3b3JsZFwiIHx8IHNjb3BlLmF4aXMuc2VhcmNoKCBcIlhZWlwiICkgIT09IC0gMSApIHtcblxuICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcy5zZWFyY2goIFwiWFwiICkgPT09IC0gMSApIHBvaW50LnggPSAwO1xuICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcy5zZWFyY2goIFwiWVwiICkgPT09IC0gMSApIHBvaW50LnkgPSAwO1xuICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcy5zZWFyY2goIFwiWlwiICkgPT09IC0gMSApIHBvaW50LnogPSAwO1xuXG4gICAgICAgICAgICAgICAgcG9pbnQuYXBwbHlNYXRyaXg0KCB0ZW1wTWF0cml4LmdldEludmVyc2UoIHBhcmVudFJvdGF0aW9uTWF0cml4ICkgKTtcblxuICAgICAgICAgICAgICAgIHNjb3BlLm9iamVjdC5wb3NpdGlvbi5jb3B5KCBvbGRQb3NpdGlvbiApO1xuICAgICAgICAgICAgICAgIHNjb3BlLm9iamVjdC5wb3NpdGlvbi5hZGQoIHBvaW50ICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCBzY29wZS50cmFuc2xhdGlvblNuYXAgIT09IG51bGwgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHNjb3BlLnNwYWNlID09PSBcImxvY2FsXCIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LnBvc2l0aW9uLmFwcGx5TWF0cml4NCggdGVtcE1hdHJpeC5nZXRJbnZlcnNlKCB3b3JsZFJvdGF0aW9uTWF0cml4ICkgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcy5zZWFyY2goIFwiWFwiICkgIT09IC0gMSApIHNjb3BlLm9iamVjdC5wb3NpdGlvbi54ID0gTWF0aC5yb3VuZCggc2NvcGUub2JqZWN0LnBvc2l0aW9uLnggLyBzY29wZS50cmFuc2xhdGlvblNuYXAgKSAqIHNjb3BlLnRyYW5zbGF0aW9uU25hcDtcbiAgICAgICAgICAgICAgICBpZiAoIHNjb3BlLmF4aXMuc2VhcmNoKCBcIllcIiApICE9PSAtIDEgKSBzY29wZS5vYmplY3QucG9zaXRpb24ueSA9IE1hdGgucm91bmQoIHNjb3BlLm9iamVjdC5wb3NpdGlvbi55IC8gc2NvcGUudHJhbnNsYXRpb25TbmFwICkgKiBzY29wZS50cmFuc2xhdGlvblNuYXA7XG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5heGlzLnNlYXJjaCggXCJaXCIgKSAhPT0gLSAxICkgc2NvcGUub2JqZWN0LnBvc2l0aW9uLnogPSBNYXRoLnJvdW5kKCBzY29wZS5vYmplY3QucG9zaXRpb24ueiAvIHNjb3BlLnRyYW5zbGF0aW9uU25hcCApICogc2NvcGUudHJhbnNsYXRpb25TbmFwO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5zcGFjZSA9PT0gXCJsb2NhbFwiICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLm9iamVjdC5wb3NpdGlvbi5hcHBseU1hdHJpeDQoIHdvcmxkUm90YXRpb25NYXRyaXggKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSBpZiAoIF9tb2RlID09PSBcInNjYWxlXCIgKSB7XG5cbiAgICAgICAgICAgIHBvaW50LnN1Yiggb2Zmc2V0ICk7XG4gICAgICAgICAgICBwb2ludC5tdWx0aXBseSggcGFyZW50U2NhbGUgKTtcblxuICAgICAgICAgICAgaWYgKCBzY29wZS5zcGFjZSA9PT0gXCJsb2NhbFwiICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5heGlzID09PSBcIlhZWlwiICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlID0gMSArICggKCBwb2ludC55ICkgLyBNYXRoLm1heCggb2xkU2NhbGUueCwgb2xkU2NhbGUueSwgb2xkU2NhbGUueiApICk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LnNjYWxlLnggPSBvbGRTY2FsZS54ICogc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLm9iamVjdC5zY2FsZS55ID0gb2xkU2NhbGUueSAqIHNjYWxlO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5vYmplY3Quc2NhbGUueiA9IG9sZFNjYWxlLnogKiBzY2FsZTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcG9pbnQuYXBwbHlNYXRyaXg0KCB0ZW1wTWF0cml4LmdldEludmVyc2UoIHdvcmxkUm90YXRpb25NYXRyaXggKSApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcyA9PT0gXCJYXCIgKSBzY29wZS5vYmplY3Quc2NhbGUueCA9IG9sZFNjYWxlLnggKiAoIDEgKyBwb2ludC54IC8gb2xkU2NhbGUueCApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIHNjb3BlLmF4aXMgPT09IFwiWVwiICkgc2NvcGUub2JqZWN0LnNjYWxlLnkgPSBvbGRTY2FsZS55ICogKCAxICsgcG9pbnQueSAvIG9sZFNjYWxlLnkgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBzY29wZS5heGlzID09PSBcIlpcIiApIHNjb3BlLm9iamVjdC5zY2FsZS56ID0gb2xkU2NhbGUueiAqICggMSArIHBvaW50LnogLyBvbGRTY2FsZS56ICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgaWYgKCBfbW9kZSA9PT0gXCJyb3RhdGVcIiApIHtcblxuICAgICAgICAgICAgcG9pbnQuc3ViKCB3b3JsZFBvc2l0aW9uICk7XG4gICAgICAgICAgICBwb2ludC5tdWx0aXBseSggcGFyZW50U2NhbGUgKTtcbiAgICAgICAgICAgIHRlbXBWZWN0b3IuY29weSggb2Zmc2V0ICkuc3ViKCB3b3JsZFBvc2l0aW9uICk7XG4gICAgICAgICAgICB0ZW1wVmVjdG9yLm11bHRpcGx5KCBwYXJlbnRTY2FsZSApO1xuXG4gICAgICAgICAgICBpZiAoIHNjb3BlLmF4aXMgPT09IFwiRVwiICkge1xuXG4gICAgICAgICAgICAgICAgcG9pbnQuYXBwbHlNYXRyaXg0KCB0ZW1wTWF0cml4LmdldEludmVyc2UoIGxvb2tBdE1hdHJpeCApICk7XG4gICAgICAgICAgICAgICAgdGVtcFZlY3Rvci5hcHBseU1hdHJpeDQoIHRlbXBNYXRyaXguZ2V0SW52ZXJzZSggbG9va0F0TWF0cml4ICkgKTtcblxuICAgICAgICAgICAgICAgIHJvdGF0aW9uLnNldCggTWF0aC5hdGFuMiggcG9pbnQueiwgcG9pbnQueSApLCBNYXRoLmF0YW4yKCBwb2ludC54LCBwb2ludC56ICksIE1hdGguYXRhbjIoIHBvaW50LnksIHBvaW50LnggKSApO1xuICAgICAgICAgICAgICAgIG9mZnNldFJvdGF0aW9uLnNldCggTWF0aC5hdGFuMiggdGVtcFZlY3Rvci56LCB0ZW1wVmVjdG9yLnkgKSwgTWF0aC5hdGFuMiggdGVtcFZlY3Rvci54LCB0ZW1wVmVjdG9yLnogKSwgTWF0aC5hdGFuMiggdGVtcFZlY3Rvci55LCB0ZW1wVmVjdG9yLnggKSApO1xuXG4gICAgICAgICAgICAgICAgdGVtcFF1YXRlcm5pb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KCB0ZW1wTWF0cml4LmdldEludmVyc2UoIHBhcmVudFJvdGF0aW9uTWF0cml4ICkgKTtcblxuICAgICAgICAgICAgICAgIHF1YXRlcm5pb25FLnNldEZyb21BeGlzQW5nbGUoIGV5ZSwgcm90YXRpb24ueiAtIG9mZnNldFJvdGF0aW9uLnogKTtcbiAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uWFlaLnNldEZyb21Sb3RhdGlvbk1hdHJpeCggd29ybGRSb3RhdGlvbk1hdHJpeCApO1xuXG4gICAgICAgICAgICAgICAgdGVtcFF1YXRlcm5pb24ubXVsdGlwbHlRdWF0ZXJuaW9ucyggdGVtcFF1YXRlcm5pb24sIHF1YXRlcm5pb25FICk7XG4gICAgICAgICAgICAgICAgdGVtcFF1YXRlcm5pb24ubXVsdGlwbHlRdWF0ZXJuaW9ucyggdGVtcFF1YXRlcm5pb24sIHF1YXRlcm5pb25YWVogKTtcblxuICAgICAgICAgICAgICAgIHNjb3BlLm9iamVjdC5xdWF0ZXJuaW9uLmNvcHkoIHRlbXBRdWF0ZXJuaW9uICk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIHNjb3BlLmF4aXMgPT09IFwiWFlaRVwiICkge1xuXG4gICAgICAgICAgICAgICAgcXVhdGVybmlvbkUuc2V0RnJvbUV1bGVyKCBwb2ludC5jbG9uZSgpLmNyb3NzKCB0ZW1wVmVjdG9yICkubm9ybWFsaXplKCkgKTsgLy8gcm90YXRpb24gYXhpc1xuXG4gICAgICAgICAgICAgICAgdGVtcFF1YXRlcm5pb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KCB0ZW1wTWF0cml4LmdldEludmVyc2UoIHBhcmVudFJvdGF0aW9uTWF0cml4ICkgKTtcbiAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uWC5zZXRGcm9tQXhpc0FuZ2xlKCBxdWF0ZXJuaW9uRSwgLSBwb2ludC5jbG9uZSgpLmFuZ2xlVG8oIHRlbXBWZWN0b3IgKSApO1xuICAgICAgICAgICAgICAgIHF1YXRlcm5pb25YWVouc2V0RnJvbVJvdGF0aW9uTWF0cml4KCB3b3JsZFJvdGF0aW9uTWF0cml4ICk7XG5cbiAgICAgICAgICAgICAgICB0ZW1wUXVhdGVybmlvbi5tdWx0aXBseVF1YXRlcm5pb25zKCB0ZW1wUXVhdGVybmlvbiwgcXVhdGVybmlvblggKTtcbiAgICAgICAgICAgICAgICB0ZW1wUXVhdGVybmlvbi5tdWx0aXBseVF1YXRlcm5pb25zKCB0ZW1wUXVhdGVybmlvbiwgcXVhdGVybmlvblhZWiApO1xuXG4gICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LnF1YXRlcm5pb24uY29weSggdGVtcFF1YXRlcm5pb24gKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICggc2NvcGUuc3BhY2UgPT09IFwibG9jYWxcIiApIHtcblxuICAgICAgICAgICAgICAgIHBvaW50LmFwcGx5TWF0cml4NCggdGVtcE1hdHJpeC5nZXRJbnZlcnNlKCB3b3JsZFJvdGF0aW9uTWF0cml4ICkgKTtcblxuICAgICAgICAgICAgICAgIHRlbXBWZWN0b3IuYXBwbHlNYXRyaXg0KCB0ZW1wTWF0cml4LmdldEludmVyc2UoIHdvcmxkUm90YXRpb25NYXRyaXggKSApO1xuXG4gICAgICAgICAgICAgICAgcm90YXRpb24uc2V0KCBNYXRoLmF0YW4yKCBwb2ludC56LCBwb2ludC55ICksIE1hdGguYXRhbjIoIHBvaW50LngsIHBvaW50LnogKSwgTWF0aC5hdGFuMiggcG9pbnQueSwgcG9pbnQueCApICk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0Um90YXRpb24uc2V0KCBNYXRoLmF0YW4yKCB0ZW1wVmVjdG9yLnosIHRlbXBWZWN0b3IueSApLCBNYXRoLmF0YW4yKCB0ZW1wVmVjdG9yLngsIHRlbXBWZWN0b3IueiApLCBNYXRoLmF0YW4yKCB0ZW1wVmVjdG9yLnksIHRlbXBWZWN0b3IueCApICk7XG5cbiAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uWFlaLnNldEZyb21Sb3RhdGlvbk1hdHJpeCggb2xkUm90YXRpb25NYXRyaXggKTtcblxuICAgICAgICAgICAgICAgIGlmICggc2NvcGUucm90YXRpb25TbmFwICE9PSBudWxsICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHF1YXRlcm5pb25YLnNldEZyb21BeGlzQW5nbGUoIHVuaXRYLCBNYXRoLnJvdW5kKCAoIHJvdGF0aW9uLnggLSBvZmZzZXRSb3RhdGlvbi54ICkgLyBzY29wZS5yb3RhdGlvblNuYXAgKSAqIHNjb3BlLnJvdGF0aW9uU25hcCApO1xuICAgICAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uWS5zZXRGcm9tQXhpc0FuZ2xlKCB1bml0WSwgTWF0aC5yb3VuZCggKCByb3RhdGlvbi55IC0gb2Zmc2V0Um90YXRpb24ueSApIC8gc2NvcGUucm90YXRpb25TbmFwICkgKiBzY29wZS5yb3RhdGlvblNuYXAgKTtcbiAgICAgICAgICAgICAgICAgICAgcXVhdGVybmlvblouc2V0RnJvbUF4aXNBbmdsZSggdW5pdFosIE1hdGgucm91bmQoICggcm90YXRpb24ueiAtIG9mZnNldFJvdGF0aW9uLnogKSAvIHNjb3BlLnJvdGF0aW9uU25hcCApICogc2NvcGUucm90YXRpb25TbmFwICk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIHF1YXRlcm5pb25YLnNldEZyb21BeGlzQW5nbGUoIHVuaXRYLCByb3RhdGlvbi54IC0gb2Zmc2V0Um90YXRpb24ueCApO1xuICAgICAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uWS5zZXRGcm9tQXhpc0FuZ2xlKCB1bml0WSwgcm90YXRpb24ueSAtIG9mZnNldFJvdGF0aW9uLnkgKTtcbiAgICAgICAgICAgICAgICAgICAgcXVhdGVybmlvblouc2V0RnJvbUF4aXNBbmdsZSggdW5pdFosIHJvdGF0aW9uLnogLSBvZmZzZXRSb3RhdGlvbi56ICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIHNjb3BlLmF4aXMgPT09IFwiWFwiICkgcXVhdGVybmlvblhZWi5tdWx0aXBseVF1YXRlcm5pb25zKCBxdWF0ZXJuaW9uWFlaLCBxdWF0ZXJuaW9uWCApO1xuICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcyA9PT0gXCJZXCIgKSBxdWF0ZXJuaW9uWFlaLm11bHRpcGx5UXVhdGVybmlvbnMoIHF1YXRlcm5pb25YWVosIHF1YXRlcm5pb25ZICk7XG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5heGlzID09PSBcIlpcIiApIHF1YXRlcm5pb25YWVoubXVsdGlwbHlRdWF0ZXJuaW9ucyggcXVhdGVybmlvblhZWiwgcXVhdGVybmlvblogKTtcblxuICAgICAgICAgICAgICAgIHNjb3BlLm9iamVjdC5xdWF0ZXJuaW9uLmNvcHkoIHF1YXRlcm5pb25YWVogKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICggc2NvcGUuc3BhY2UgPT09IFwid29ybGRcIiApIHtcblxuICAgICAgICAgICAgICAgIHJvdGF0aW9uLnNldCggTWF0aC5hdGFuMiggcG9pbnQueiwgcG9pbnQueSApLCBNYXRoLmF0YW4yKCBwb2ludC54LCBwb2ludC56ICksIE1hdGguYXRhbjIoIHBvaW50LnksIHBvaW50LnggKSApO1xuICAgICAgICAgICAgICAgIG9mZnNldFJvdGF0aW9uLnNldCggTWF0aC5hdGFuMiggdGVtcFZlY3Rvci56LCB0ZW1wVmVjdG9yLnkgKSwgTWF0aC5hdGFuMiggdGVtcFZlY3Rvci54LCB0ZW1wVmVjdG9yLnogKSwgTWF0aC5hdGFuMiggdGVtcFZlY3Rvci55LCB0ZW1wVmVjdG9yLnggKSApO1xuXG4gICAgICAgICAgICAgICAgdGVtcFF1YXRlcm5pb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KCB0ZW1wTWF0cml4LmdldEludmVyc2UoIHBhcmVudFJvdGF0aW9uTWF0cml4ICkgKTtcblxuICAgICAgICAgICAgICAgIGlmICggc2NvcGUucm90YXRpb25TbmFwICE9PSBudWxsICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHF1YXRlcm5pb25YLnNldEZyb21BeGlzQW5nbGUoIHVuaXRYLCBNYXRoLnJvdW5kKCAoIHJvdGF0aW9uLnggLSBvZmZzZXRSb3RhdGlvbi54ICkgLyBzY29wZS5yb3RhdGlvblNuYXAgKSAqIHNjb3BlLnJvdGF0aW9uU25hcCApO1xuICAgICAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uWS5zZXRGcm9tQXhpc0FuZ2xlKCB1bml0WSwgTWF0aC5yb3VuZCggKCByb3RhdGlvbi55IC0gb2Zmc2V0Um90YXRpb24ueSApIC8gc2NvcGUucm90YXRpb25TbmFwICkgKiBzY29wZS5yb3RhdGlvblNuYXAgKTtcbiAgICAgICAgICAgICAgICAgICAgcXVhdGVybmlvblouc2V0RnJvbUF4aXNBbmdsZSggdW5pdFosIE1hdGgucm91bmQoICggcm90YXRpb24ueiAtIG9mZnNldFJvdGF0aW9uLnogKSAvIHNjb3BlLnJvdGF0aW9uU25hcCApICogc2NvcGUucm90YXRpb25TbmFwICk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIHF1YXRlcm5pb25YLnNldEZyb21BeGlzQW5nbGUoIHVuaXRYLCByb3RhdGlvbi54IC0gb2Zmc2V0Um90YXRpb24ueCApO1xuICAgICAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uWS5zZXRGcm9tQXhpc0FuZ2xlKCB1bml0WSwgcm90YXRpb24ueSAtIG9mZnNldFJvdGF0aW9uLnkgKTtcbiAgICAgICAgICAgICAgICAgICAgcXVhdGVybmlvblouc2V0RnJvbUF4aXNBbmdsZSggdW5pdFosIHJvdGF0aW9uLnogLSBvZmZzZXRSb3RhdGlvbi56ICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uWFlaLnNldEZyb21Sb3RhdGlvbk1hdHJpeCggd29ybGRSb3RhdGlvbk1hdHJpeCApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5heGlzID09PSBcIlhcIiApIHRlbXBRdWF0ZXJuaW9uLm11bHRpcGx5UXVhdGVybmlvbnMoIHRlbXBRdWF0ZXJuaW9uLCBxdWF0ZXJuaW9uWCApO1xuICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcyA9PT0gXCJZXCIgKSB0ZW1wUXVhdGVybmlvbi5tdWx0aXBseVF1YXRlcm5pb25zKCB0ZW1wUXVhdGVybmlvbiwgcXVhdGVybmlvblkgKTtcbiAgICAgICAgICAgICAgICBpZiAoIHNjb3BlLmF4aXMgPT09IFwiWlwiICkgdGVtcFF1YXRlcm5pb24ubXVsdGlwbHlRdWF0ZXJuaW9ucyggdGVtcFF1YXRlcm5pb24sIHF1YXRlcm5pb25aICk7XG5cbiAgICAgICAgICAgICAgICB0ZW1wUXVhdGVybmlvbi5tdWx0aXBseVF1YXRlcm5pb25zKCB0ZW1wUXVhdGVybmlvbiwgcXVhdGVybmlvblhZWiApO1xuXG4gICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LnF1YXRlcm5pb24uY29weSggdGVtcFF1YXRlcm5pb24gKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS51cGRhdGUoKTtcbiAgICAgICAgc2NvcGUuZGlzcGF0Y2hFdmVudCggY2hhbmdlRXZlbnQgKTtcbiAgICAgICAgc2NvcGUuZGlzcGF0Y2hFdmVudCggb2JqZWN0Q2hhbmdlRXZlbnQgKTtcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uUG9pbnRlclVwKCBldmVudCApIHtcblxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBQcmV2ZW50IE1vdXNlRXZlbnQgb24gbW9iaWxlXG5cbiAgICAgICAgaWYgKCBldmVudC5idXR0b24gIT09IHVuZGVmaW5lZCAmJiBldmVudC5idXR0b24gIT09IDAgKSByZXR1cm47XG5cbiAgICAgICAgaWYgKCBfZHJhZ2dpbmcgJiYgKCBzY29wZS5heGlzICE9PSBudWxsICkgKSB7XG5cbiAgICAgICAgICAgIG1vdXNlVXBFdmVudC5tb2RlID0gX21vZGU7XG4gICAgICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KCBtb3VzZVVwRXZlbnQgKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgX2RyYWdnaW5nID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCAnVG91Y2hFdmVudCcgaW4gd2luZG93ICYmIGV2ZW50IGluc3RhbmNlb2YgVG91Y2hFdmVudCApIHtcblxuICAgICAgICAgICAgLy8gRm9yY2UgXCJyb2xsb3ZlclwiXG5cbiAgICAgICAgICAgIHNjb3BlLmF4aXMgPSBudWxsO1xuICAgICAgICAgICAgc2NvcGUudXBkYXRlKCk7XG4gICAgICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KCBjaGFuZ2VFdmVudCApO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIG9uUG9pbnRlckhvdmVyKCBldmVudCApO1xuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGludGVyc2VjdE9iamVjdHMoIHBvaW50ZXIsIG9iamVjdHMgKSB7XG5cbiAgICAgICAgdmFyIHJlY3QgPSBkb21FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgeCA9ICggcG9pbnRlci5jbGllbnRYIC0gcmVjdC5sZWZ0ICkgLyByZWN0LndpZHRoO1xuICAgICAgICB2YXIgeSA9ICggcG9pbnRlci5jbGllbnRZIC0gcmVjdC50b3AgKSAvIHJlY3QuaGVpZ2h0O1xuXG4gICAgICAgIHBvaW50ZXJWZWN0b3Iuc2V0KCAoIHggKiAyICkgLSAxLCAtICggeSAqIDIgKSArIDEgKTtcbiAgICAgICAgcmF5LnNldEZyb21DYW1lcmEoIHBvaW50ZXJWZWN0b3IsIGNhbWVyYSApO1xuXG4gICAgICAgIHZhciBpbnRlcnNlY3Rpb25zID0gcmF5LmludGVyc2VjdE9iamVjdHMoIG9iamVjdHMsIHRydWUgKTtcbiAgICAgICAgcmV0dXJuIGludGVyc2VjdGlvbnNbIDAgXSA/IGludGVyc2VjdGlvbnNbIDAgXSA6IGZhbHNlO1xuXG4gICAgfVxuXG59XG5cblRyYW5zZm9ybUNvbnRyb2xzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFRIUkVFLk9iamVjdDNELnByb3RvdHlwZSApO1xuVHJhbnNmb3JtQ29udHJvbHMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVHJhbnNmb3JtQ29udHJvbHM7XG5cbmV4cG9ydCB7IFRyYW5zZm9ybUNvbnRyb2xzIH1cbiIsIi8qKlxuICogQGF1dGhvciBxaWFvIC8gaHR0cHM6Ly9naXRodWIuY29tL3FpYW9cbiAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb21cbiAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vXG4gKiBAYXV0aG9yIFdlc3RMYW5nbGV5IC8gaHR0cDovL2dpdGh1Yi5jb20vV2VzdExhbmdsZXlcbiAqIEBhdXRob3IgZXJpY2g2NjYgLyBodHRwOi8vZXJpY2hhaW5lcy5jb21cbiAqL1xuXG4vLyBUaGlzIHNldCBvZiBjb250cm9scyBwZXJmb3JtcyBvcmJpdGluZywgZG9sbHlpbmcgKHpvb21pbmcpLCBhbmQgcGFubmluZy5cbi8vIFVubGlrZSBUcmFja2JhbGxDb250cm9scywgaXQgbWFpbnRhaW5zIHRoZSBcInVwXCIgZGlyZWN0aW9uIG9iamVjdC51cCAoK1kgYnkgZGVmYXVsdCkuXG4vL1xuLy8gICAgT3JiaXQgLSBsZWZ0IG1vdXNlIC8gdG91Y2g6IG9uZSBmaW5nZXIgbW92ZVxuLy8gICAgWm9vbSAtIG1pZGRsZSBtb3VzZSwgb3IgbW91c2V3aGVlbCAvIHRvdWNoOiB0d28gZmluZ2VyIHNwcmVhZCBvciBzcXVpc2hcbi8vICAgIFBhbiAtIHJpZ2h0IG1vdXNlLCBvciBhcnJvdyBrZXlzIC8gdG91Y2g6IHRocmVlIGZpbmdlciBzd2lwZVxuXG5pbXBvcnQgVEhSRUUgZnJvbSAndGhyZWUnXG5cbmZ1bmN0aW9uIE9yYml0Q29udHJvbHMoIG9iamVjdCwgZG9tRWxlbWVudCApIHtcblxuXHR0aGlzLm9iamVjdCA9IG9iamVjdDtcblxuXHR0aGlzLmRvbUVsZW1lbnQgPSAoIGRvbUVsZW1lbnQgIT09IHVuZGVmaW5lZCApID8gZG9tRWxlbWVudCA6IGRvY3VtZW50O1xuXG5cdC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHRoaXMgY29udHJvbFxuXHR0aGlzLmVuYWJsZWQgPSB0cnVlO1xuXG5cdC8vIFwidGFyZ2V0XCIgc2V0cyB0aGUgbG9jYXRpb24gb2YgZm9jdXMsIHdoZXJlIHRoZSBvYmplY3Qgb3JiaXRzIGFyb3VuZFxuXHR0aGlzLnRhcmdldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cblx0Ly8gSG93IGZhciB5b3UgY2FuIGRvbGx5IGluIGFuZCBvdXQgKCBQZXJzcGVjdGl2ZUNhbWVyYSBvbmx5IClcblx0dGhpcy5taW5EaXN0YW5jZSA9IDA7XG5cdHRoaXMubWF4RGlzdGFuY2UgPSBJbmZpbml0eTtcblxuXHQvLyBIb3cgZmFyIHlvdSBjYW4gem9vbSBpbiBhbmQgb3V0ICggT3J0aG9ncmFwaGljQ2FtZXJhIG9ubHkgKVxuXHR0aGlzLm1pblpvb20gPSAwO1xuXHR0aGlzLm1heFpvb20gPSBJbmZpbml0eTtcblxuXHQvLyBIb3cgZmFyIHlvdSBjYW4gb3JiaXQgdmVydGljYWxseSwgdXBwZXIgYW5kIGxvd2VyIGxpbWl0cy5cblx0Ly8gUmFuZ2UgaXMgMCB0byBNYXRoLlBJIHJhZGlhbnMuXG5cdHRoaXMubWluUG9sYXJBbmdsZSA9IDA7IC8vIHJhZGlhbnNcblx0dGhpcy5tYXhQb2xhckFuZ2xlID0gTWF0aC5QSTsgLy8gcmFkaWFuc1xuXG5cdC8vIEhvdyBmYXIgeW91IGNhbiBvcmJpdCBob3Jpem9udGFsbHksIHVwcGVyIGFuZCBsb3dlciBsaW1pdHMuXG5cdC8vIElmIHNldCwgbXVzdCBiZSBhIHN1Yi1pbnRlcnZhbCBvZiB0aGUgaW50ZXJ2YWwgWyAtIE1hdGguUEksIE1hdGguUEkgXS5cblx0dGhpcy5taW5BemltdXRoQW5nbGUgPSAtIEluZmluaXR5OyAvLyByYWRpYW5zXG5cdHRoaXMubWF4QXppbXV0aEFuZ2xlID0gSW5maW5pdHk7IC8vIHJhZGlhbnNcblxuXHQvLyBTZXQgdG8gdHJ1ZSB0byBlbmFibGUgZGFtcGluZyAoaW5lcnRpYSlcblx0Ly8gSWYgZGFtcGluZyBpcyBlbmFibGVkLCB5b3UgbXVzdCBjYWxsIGNvbnRyb2xzLnVwZGF0ZSgpIGluIHlvdXIgYW5pbWF0aW9uIGxvb3Bcblx0dGhpcy5lbmFibGVEYW1waW5nID0gZmFsc2U7XG5cdHRoaXMuZGFtcGluZ0ZhY3RvciA9IDAuMjU7XG5cblx0Ly8gVGhpcyBvcHRpb24gYWN0dWFsbHkgZW5hYmxlcyBkb2xseWluZyBpbiBhbmQgb3V0OyBsZWZ0IGFzIFwiem9vbVwiIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cblx0Ly8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgem9vbWluZ1xuXHR0aGlzLmVuYWJsZVpvb20gPSB0cnVlO1xuXHR0aGlzLnpvb21TcGVlZCA9IDEuMDtcblxuXHQvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSByb3RhdGluZ1xuXHR0aGlzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XG5cdHRoaXMucm90YXRlU3BlZWQgPSAxLjA7XG5cblx0Ly8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgcGFubmluZ1xuXHR0aGlzLmVuYWJsZVBhbiA9IHRydWU7XG5cdHRoaXMua2V5UGFuU3BlZWQgPSA3LjA7XHQvLyBwaXhlbHMgbW92ZWQgcGVyIGFycm93IGtleSBwdXNoXG5cblx0Ly8gU2V0IHRvIHRydWUgdG8gYXV0b21hdGljYWxseSByb3RhdGUgYXJvdW5kIHRoZSB0YXJnZXRcblx0Ly8gSWYgYXV0by1yb3RhdGUgaXMgZW5hYmxlZCwgeW91IG11c3QgY2FsbCBjb250cm9scy51cGRhdGUoKSBpbiB5b3VyIGFuaW1hdGlvbiBsb29wXG5cdHRoaXMuYXV0b1JvdGF0ZSA9IGZhbHNlO1xuXHR0aGlzLmF1dG9Sb3RhdGVTcGVlZCA9IDIuMDsgLy8gMzAgc2Vjb25kcyBwZXIgcm91bmQgd2hlbiBmcHMgaXMgNjBcblxuXHQvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB1c2Ugb2YgdGhlIGtleXNcblx0dGhpcy5lbmFibGVLZXlzID0gdHJ1ZTtcblxuXHQvLyBUaGUgZm91ciBhcnJvdyBrZXlzXG5cdHRoaXMua2V5cyA9IHsgTEVGVDogMzcsIFVQOiAzOCwgUklHSFQ6IDM5LCBCT1RUT006IDQwIH07XG5cblx0Ly8gTW91c2UgYnV0dG9uc1xuXHR0aGlzLm1vdXNlQnV0dG9ucyA9IHsgT1JCSVQ6IFRIUkVFLk1PVVNFLkxFRlQsIFpPT006IFRIUkVFLk1PVVNFLk1JRERMRSwgUEFOOiBUSFJFRS5NT1VTRS5SSUdIVCB9O1xuXG5cdC8vIGZvciByZXNldFxuXHR0aGlzLnRhcmdldDAgPSB0aGlzLnRhcmdldC5jbG9uZSgpO1xuXHR0aGlzLnBvc2l0aW9uMCA9IHRoaXMub2JqZWN0LnBvc2l0aW9uLmNsb25lKCk7XG5cdHRoaXMuem9vbTAgPSB0aGlzLm9iamVjdC56b29tO1xuXG5cdC8vXG5cdC8vIHB1YmxpYyBtZXRob2RzXG5cdC8vXG5cblx0dGhpcy5nZXRQb2xhckFuZ2xlID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0cmV0dXJuIHNwaGVyaWNhbC5waGk7XG5cblx0fTtcblxuXHR0aGlzLmdldEF6aW11dGhhbEFuZ2xlID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0cmV0dXJuIHNwaGVyaWNhbC50aGV0YTtcblxuXHR9O1xuXG5cdHRoaXMuc2F2ZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0c2NvcGUudGFyZ2V0MC5jb3B5KCBzY29wZS50YXJnZXQgKTtcblx0XHRzY29wZS5wb3NpdGlvbjAuY29weSggc2NvcGUub2JqZWN0LnBvc2l0aW9uICk7XG5cdFx0c2NvcGUuem9vbTAgPSBzY29wZS5vYmplY3Quem9vbTtcblxuXHR9O1xuXG5cdHRoaXMucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG5cblx0XHRzY29wZS50YXJnZXQuY29weSggc2NvcGUudGFyZ2V0MCApO1xuXHRcdHNjb3BlLm9iamVjdC5wb3NpdGlvbi5jb3B5KCBzY29wZS5wb3NpdGlvbjAgKTtcblx0XHRzY29wZS5vYmplY3Quem9vbSA9IHNjb3BlLnpvb20wO1xuXG5cdFx0c2NvcGUub2JqZWN0LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcblx0XHRzY29wZS5kaXNwYXRjaEV2ZW50KCBjaGFuZ2VFdmVudCApO1xuXG5cdFx0c2NvcGUudXBkYXRlKCk7XG5cblx0XHRzdGF0ZSA9IFNUQVRFLk5PTkU7XG5cblx0fTtcblxuXHQvLyB0aGlzIG1ldGhvZCBpcyBleHBvc2VkLCBidXQgcGVyaGFwcyBpdCB3b3VsZCBiZSBiZXR0ZXIgaWYgd2UgY2FuIG1ha2UgaXQgcHJpdmF0ZS4uLlxuXHR0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdHZhciBvZmZzZXQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXG5cdFx0Ly8gc28gY2FtZXJhLnVwIGlzIHRoZSBvcmJpdCBheGlzXG5cdFx0dmFyIHF1YXQgPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpLnNldEZyb21Vbml0VmVjdG9ycyggb2JqZWN0LnVwLCBuZXcgVEhSRUUuVmVjdG9yMyggMCwgMSwgMCApICk7XG5cdFx0dmFyIHF1YXRJbnZlcnNlID0gcXVhdC5jbG9uZSgpLmludmVyc2UoKTtcblxuXHRcdHZhciBsYXN0UG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXHRcdHZhciBsYXN0UXVhdGVybmlvbiA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XG5cblx0XHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKCkge1xuXG5cdFx0XHR2YXIgcG9zaXRpb24gPSBzY29wZS5vYmplY3QucG9zaXRpb247XG5cblx0XHRcdG9mZnNldC5jb3B5KCBwb3NpdGlvbiApLnN1Yiggc2NvcGUudGFyZ2V0ICk7XG5cblx0XHRcdC8vIHJvdGF0ZSBvZmZzZXQgdG8gXCJ5LWF4aXMtaXMtdXBcIiBzcGFjZVxuXHRcdFx0b2Zmc2V0LmFwcGx5UXVhdGVybmlvbiggcXVhdCApO1xuXG5cdFx0XHQvLyBhbmdsZSBmcm9tIHotYXhpcyBhcm91bmQgeS1heGlzXG5cdFx0XHRzcGhlcmljYWwuc2V0RnJvbVZlY3RvcjMoIG9mZnNldCApO1xuXG5cdFx0XHRpZiAoIHNjb3BlLmF1dG9Sb3RhdGUgJiYgc3RhdGUgPT09IFNUQVRFLk5PTkUgKSB7XG5cblx0XHRcdFx0cm90YXRlTGVmdCggZ2V0QXV0b1JvdGF0aW9uQW5nbGUoKSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdHNwaGVyaWNhbC50aGV0YSArPSBzcGhlcmljYWxEZWx0YS50aGV0YTtcblx0XHRcdHNwaGVyaWNhbC5waGkgKz0gc3BoZXJpY2FsRGVsdGEucGhpO1xuXG5cdFx0XHQvLyByZXN0cmljdCB0aGV0YSB0byBiZSBiZXR3ZWVuIGRlc2lyZWQgbGltaXRzXG5cdFx0XHRzcGhlcmljYWwudGhldGEgPSBNYXRoLm1heCggc2NvcGUubWluQXppbXV0aEFuZ2xlLCBNYXRoLm1pbiggc2NvcGUubWF4QXppbXV0aEFuZ2xlLCBzcGhlcmljYWwudGhldGEgKSApO1xuXG5cdFx0XHQvLyByZXN0cmljdCBwaGkgdG8gYmUgYmV0d2VlbiBkZXNpcmVkIGxpbWl0c1xuXHRcdFx0c3BoZXJpY2FsLnBoaSA9IE1hdGgubWF4KCBzY29wZS5taW5Qb2xhckFuZ2xlLCBNYXRoLm1pbiggc2NvcGUubWF4UG9sYXJBbmdsZSwgc3BoZXJpY2FsLnBoaSApICk7XG5cblx0XHRcdHNwaGVyaWNhbC5tYWtlU2FmZSgpO1xuXG5cblx0XHRcdHNwaGVyaWNhbC5yYWRpdXMgKj0gc2NhbGU7XG5cblx0XHRcdC8vIHJlc3RyaWN0IHJhZGl1cyB0byBiZSBiZXR3ZWVuIGRlc2lyZWQgbGltaXRzXG5cdFx0XHRzcGhlcmljYWwucmFkaXVzID0gTWF0aC5tYXgoIHNjb3BlLm1pbkRpc3RhbmNlLCBNYXRoLm1pbiggc2NvcGUubWF4RGlzdGFuY2UsIHNwaGVyaWNhbC5yYWRpdXMgKSApO1xuXG5cdFx0XHQvLyBtb3ZlIHRhcmdldCB0byBwYW5uZWQgbG9jYXRpb25cblx0XHRcdHNjb3BlLnRhcmdldC5hZGQoIHBhbk9mZnNldCApO1xuXG5cdFx0XHRvZmZzZXQuc2V0RnJvbVNwaGVyaWNhbCggc3BoZXJpY2FsICk7XG5cblx0XHRcdC8vIHJvdGF0ZSBvZmZzZXQgYmFjayB0byBcImNhbWVyYS11cC12ZWN0b3ItaXMtdXBcIiBzcGFjZVxuXHRcdFx0b2Zmc2V0LmFwcGx5UXVhdGVybmlvbiggcXVhdEludmVyc2UgKTtcblxuXHRcdFx0cG9zaXRpb24uY29weSggc2NvcGUudGFyZ2V0ICkuYWRkKCBvZmZzZXQgKTtcblxuXHRcdFx0c2NvcGUub2JqZWN0Lmxvb2tBdCggc2NvcGUudGFyZ2V0ICk7XG5cblx0XHRcdGlmICggc2NvcGUuZW5hYmxlRGFtcGluZyA9PT0gdHJ1ZSApIHtcblxuXHRcdFx0XHRzcGhlcmljYWxEZWx0YS50aGV0YSAqPSAoIDEgLSBzY29wZS5kYW1waW5nRmFjdG9yICk7XG5cdFx0XHRcdHNwaGVyaWNhbERlbHRhLnBoaSAqPSAoIDEgLSBzY29wZS5kYW1waW5nRmFjdG9yICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0c3BoZXJpY2FsRGVsdGEuc2V0KCAwLCAwLCAwICk7XG5cblx0XHRcdH1cblxuXHRcdFx0c2NhbGUgPSAxO1xuXHRcdFx0cGFuT2Zmc2V0LnNldCggMCwgMCwgMCApO1xuXG5cdFx0XHQvLyB1cGRhdGUgY29uZGl0aW9uIGlzOlxuXHRcdFx0Ly8gbWluKGNhbWVyYSBkaXNwbGFjZW1lbnQsIGNhbWVyYSByb3RhdGlvbiBpbiByYWRpYW5zKV4yID4gRVBTXG5cdFx0XHQvLyB1c2luZyBzbWFsbC1hbmdsZSBhcHByb3hpbWF0aW9uIGNvcyh4LzIpID0gMSAtIHheMiAvIDhcblxuXHRcdFx0aWYgKCB6b29tQ2hhbmdlZCB8fFxuXHRcdFx0XHRsYXN0UG9zaXRpb24uZGlzdGFuY2VUb1NxdWFyZWQoIHNjb3BlLm9iamVjdC5wb3NpdGlvbiApID4gRVBTIHx8XG5cdFx0XHRcdDggKiAoIDEgLSBsYXN0UXVhdGVybmlvbi5kb3QoIHNjb3BlLm9iamVjdC5xdWF0ZXJuaW9uICkgKSA+IEVQUyApIHtcblxuXHRcdFx0XHRzY29wZS5kaXNwYXRjaEV2ZW50KCBjaGFuZ2VFdmVudCApO1xuXG5cdFx0XHRcdGxhc3RQb3NpdGlvbi5jb3B5KCBzY29wZS5vYmplY3QucG9zaXRpb24gKTtcblx0XHRcdFx0bGFzdFF1YXRlcm5pb24uY29weSggc2NvcGUub2JqZWN0LnF1YXRlcm5pb24gKTtcblx0XHRcdFx0em9vbUNoYW5nZWQgPSBmYWxzZTtcblxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHR9O1xuXG5cdH0oKTtcblxuXHR0aGlzLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG5cblx0XHRzY29wZS5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdjb250ZXh0bWVudScsIG9uQ29udGV4dE1lbnUsIGZhbHNlICk7XG5cdFx0c2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnbW91c2Vkb3duJywgb25Nb3VzZURvd24sIGZhbHNlICk7XG5cdFx0c2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnd2hlZWwnLCBvbk1vdXNlV2hlZWwsIGZhbHNlICk7XG5cblx0XHRzY29wZS5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICd0b3VjaHN0YXJ0Jywgb25Ub3VjaFN0YXJ0LCBmYWxzZSApO1xuXHRcdHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3RvdWNoZW5kJywgb25Ub3VjaEVuZCwgZmFsc2UgKTtcblx0XHRzY29wZS5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSwgZmFsc2UgKTtcblxuXHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSwgZmFsc2UgKTtcblx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnbW91c2V1cCcsIG9uTW91c2VVcCwgZmFsc2UgKTtcblxuXHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCAna2V5ZG93bicsIG9uS2V5RG93biwgZmFsc2UgKTtcblxuXHRcdC8vc2NvcGUuZGlzcGF0Y2hFdmVudCggeyB0eXBlOiAnZGlzcG9zZScgfSApOyAvLyBzaG91bGQgdGhpcyBiZSBhZGRlZCBoZXJlP1xuXG5cdH07XG5cblx0Ly9cblx0Ly8gaW50ZXJuYWxzXG5cdC8vXG5cblx0dmFyIHNjb3BlID0gdGhpcztcblxuXHR2YXIgY2hhbmdlRXZlbnQgPSB7IHR5cGU6ICdjaGFuZ2UnIH07XG5cdHZhciBzdGFydEV2ZW50ID0geyB0eXBlOiAnc3RhcnQnIH07XG5cdHZhciBlbmRFdmVudCA9IHsgdHlwZTogJ2VuZCcgfTtcblxuXHR2YXIgU1RBVEUgPSB7IE5PTkU6IC0gMSwgUk9UQVRFOiAwLCBET0xMWTogMSwgUEFOOiAyLCBUT1VDSF9ST1RBVEU6IDMsIFRPVUNIX0RPTExZOiA0LCBUT1VDSF9QQU46IDUgfTtcblxuXHR2YXIgc3RhdGUgPSBTVEFURS5OT05FO1xuXG5cdHZhciBFUFMgPSAwLjAwMDAwMTtcblxuXHQvLyBjdXJyZW50IHBvc2l0aW9uIGluIHNwaGVyaWNhbCBjb29yZGluYXRlc1xuXHR2YXIgc3BoZXJpY2FsID0gbmV3IFRIUkVFLlNwaGVyaWNhbCgpO1xuXHR2YXIgc3BoZXJpY2FsRGVsdGEgPSBuZXcgVEhSRUUuU3BoZXJpY2FsKCk7XG5cblx0dmFyIHNjYWxlID0gMTtcblx0dmFyIHBhbk9mZnNldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cdHZhciB6b29tQ2hhbmdlZCA9IGZhbHNlO1xuXG5cdHZhciByb3RhdGVTdGFydCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cdHZhciByb3RhdGVFbmQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXHR2YXIgcm90YXRlRGVsdGEgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXG5cdHZhciBwYW5TdGFydCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cdHZhciBwYW5FbmQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXHR2YXIgcGFuRGVsdGEgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXG5cdHZhciBkb2xseVN0YXJ0ID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblx0dmFyIGRvbGx5RW5kID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblx0dmFyIGRvbGx5RGVsdGEgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXG5cdGZ1bmN0aW9uIGdldEF1dG9Sb3RhdGlvbkFuZ2xlKCkge1xuXG5cdFx0cmV0dXJuIDIgKiBNYXRoLlBJIC8gNjAgLyA2MCAqIHNjb3BlLmF1dG9Sb3RhdGVTcGVlZDtcblxuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0Wm9vbVNjYWxlKCkge1xuXG5cdFx0cmV0dXJuIE1hdGgucG93KCAwLjk1LCBzY29wZS56b29tU3BlZWQgKTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gcm90YXRlTGVmdCggYW5nbGUgKSB7XG5cblx0XHRzcGhlcmljYWxEZWx0YS50aGV0YSAtPSBhbmdsZTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gcm90YXRlVXAoIGFuZ2xlICkge1xuXG5cdFx0c3BoZXJpY2FsRGVsdGEucGhpIC09IGFuZ2xlO1xuXG5cdH1cblxuXHR2YXIgcGFuTGVmdCA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdHZhciB2ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuXHRcdHJldHVybiBmdW5jdGlvbiBwYW5MZWZ0KCBkaXN0YW5jZSwgb2JqZWN0TWF0cml4ICkge1xuXG5cdFx0XHR2LnNldEZyb21NYXRyaXhDb2x1bW4oIG9iamVjdE1hdHJpeCwgMCApOyAvLyBnZXQgWCBjb2x1bW4gb2Ygb2JqZWN0TWF0cml4XG5cdFx0XHR2Lm11bHRpcGx5U2NhbGFyKCAtIGRpc3RhbmNlICk7XG5cblx0XHRcdHBhbk9mZnNldC5hZGQoIHYgKTtcblxuXHRcdH07XG5cblx0fSgpO1xuXG5cdHZhciBwYW5VcCA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdHZhciB2ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuXHRcdHJldHVybiBmdW5jdGlvbiBwYW5VcCggZGlzdGFuY2UsIG9iamVjdE1hdHJpeCApIHtcblxuXHRcdFx0di5zZXRGcm9tTWF0cml4Q29sdW1uKCBvYmplY3RNYXRyaXgsIDEgKTsgLy8gZ2V0IFkgY29sdW1uIG9mIG9iamVjdE1hdHJpeFxuXHRcdFx0di5tdWx0aXBseVNjYWxhciggZGlzdGFuY2UgKTtcblxuXHRcdFx0cGFuT2Zmc2V0LmFkZCggdiApO1xuXG5cdFx0fTtcblxuXHR9KCk7XG5cblx0Ly8gZGVsdGFYIGFuZCBkZWx0YVkgYXJlIGluIHBpeGVsczsgcmlnaHQgYW5kIGRvd24gYXJlIHBvc2l0aXZlXG5cdHZhciBwYW4gPSBmdW5jdGlvbiAoKSB7XG5cblx0XHR2YXIgb2Zmc2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuXHRcdHJldHVybiBmdW5jdGlvbiBwYW4oIGRlbHRhWCwgZGVsdGFZICkge1xuXG5cdFx0XHR2YXIgZWxlbWVudCA9IHNjb3BlLmRvbUVsZW1lbnQgPT09IGRvY3VtZW50ID8gc2NvcGUuZG9tRWxlbWVudC5ib2R5IDogc2NvcGUuZG9tRWxlbWVudDtcblxuXHRcdFx0aWYgKCBzY29wZS5vYmplY3QgaW5zdGFuY2VvZiBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSApIHtcblxuXHRcdFx0XHQvLyBwZXJzcGVjdGl2ZVxuXHRcdFx0XHR2YXIgcG9zaXRpb24gPSBzY29wZS5vYmplY3QucG9zaXRpb247XG5cdFx0XHRcdG9mZnNldC5jb3B5KCBwb3NpdGlvbiApLnN1Yiggc2NvcGUudGFyZ2V0ICk7XG5cdFx0XHRcdHZhciB0YXJnZXREaXN0YW5jZSA9IG9mZnNldC5sZW5ndGgoKTtcblxuXHRcdFx0XHQvLyBoYWxmIG9mIHRoZSBmb3YgaXMgY2VudGVyIHRvIHRvcCBvZiBzY3JlZW5cblx0XHRcdFx0dGFyZ2V0RGlzdGFuY2UgKj0gTWF0aC50YW4oICggc2NvcGUub2JqZWN0LmZvdiAvIDIgKSAqIE1hdGguUEkgLyAxODAuMCApO1xuXG5cdFx0XHRcdC8vIHdlIGFjdHVhbGx5IGRvbid0IHVzZSBzY3JlZW5XaWR0aCwgc2luY2UgcGVyc3BlY3RpdmUgY2FtZXJhIGlzIGZpeGVkIHRvIHNjcmVlbiBoZWlnaHRcblx0XHRcdFx0cGFuTGVmdCggMiAqIGRlbHRhWCAqIHRhcmdldERpc3RhbmNlIC8gZWxlbWVudC5jbGllbnRIZWlnaHQsIHNjb3BlLm9iamVjdC5tYXRyaXggKTtcblx0XHRcdFx0cGFuVXAoIDIgKiBkZWx0YVkgKiB0YXJnZXREaXN0YW5jZSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0LCBzY29wZS5vYmplY3QubWF0cml4ICk7XG5cblx0XHRcdH0gZWxzZSBpZiAoIHNjb3BlLm9iamVjdCBpbnN0YW5jZW9mIFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSApIHtcblxuXHRcdFx0XHQvLyBvcnRob2dyYXBoaWNcblx0XHRcdFx0cGFuTGVmdCggZGVsdGFYICogKCBzY29wZS5vYmplY3QucmlnaHQgLSBzY29wZS5vYmplY3QubGVmdCApIC8gc2NvcGUub2JqZWN0Lnpvb20gLyBlbGVtZW50LmNsaWVudFdpZHRoLCBzY29wZS5vYmplY3QubWF0cml4ICk7XG5cdFx0XHRcdHBhblVwKCBkZWx0YVkgKiAoIHNjb3BlLm9iamVjdC50b3AgLSBzY29wZS5vYmplY3QuYm90dG9tICkgLyBzY29wZS5vYmplY3Quem9vbSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0LCBzY29wZS5vYmplY3QubWF0cml4ICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gY2FtZXJhIG5laXRoZXIgb3J0aG9ncmFwaGljIG5vciBwZXJzcGVjdGl2ZVxuXHRcdFx0XHRjb25zb2xlLndhcm4oICdXQVJOSU5HOiBPcmJpdENvbnRyb2xzLmpzIGVuY291bnRlcmVkIGFuIHVua25vd24gY2FtZXJhIHR5cGUgLSBwYW4gZGlzYWJsZWQuJyApO1xuXHRcdFx0XHRzY29wZS5lbmFibGVQYW4gPSBmYWxzZTtcblxuXHRcdFx0fVxuXG5cdFx0fTtcblxuXHR9KCk7XG5cblx0ZnVuY3Rpb24gZG9sbHlJbiggZG9sbHlTY2FsZSApIHtcblxuXHRcdGlmICggc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEgKSB7XG5cblx0XHRcdHNjYWxlIC89IGRvbGx5U2NhbGU7XG5cblx0XHR9IGVsc2UgaWYgKCBzY29wZS5vYmplY3QgaW5zdGFuY2VvZiBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEgKSB7XG5cblx0XHRcdHNjb3BlLm9iamVjdC56b29tID0gTWF0aC5tYXgoIHNjb3BlLm1pblpvb20sIE1hdGgubWluKCBzY29wZS5tYXhab29tLCBzY29wZS5vYmplY3Quem9vbSAqIGRvbGx5U2NhbGUgKSApO1xuXHRcdFx0c2NvcGUub2JqZWN0LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcblx0XHRcdHpvb21DaGFuZ2VkID0gdHJ1ZTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1dBUk5JTkc6IE9yYml0Q29udHJvbHMuanMgZW5jb3VudGVyZWQgYW4gdW5rbm93biBjYW1lcmEgdHlwZSAtIGRvbGx5L3pvb20gZGlzYWJsZWQuJyApO1xuXHRcdFx0c2NvcGUuZW5hYmxlWm9vbSA9IGZhbHNlO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRmdW5jdGlvbiBkb2xseU91dCggZG9sbHlTY2FsZSApIHtcblxuXHRcdGlmICggc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEgKSB7XG5cblx0XHRcdHNjYWxlICo9IGRvbGx5U2NhbGU7XG5cblx0XHR9IGVsc2UgaWYgKCBzY29wZS5vYmplY3QgaW5zdGFuY2VvZiBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEgKSB7XG5cblx0XHRcdHNjb3BlLm9iamVjdC56b29tID0gTWF0aC5tYXgoIHNjb3BlLm1pblpvb20sIE1hdGgubWluKCBzY29wZS5tYXhab29tLCBzY29wZS5vYmplY3Quem9vbSAvIGRvbGx5U2NhbGUgKSApO1xuXHRcdFx0c2NvcGUub2JqZWN0LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcblx0XHRcdHpvb21DaGFuZ2VkID0gdHJ1ZTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1dBUk5JTkc6IE9yYml0Q29udHJvbHMuanMgZW5jb3VudGVyZWQgYW4gdW5rbm93biBjYW1lcmEgdHlwZSAtIGRvbGx5L3pvb20gZGlzYWJsZWQuJyApO1xuXHRcdFx0c2NvcGUuZW5hYmxlWm9vbSA9IGZhbHNlO1xuXG5cdFx0fVxuXG5cdH1cblxuXHQvL1xuXHQvLyBldmVudCBjYWxsYmFja3MgLSB1cGRhdGUgdGhlIG9iamVjdCBzdGF0ZVxuXHQvL1xuXG5cdGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93blJvdGF0ZSggZXZlbnQgKSB7XG5cblx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlTW91c2VEb3duUm90YXRlJyApO1xuXG5cdFx0cm90YXRlU3RhcnQuc2V0KCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZICk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bkRvbGx5KCBldmVudCApIHtcblxuXHRcdC8vY29uc29sZS5sb2coICdoYW5kbGVNb3VzZURvd25Eb2xseScgKTtcblxuXHRcdGRvbGx5U3RhcnQuc2V0KCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZICk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93blBhbiggZXZlbnQgKSB7XG5cblx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlTW91c2VEb3duUGFuJyApO1xuXG5cdFx0cGFuU3RhcnQuc2V0KCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZICk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZVJvdGF0ZSggZXZlbnQgKSB7XG5cblx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlTW91c2VNb3ZlUm90YXRlJyApO1xuXG5cdFx0cm90YXRlRW5kLnNldCggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xuXHRcdHJvdGF0ZURlbHRhLnN1YlZlY3RvcnMoIHJvdGF0ZUVuZCwgcm90YXRlU3RhcnQgKTtcblxuXHRcdHZhciBlbGVtZW50ID0gc2NvcGUuZG9tRWxlbWVudCA9PT0gZG9jdW1lbnQgPyBzY29wZS5kb21FbGVtZW50LmJvZHkgOiBzY29wZS5kb21FbGVtZW50O1xuXG5cdFx0Ly8gcm90YXRpbmcgYWNyb3NzIHdob2xlIHNjcmVlbiBnb2VzIDM2MCBkZWdyZWVzIGFyb3VuZFxuXHRcdHJvdGF0ZUxlZnQoIDIgKiBNYXRoLlBJICogcm90YXRlRGVsdGEueCAvIGVsZW1lbnQuY2xpZW50V2lkdGggKiBzY29wZS5yb3RhdGVTcGVlZCApO1xuXG5cdFx0Ly8gcm90YXRpbmcgdXAgYW5kIGRvd24gYWxvbmcgd2hvbGUgc2NyZWVuIGF0dGVtcHRzIHRvIGdvIDM2MCwgYnV0IGxpbWl0ZWQgdG8gMTgwXG5cdFx0cm90YXRlVXAoIDIgKiBNYXRoLlBJICogcm90YXRlRGVsdGEueSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0ICogc2NvcGUucm90YXRlU3BlZWQgKTtcblxuXHRcdHJvdGF0ZVN0YXJ0LmNvcHkoIHJvdGF0ZUVuZCApO1xuXG5cdFx0c2NvcGUudXBkYXRlKCk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZURvbGx5KCBldmVudCApIHtcblxuXHRcdC8vY29uc29sZS5sb2coICdoYW5kbGVNb3VzZU1vdmVEb2xseScgKTtcblxuXHRcdGRvbGx5RW5kLnNldCggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xuXG5cdFx0ZG9sbHlEZWx0YS5zdWJWZWN0b3JzKCBkb2xseUVuZCwgZG9sbHlTdGFydCApO1xuXG5cdFx0aWYgKCBkb2xseURlbHRhLnkgPiAwICkge1xuXG5cdFx0XHRkb2xseUluKCBnZXRab29tU2NhbGUoKSApO1xuXG5cdFx0fSBlbHNlIGlmICggZG9sbHlEZWx0YS55IDwgMCApIHtcblxuXHRcdFx0ZG9sbHlPdXQoIGdldFpvb21TY2FsZSgpICk7XG5cblx0XHR9XG5cblx0XHRkb2xseVN0YXJ0LmNvcHkoIGRvbGx5RW5kICk7XG5cblx0XHRzY29wZS51cGRhdGUoKTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlUGFuKCBldmVudCApIHtcblxuXHRcdC8vY29uc29sZS5sb2coICdoYW5kbGVNb3VzZU1vdmVQYW4nICk7XG5cblx0XHRwYW5FbmQuc2V0KCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZICk7XG5cblx0XHRwYW5EZWx0YS5zdWJWZWN0b3JzKCBwYW5FbmQsIHBhblN0YXJ0ICk7XG5cblx0XHRwYW4oIHBhbkRlbHRhLngsIHBhbkRlbHRhLnkgKTtcblxuXHRcdHBhblN0YXJ0LmNvcHkoIHBhbkVuZCApO1xuXG5cdFx0c2NvcGUudXBkYXRlKCk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZU1vdXNlVXAoIGV2ZW50ICkge1xuXG5cdFx0Ly8gY29uc29sZS5sb2coICdoYW5kbGVNb3VzZVVwJyApO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVNb3VzZVdoZWVsKCBldmVudCApIHtcblxuXHRcdC8vIGNvbnNvbGUubG9nKCAnaGFuZGxlTW91c2VXaGVlbCcgKTtcblxuXHRcdGlmICggZXZlbnQuZGVsdGFZIDwgMCApIHtcblxuXHRcdFx0ZG9sbHlPdXQoIGdldFpvb21TY2FsZSgpICk7XG5cblx0XHR9IGVsc2UgaWYgKCBldmVudC5kZWx0YVkgPiAwICkge1xuXG5cdFx0XHRkb2xseUluKCBnZXRab29tU2NhbGUoKSApO1xuXG5cdFx0fVxuXG5cdFx0c2NvcGUudXBkYXRlKCk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZUtleURvd24oIGV2ZW50ICkge1xuXG5cdFx0Ly9jb25zb2xlLmxvZyggJ2hhbmRsZUtleURvd24nICk7XG5cblx0XHRzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkge1xuXG5cdFx0XHRjYXNlIHNjb3BlLmtleXMuVVA6XG5cdFx0XHRcdHBhbiggMCwgc2NvcGUua2V5UGFuU3BlZWQgKTtcblx0XHRcdFx0c2NvcGUudXBkYXRlKCk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIHNjb3BlLmtleXMuQk9UVE9NOlxuXHRcdFx0XHRwYW4oIDAsIC0gc2NvcGUua2V5UGFuU3BlZWQgKTtcblx0XHRcdFx0c2NvcGUudXBkYXRlKCk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIHNjb3BlLmtleXMuTEVGVDpcblx0XHRcdFx0cGFuKCBzY29wZS5rZXlQYW5TcGVlZCwgMCApO1xuXHRcdFx0XHRzY29wZS51cGRhdGUoKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2Ugc2NvcGUua2V5cy5SSUdIVDpcblx0XHRcdFx0cGFuKCAtIHNjb3BlLmtleVBhblNwZWVkLCAwICk7XG5cdFx0XHRcdHNjb3BlLnVwZGF0ZSgpO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdH1cblxuXHR9XG5cblx0ZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydFJvdGF0ZSggZXZlbnQgKSB7XG5cblx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlVG91Y2hTdGFydFJvdGF0ZScgKTtcblxuXHRcdHJvdGF0ZVN0YXJ0LnNldCggZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VYLCBldmVudC50b3VjaGVzWyAwIF0ucGFnZVkgKTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydERvbGx5KCBldmVudCApIHtcblxuXHRcdC8vY29uc29sZS5sb2coICdoYW5kbGVUb3VjaFN0YXJ0RG9sbHknICk7XG5cblx0XHR2YXIgZHggPSBldmVudC50b3VjaGVzWyAwIF0ucGFnZVggLSBldmVudC50b3VjaGVzWyAxIF0ucGFnZVg7XG5cdFx0dmFyIGR5ID0gZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VZIC0gZXZlbnQudG91Y2hlc1sgMSBdLnBhZ2VZO1xuXG5cdFx0dmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KCBkeCAqIGR4ICsgZHkgKiBkeSApO1xuXG5cdFx0ZG9sbHlTdGFydC5zZXQoIDAsIGRpc3RhbmNlICk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnRQYW4oIGV2ZW50ICkge1xuXG5cdFx0Ly9jb25zb2xlLmxvZyggJ2hhbmRsZVRvdWNoU3RhcnRQYW4nICk7XG5cblx0XHRwYW5TdGFydC5zZXQoIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWCwgZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VZICk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZVRvdWNoTW92ZVJvdGF0ZSggZXZlbnQgKSB7XG5cblx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlVG91Y2hNb3ZlUm90YXRlJyApO1xuXG5cdFx0cm90YXRlRW5kLnNldCggZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VYLCBldmVudC50b3VjaGVzWyAwIF0ucGFnZVkgKTtcblx0XHRyb3RhdGVEZWx0YS5zdWJWZWN0b3JzKCByb3RhdGVFbmQsIHJvdGF0ZVN0YXJ0ICk7XG5cblx0XHR2YXIgZWxlbWVudCA9IHNjb3BlLmRvbUVsZW1lbnQgPT09IGRvY3VtZW50ID8gc2NvcGUuZG9tRWxlbWVudC5ib2R5IDogc2NvcGUuZG9tRWxlbWVudDtcblxuXHRcdC8vIHJvdGF0aW5nIGFjcm9zcyB3aG9sZSBzY3JlZW4gZ29lcyAzNjAgZGVncmVlcyBhcm91bmRcblx0XHRyb3RhdGVMZWZ0KCAyICogTWF0aC5QSSAqIHJvdGF0ZURlbHRhLnggLyBlbGVtZW50LmNsaWVudFdpZHRoICogc2NvcGUucm90YXRlU3BlZWQgKTtcblxuXHRcdC8vIHJvdGF0aW5nIHVwIGFuZCBkb3duIGFsb25nIHdob2xlIHNjcmVlbiBhdHRlbXB0cyB0byBnbyAzNjAsIGJ1dCBsaW1pdGVkIHRvIDE4MFxuXHRcdHJvdGF0ZVVwKCAyICogTWF0aC5QSSAqIHJvdGF0ZURlbHRhLnkgLyBlbGVtZW50LmNsaWVudEhlaWdodCAqIHNjb3BlLnJvdGF0ZVNwZWVkICk7XG5cblx0XHRyb3RhdGVTdGFydC5jb3B5KCByb3RhdGVFbmQgKTtcblxuXHRcdHNjb3BlLnVwZGF0ZSgpO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmVEb2xseSggZXZlbnQgKSB7XG5cblx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlVG91Y2hNb3ZlRG9sbHknICk7XG5cblx0XHR2YXIgZHggPSBldmVudC50b3VjaGVzWyAwIF0ucGFnZVggLSBldmVudC50b3VjaGVzWyAxIF0ucGFnZVg7XG5cdFx0dmFyIGR5ID0gZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VZIC0gZXZlbnQudG91Y2hlc1sgMSBdLnBhZ2VZO1xuXG5cdFx0dmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KCBkeCAqIGR4ICsgZHkgKiBkeSApO1xuXG5cdFx0ZG9sbHlFbmQuc2V0KCAwLCBkaXN0YW5jZSApO1xuXG5cdFx0ZG9sbHlEZWx0YS5zdWJWZWN0b3JzKCBkb2xseUVuZCwgZG9sbHlTdGFydCApO1xuXG5cdFx0aWYgKCBkb2xseURlbHRhLnkgPiAwICkge1xuXG5cdFx0XHRkb2xseU91dCggZ2V0Wm9vbVNjYWxlKCkgKTtcblxuXHRcdH0gZWxzZSBpZiAoIGRvbGx5RGVsdGEueSA8IDAgKSB7XG5cblx0XHRcdGRvbGx5SW4oIGdldFpvb21TY2FsZSgpICk7XG5cblx0XHR9XG5cblx0XHRkb2xseVN0YXJ0LmNvcHkoIGRvbGx5RW5kICk7XG5cblx0XHRzY29wZS51cGRhdGUoKTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlUGFuKCBldmVudCApIHtcblxuXHRcdC8vY29uc29sZS5sb2coICdoYW5kbGVUb3VjaE1vdmVQYW4nICk7XG5cblx0XHRwYW5FbmQuc2V0KCBldmVudC50b3VjaGVzWyAwIF0ucGFnZVgsIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWSApO1xuXG5cdFx0cGFuRGVsdGEuc3ViVmVjdG9ycyggcGFuRW5kLCBwYW5TdGFydCApO1xuXG5cdFx0cGFuKCBwYW5EZWx0YS54LCBwYW5EZWx0YS55ICk7XG5cblx0XHRwYW5TdGFydC5jb3B5KCBwYW5FbmQgKTtcblxuXHRcdHNjb3BlLnVwZGF0ZSgpO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVUb3VjaEVuZCggZXZlbnQgKSB7XG5cblx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlVG91Y2hFbmQnICk7XG5cblx0fVxuXG5cdC8vXG5cdC8vIGV2ZW50IGhhbmRsZXJzIC0gRlNNOiBsaXN0ZW4gZm9yIGV2ZW50cyBhbmQgcmVzZXQgc3RhdGVcblx0Ly9cblxuXHRmdW5jdGlvbiBvbk1vdXNlRG93biggZXZlbnQgKSB7XG5cblx0XHRpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdGlmICggZXZlbnQuYnV0dG9uID09PSBzY29wZS5tb3VzZUJ1dHRvbnMuT1JCSVQgKSB7XG5cblx0XHRcdGlmICggc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdFx0aGFuZGxlTW91c2VEb3duUm90YXRlKCBldmVudCApO1xuXG5cdFx0XHRzdGF0ZSA9IFNUQVRFLlJPVEFURTtcblxuXHRcdH0gZWxzZSBpZiAoIGV2ZW50LmJ1dHRvbiA9PT0gc2NvcGUubW91c2VCdXR0b25zLlpPT00gKSB7XG5cblx0XHRcdGlmICggc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRcdGhhbmRsZU1vdXNlRG93bkRvbGx5KCBldmVudCApO1xuXG5cdFx0XHRzdGF0ZSA9IFNUQVRFLkRPTExZO1xuXG5cdFx0fSBlbHNlIGlmICggZXZlbnQuYnV0dG9uID09PSBzY29wZS5tb3VzZUJ1dHRvbnMuUEFOICkge1xuXG5cdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRcdGhhbmRsZU1vdXNlRG93blBhbiggZXZlbnQgKTtcblxuXHRcdFx0c3RhdGUgPSBTVEFURS5QQU47XG5cblx0XHR9XG5cblx0XHRpZiAoIHN0YXRlICE9PSBTVEFURS5OT05FICkge1xuXG5cdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAnbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUsIGZhbHNlICk7XG5cdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAnbW91c2V1cCcsIG9uTW91c2VVcCwgZmFsc2UgKTtcblxuXHRcdFx0c2NvcGUuZGlzcGF0Y2hFdmVudCggc3RhcnRFdmVudCApO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRmdW5jdGlvbiBvbk1vdXNlTW92ZSggZXZlbnQgKSB7XG5cblx0XHRpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdGlmICggc3RhdGUgPT09IFNUQVRFLlJPVEFURSApIHtcblxuXHRcdFx0aWYgKCBzY29wZS5lbmFibGVSb3RhdGUgPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0XHRoYW5kbGVNb3VzZU1vdmVSb3RhdGUoIGV2ZW50ICk7XG5cblx0XHR9IGVsc2UgaWYgKCBzdGF0ZSA9PT0gU1RBVEUuRE9MTFkgKSB7XG5cblx0XHRcdGlmICggc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRcdGhhbmRsZU1vdXNlTW92ZURvbGx5KCBldmVudCApO1xuXG5cdFx0fSBlbHNlIGlmICggc3RhdGUgPT09IFNUQVRFLlBBTiApIHtcblxuXHRcdFx0aWYgKCBzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0XHRoYW5kbGVNb3VzZU1vdmVQYW4oIGV2ZW50ICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdGZ1bmN0aW9uIG9uTW91c2VVcCggZXZlbnQgKSB7XG5cblx0XHRpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0aGFuZGxlTW91c2VVcCggZXZlbnQgKTtcblxuXHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSwgZmFsc2UgKTtcblx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnbW91c2V1cCcsIG9uTW91c2VVcCwgZmFsc2UgKTtcblxuXHRcdHNjb3BlLmRpc3BhdGNoRXZlbnQoIGVuZEV2ZW50ICk7XG5cblx0XHRzdGF0ZSA9IFNUQVRFLk5PTkU7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIG9uTW91c2VXaGVlbCggZXZlbnQgKSB7XG5cblx0XHRpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlIHx8IHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlIHx8ICggc3RhdGUgIT09IFNUQVRFLk5PTkUgJiYgc3RhdGUgIT09IFNUQVRFLlJPVEFURSApICkgcmV0dXJuO1xuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuXHRcdGhhbmRsZU1vdXNlV2hlZWwoIGV2ZW50ICk7XG5cblx0XHRzY29wZS5kaXNwYXRjaEV2ZW50KCBzdGFydEV2ZW50ICk7IC8vIG5vdCBzdXJlIHdoeSB0aGVzZSBhcmUgaGVyZS4uLlxuXHRcdHNjb3BlLmRpc3BhdGNoRXZlbnQoIGVuZEV2ZW50ICk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIG9uS2V5RG93biggZXZlbnQgKSB7XG5cblx0XHRpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlIHx8IHNjb3BlLmVuYWJsZUtleXMgPT09IGZhbHNlIHx8IHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRoYW5kbGVLZXlEb3duKCBldmVudCApO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBvblRvdWNoU3RhcnQoIGV2ZW50ICkge1xuXG5cdFx0aWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdHN3aXRjaCAoIGV2ZW50LnRvdWNoZXMubGVuZ3RoICkge1xuXG5cdFx0XHRjYXNlIDE6XHQvLyBvbmUtZmluZ2VyZWQgdG91Y2g6IHJvdGF0ZVxuXG5cdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdFx0XHRoYW5kbGVUb3VjaFN0YXJ0Um90YXRlKCBldmVudCApO1xuXG5cdFx0XHRcdHN0YXRlID0gU1RBVEUuVE9VQ0hfUk9UQVRFO1xuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDI6XHQvLyB0d28tZmluZ2VyZWQgdG91Y2g6IGRvbGx5XG5cblx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVab29tID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdFx0XHRoYW5kbGVUb3VjaFN0YXJ0RG9sbHkoIGV2ZW50ICk7XG5cblx0XHRcdFx0c3RhdGUgPSBTVEFURS5UT1VDSF9ET0xMWTtcblxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAzOiAvLyB0aHJlZS1maW5nZXJlZCB0b3VjaDogcGFuXG5cblx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0XHRcdGhhbmRsZVRvdWNoU3RhcnRQYW4oIGV2ZW50ICk7XG5cblx0XHRcdFx0c3RhdGUgPSBTVEFURS5UT1VDSF9QQU47XG5cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGRlZmF1bHQ6XG5cblx0XHRcdFx0c3RhdGUgPSBTVEFURS5OT05FO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBzdGF0ZSAhPT0gU1RBVEUuTk9ORSApIHtcblxuXHRcdFx0c2NvcGUuZGlzcGF0Y2hFdmVudCggc3RhcnRFdmVudCApO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRmdW5jdGlvbiBvblRvdWNoTW92ZSggZXZlbnQgKSB7XG5cblx0XHRpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuXHRcdHN3aXRjaCAoIGV2ZW50LnRvdWNoZXMubGVuZ3RoICkge1xuXG5cdFx0XHRjYXNlIDE6IC8vIG9uZS1maW5nZXJlZCB0b3VjaDogcm90YXRlXG5cblx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVSb3RhdGUgPT09IGZhbHNlICkgcmV0dXJuO1xuXHRcdFx0XHRpZiAoIHN0YXRlICE9PSBTVEFURS5UT1VDSF9ST1RBVEUgKSByZXR1cm47IC8vIGlzIHRoaXMgbmVlZGVkPy4uLlxuXG5cdFx0XHRcdGhhbmRsZVRvdWNoTW92ZVJvdGF0ZSggZXZlbnQgKTtcblxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAyOiAvLyB0d28tZmluZ2VyZWQgdG91Y2g6IGRvbGx5XG5cblx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVab29tID09PSBmYWxzZSApIHJldHVybjtcblx0XHRcdFx0aWYgKCBzdGF0ZSAhPT0gU1RBVEUuVE9VQ0hfRE9MTFkgKSByZXR1cm47IC8vIGlzIHRoaXMgbmVlZGVkPy4uLlxuXG5cdFx0XHRcdGhhbmRsZVRvdWNoTW92ZURvbGx5KCBldmVudCApO1xuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDM6IC8vIHRocmVlLWZpbmdlcmVkIHRvdWNoOiBwYW5cblxuXHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UgKSByZXR1cm47XG5cdFx0XHRcdGlmICggc3RhdGUgIT09IFNUQVRFLlRPVUNIX1BBTiApIHJldHVybjsgLy8gaXMgdGhpcyBuZWVkZWQ/Li4uXG5cblx0XHRcdFx0aGFuZGxlVG91Y2hNb3ZlUGFuKCBldmVudCApO1xuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXG5cdFx0XHRcdHN0YXRlID0gU1RBVEUuTk9ORTtcblxuXHRcdH1cblxuXHR9XG5cblx0ZnVuY3Rpb24gb25Ub3VjaEVuZCggZXZlbnQgKSB7XG5cblx0XHRpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0aGFuZGxlVG91Y2hFbmQoIGV2ZW50ICk7XG5cblx0XHRzY29wZS5kaXNwYXRjaEV2ZW50KCBlbmRFdmVudCApO1xuXG5cdFx0c3RhdGUgPSBTVEFURS5OT05FO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBvbkNvbnRleHRNZW51KCBldmVudCApIHtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0fVxuXG5cdC8vXG5cblx0c2NvcGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnY29udGV4dG1lbnUnLCBvbkNvbnRleHRNZW51LCBmYWxzZSApO1xuXG5cdHNjb3BlLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ21vdXNlZG93bicsIG9uTW91c2VEb3duLCBmYWxzZSApO1xuXHRzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd3aGVlbCcsIG9uTW91c2VXaGVlbCwgZmFsc2UgKTtcblxuXHRzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd0b3VjaHN0YXJ0Jywgb25Ub3VjaFN0YXJ0LCBmYWxzZSApO1xuXHRzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd0b3VjaGVuZCcsIG9uVG91Y2hFbmQsIGZhbHNlICk7XG5cdHNjb3BlLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlLCBmYWxzZSApO1xuXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAna2V5ZG93bicsIG9uS2V5RG93biwgZmFsc2UgKTtcblxuXHQvLyBmb3JjZSBhbiB1cGRhdGUgYXQgc3RhcnRcblxuXHR0aGlzLnVwZGF0ZSgpO1xuXG59XG5cbk9yYml0Q29udHJvbHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVEhSRUUuRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZSApO1xuT3JiaXRDb250cm9scy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUSFJFRS5PcmJpdENvbnRyb2xzO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggT3JiaXRDb250cm9scy5wcm90b3R5cGUsIHtcblxuXHRjZW50ZXI6IHtcblxuXHRcdGdldDogZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAuY2VudGVyIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnRhcmdldCcgKTtcblx0XHRcdHJldHVybiB0aGlzLnRhcmdldDtcblxuXHRcdH1cblxuXHR9LFxuXG5cdC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcblxuXHRub1pvb206IHtcblxuXHRcdGdldDogZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9ab29tIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlWm9vbSBpbnN0ZWFkLicgKTtcblx0XHRcdHJldHVybiAhIHRoaXMuZW5hYmxlWm9vbTtcblxuXHRcdH0sXG5cblx0XHRzZXQ6IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5ub1pvb20gaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVab29tIGluc3RlYWQuJyApO1xuXHRcdFx0dGhpcy5lbmFibGVab29tID0gISB2YWx1ZTtcblxuXHRcdH1cblxuXHR9LFxuXG5cdG5vUm90YXRlOiB7XG5cblx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLm5vUm90YXRlIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlUm90YXRlIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuICEgdGhpcy5lbmFibGVSb3RhdGU7XG5cblx0XHR9LFxuXG5cdFx0c2V0OiBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9Sb3RhdGUgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVSb3RhdGUgaW5zdGVhZC4nICk7XG5cdFx0XHR0aGlzLmVuYWJsZVJvdGF0ZSA9ICEgdmFsdWU7XG5cblx0XHR9XG5cblx0fSxcblxuXHRub1Bhbjoge1xuXG5cdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5ub1BhbiBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZVBhbiBpbnN0ZWFkLicgKTtcblx0XHRcdHJldHVybiAhIHRoaXMuZW5hYmxlUGFuO1xuXG5cdFx0fSxcblxuXHRcdHNldDogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLm5vUGFuIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlUGFuIGluc3RlYWQuJyApO1xuXHRcdFx0dGhpcy5lbmFibGVQYW4gPSAhIHZhbHVlO1xuXG5cdFx0fVxuXG5cdH0sXG5cblx0bm9LZXlzOiB7XG5cblx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLm5vS2V5cyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZUtleXMgaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gISB0aGlzLmVuYWJsZUtleXM7XG5cblx0XHR9LFxuXG5cdFx0c2V0OiBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9LZXlzIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlS2V5cyBpbnN0ZWFkLicgKTtcblx0XHRcdHRoaXMuZW5hYmxlS2V5cyA9ICEgdmFsdWU7XG5cblx0XHR9XG5cblx0fSxcblxuXHRzdGF0aWNNb3Zpbmc6IHtcblxuXHRcdGdldDogZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAuc3RhdGljTW92aW5nIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlRGFtcGluZyBpbnN0ZWFkLicgKTtcblx0XHRcdHJldHVybiAhIHRoaXMuZW5hYmxlRGFtcGluZztcblxuXHRcdH0sXG5cblx0XHRzZXQ6IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5zdGF0aWNNb3ZpbmcgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVEYW1waW5nIGluc3RlYWQuJyApO1xuXHRcdFx0dGhpcy5lbmFibGVEYW1waW5nID0gISB2YWx1ZTtcblxuXHRcdH1cblxuXHR9LFxuXG5cdGR5bmFtaWNEYW1waW5nRmFjdG9yOiB7XG5cblx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLmR5bmFtaWNEYW1waW5nRmFjdG9yIGhhcyBiZWVuIHJlbmFtZWQuIFVzZSAuZGFtcGluZ0ZhY3RvciBpbnN0ZWFkLicgKTtcblx0XHRcdHJldHVybiB0aGlzLmRhbXBpbmdGYWN0b3I7XG5cblx0XHR9LFxuXG5cdFx0c2V0OiBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAuZHluYW1pY0RhbXBpbmdGYWN0b3IgaGFzIGJlZW4gcmVuYW1lZC4gVXNlIC5kYW1waW5nRmFjdG9yIGluc3RlYWQuJyApO1xuXHRcdFx0dGhpcy5kYW1waW5nRmFjdG9yID0gdmFsdWU7XG5cblx0XHR9XG5cblx0fVxuXG59ICk7XG5cbmV4cG9ydCB7IE9yYml0Q29udHJvbHMgfVxuIiwiLyoqXG4gKiBAYXV0aG9yIGFsZWVwZXIgLyBodHRwOi8vYWRhbWxlZXBlci5jb20vXG4gKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tL1xuICogQGF1dGhvciBnZXJvMyAvIGh0dHBzOi8vZ2l0aHViLmNvbS9nZXJvM1xuICogQGF1dGhvciBNdWdlbjg3IC8gaHR0cHM6Ly9naXRodWIuY29tL011Z2VuODdcbiAqXG4gKiBEZXNjcmlwdGlvbjogQSBUSFJFRSBsb2FkZXIgZm9yIFNUTCBBU0NJSSBmaWxlcywgYXMgY3JlYXRlZCBieSBTb2xpZHdvcmtzIGFuZCBvdGhlciBDQUQgcHJvZ3JhbXMuXG4gKlxuICogU3VwcG9ydHMgYm90aCBiaW5hcnkgYW5kIEFTQ0lJIGVuY29kZWQgZmlsZXMsIHdpdGggYXV0b21hdGljIGRldGVjdGlvbiBvZiB0eXBlLlxuICpcbiAqIFRoZSBsb2FkZXIgcmV0dXJucyBhIG5vbi1pbmRleGVkIGJ1ZmZlciBnZW9tZXRyeS5cbiAqXG4gKiBMaW1pdGF0aW9uczpcbiAqICBCaW5hcnkgZGVjb2Rpbmcgc3VwcG9ydHMgXCJNYWdpY3NcIiBjb2xvciBmb3JtYXQgKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU1RMXyhmaWxlX2Zvcm1hdCkjQ29sb3JfaW5fYmluYXJ5X1NUTCkuXG4gKiAgVGhlcmUgaXMgcGVyaGFwcyBzb21lIHF1ZXN0aW9uIGFzIHRvIGhvdyB2YWxpZCBpdCBpcyB0byBhbHdheXMgYXNzdW1lIGxpdHRsZS1lbmRpYW4tbmVzcy5cbiAqICBBU0NJSSBkZWNvZGluZyBhc3N1bWVzIGZpbGUgaXMgVVRGLTguXG4gKlxuICogVXNhZ2U6XG4gKiAgdmFyIGxvYWRlciA9IG5ldyBUSFJFRS5TVExMb2FkZXIoKTtcbiAqICBsb2FkZXIubG9hZCggJy4vbW9kZWxzL3N0bC9zbG90dGVkX2Rpc2suc3RsJywgZnVuY3Rpb24gKCBnZW9tZXRyeSApIHtcbiAqICAgIHNjZW5lLmFkZCggbmV3IFRIUkVFLk1lc2goIGdlb21ldHJ5ICkgKTtcbiAqICB9KTtcbiAqXG4gKiBGb3IgYmluYXJ5IFNUTHMgZ2VvbWV0cnkgbWlnaHQgY29udGFpbiBjb2xvcnMgZm9yIHZlcnRpY2VzLiBUbyB1c2UgaXQ6XG4gKiAgLy8gdXNlIHRoZSBzYW1lIGNvZGUgdG8gbG9hZCBTVEwgYXMgYWJvdmVcbiAqICBpZiAoZ2VvbWV0cnkuaGFzQ29sb3JzKSB7XG4gKiAgICBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7IG9wYWNpdHk6IGdlb21ldHJ5LmFscGhhLCB2ZXJ0ZXhDb2xvcnM6IFRIUkVFLlZlcnRleENvbG9ycyB9KTtcbiAqICB9IGVsc2UgeyAuLi4uIH1cbiAqICB2YXIgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKCBnZW9tZXRyeSwgbWF0ZXJpYWwgKTtcbiAqL1xuXG5pbXBvcnQgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5mdW5jdGlvbiBTVExMb2FkZXIoIG1hbmFnZXIgKSB7XG5cbiAgICB0aGlzLm1hbmFnZXIgPSAoIG1hbmFnZXIgIT09IHVuZGVmaW5lZCApID8gbWFuYWdlciA6IFRIUkVFLkRlZmF1bHRMb2FkaW5nTWFuYWdlcjtcblxufVxuXG5TVExMb2FkZXIucHJvdG90eXBlID0ge1xuXG4gICAgY29uc3RydWN0b3I6IFNUTExvYWRlcixcblxuICAgIGxvYWQ6IGZ1bmN0aW9uICggdXJsLCBvbkxvYWQsIG9uUHJvZ3Jlc3MsIG9uRXJyb3IgKSB7XG5cbiAgICAgICAgdmFyIHNjb3BlID0gdGhpcztcblxuICAgICAgICB2YXIgbG9hZGVyID0gbmV3IFRIUkVFLkZpbGVMb2FkZXIoIHNjb3BlLm1hbmFnZXIgKTtcbiAgICAgICAgbG9hZGVyLnNldFJlc3BvbnNlVHlwZSggJ2FycmF5YnVmZmVyJyApO1xuICAgICAgICBsb2FkZXIubG9hZCggdXJsLCBmdW5jdGlvbiAoIHRleHQgKSB7XG5cbiAgICAgICAgICAgIG9uTG9hZCggc2NvcGUucGFyc2UoIHRleHQgKSApO1xuXG4gICAgICAgIH0sIG9uUHJvZ3Jlc3MsIG9uRXJyb3IgKTtcblxuICAgIH0sXG5cbiAgICBwYXJzZTogZnVuY3Rpb24gKCBkYXRhICkge1xuXG4gICAgICAgIHZhciBpc0JpbmFyeSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIGV4cGVjdCwgZmFjZV9zaXplLCBuX2ZhY2VzLCByZWFkZXI7XG4gICAgICAgICAgICByZWFkZXIgPSBuZXcgRGF0YVZpZXcoIGJpbkRhdGEgKTtcbiAgICAgICAgICAgIGZhY2Vfc2l6ZSA9ICggMzIgLyA4ICogMyApICsgKCAoIDMyIC8gOCAqIDMgKSAqIDMgKSArICggMTYgLyA4ICk7XG4gICAgICAgICAgICBuX2ZhY2VzID0gcmVhZGVyLmdldFVpbnQzMiggODAsIHRydWUgKTtcbiAgICAgICAgICAgIGV4cGVjdCA9IDgwICsgKCAzMiAvIDggKSArICggbl9mYWNlcyAqIGZhY2Vfc2l6ZSApO1xuXG4gICAgICAgICAgICBpZiAoIGV4cGVjdCA9PT0gcmVhZGVyLmJ5dGVMZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBbiBBU0NJSSBTVEwgZGF0YSBtdXN0IGJlZ2luIHdpdGggJ3NvbGlkICcgYXMgdGhlIGZpcnN0IHNpeCBieXRlcy5cbiAgICAgICAgICAgIC8vIEhvd2V2ZXIsIEFTQ0lJIFNUTHMgbGFja2luZyB0aGUgU1BBQ0UgYWZ0ZXIgdGhlICdkJyBhcmUga25vd24gdG8gYmVcbiAgICAgICAgICAgIC8vIHBsZW50aWZ1bC4gIFNvLCBjaGVjayB0aGUgZmlyc3QgNSBieXRlcyBmb3IgJ3NvbGlkJy5cblxuICAgICAgICAgICAgLy8gVVMtQVNDSUkgb3JkaW5hbCB2YWx1ZXMgZm9yICdzJywgJ28nLCAnbCcsICdpJywgJ2QnXG4gICAgICAgICAgICB2YXIgc29saWQgPSBbIDExNSwgMTExLCAxMDgsIDEwNSwgMTAwIF07XG5cbiAgICAgICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8IDU7IGkgKysgKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiBzb2xpZFsgaSBdIGRvZXMgbm90IG1hdGNoIHRoZSBpLXRoIGJ5dGUsIHRoZW4gaXQgaXMgbm90IGFuXG4gICAgICAgICAgICAgICAgLy8gQVNDSUkgU1RMOyBoZW5jZSwgaXQgaXMgYmluYXJ5IGFuZCByZXR1cm4gdHJ1ZS5cblxuICAgICAgICAgICAgICAgIGlmICggc29saWRbIGkgXSAhPSByZWFkZXIuZ2V0VWludDgoIGksIGZhbHNlICkgKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBGaXJzdCA1IGJ5dGVzIHJlYWQgXCJzb2xpZFwiOyBkZWNsYXJlIGl0IHRvIGJlIGFuIEFTQ0lJIFNUTFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGJpbkRhdGEgPSB0aGlzLmVuc3VyZUJpbmFyeSggZGF0YSApO1xuXG4gICAgICAgIHJldHVybiBpc0JpbmFyeSgpID8gdGhpcy5wYXJzZUJpbmFyeSggYmluRGF0YSApIDogdGhpcy5wYXJzZUFTQ0lJKCB0aGlzLmVuc3VyZVN0cmluZyggZGF0YSApICk7XG5cbiAgICB9LFxuXG4gICAgcGFyc2VCaW5hcnk6IGZ1bmN0aW9uICggZGF0YSApIHtcblxuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IERhdGFWaWV3KCBkYXRhICk7XG4gICAgICAgIHZhciBmYWNlcyA9IHJlYWRlci5nZXRVaW50MzIoIDgwLCB0cnVlICk7XG5cbiAgICAgICAgdmFyIHIsIGcsIGIsIGhhc0NvbG9ycyA9IGZhbHNlLCBjb2xvcnM7XG4gICAgICAgIHZhciBkZWZhdWx0UiwgZGVmYXVsdEcsIGRlZmF1bHRCLCBhbHBoYTtcblxuICAgICAgICAvLyBwcm9jZXNzIFNUTCBoZWFkZXJcbiAgICAgICAgLy8gY2hlY2sgZm9yIGRlZmF1bHQgY29sb3IgaW4gaGVhZGVyIChcIkNPTE9SPXJnYmFcIiBzZXF1ZW5jZSkuXG5cbiAgICAgICAgZm9yICggdmFyIGluZGV4ID0gMDsgaW5kZXggPCA4MCAtIDEwOyBpbmRleCArKyApIHtcblxuICAgICAgICAgICAgaWYgKCAoIHJlYWRlci5nZXRVaW50MzIoIGluZGV4LCBmYWxzZSApID09IDB4NDM0RjRDNEYgLypDT0xPKi8gKSAmJlxuICAgICAgICAgICAgICAgICggcmVhZGVyLmdldFVpbnQ4KCBpbmRleCArIDQgKSA9PSAweDUyIC8qJ1InKi8gKSAmJlxuICAgICAgICAgICAgICAgICggcmVhZGVyLmdldFVpbnQ4KCBpbmRleCArIDUgKSA9PSAweDNEIC8qJz0nKi8gKSApIHtcblxuICAgICAgICAgICAgICAgIGhhc0NvbG9ycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29sb3JzID0gW107XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0UiA9IHJlYWRlci5nZXRVaW50OCggaW5kZXggKyA2ICkgLyAyNTU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdEcgPSByZWFkZXIuZ2V0VWludDgoIGluZGV4ICsgNyApIC8gMjU1O1xuICAgICAgICAgICAgICAgIGRlZmF1bHRCID0gcmVhZGVyLmdldFVpbnQ4KCBpbmRleCArIDggKSAvIDI1NTtcbiAgICAgICAgICAgICAgICBhbHBoYSA9IHJlYWRlci5nZXRVaW50OCggaW5kZXggKyA5ICkgLyAyNTU7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRhdGFPZmZzZXQgPSA4NDtcbiAgICAgICAgdmFyIGZhY2VMZW5ndGggPSAxMiAqIDQgKyAyO1xuXG4gICAgICAgIHZhciBnZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xuXG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IFtdO1xuICAgICAgICB2YXIgbm9ybWFscyA9IFtdO1xuXG4gICAgICAgIGZvciAoIHZhciBmYWNlID0gMDsgZmFjZSA8IGZhY2VzOyBmYWNlICsrICkge1xuXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBkYXRhT2Zmc2V0ICsgZmFjZSAqIGZhY2VMZW5ndGg7XG4gICAgICAgICAgICB2YXIgbm9ybWFsWCA9IHJlYWRlci5nZXRGbG9hdDMyKCBzdGFydCwgdHJ1ZSApO1xuICAgICAgICAgICAgdmFyIG5vcm1hbFkgPSByZWFkZXIuZ2V0RmxvYXQzMiggc3RhcnQgKyA0LCB0cnVlICk7XG4gICAgICAgICAgICB2YXIgbm9ybWFsWiA9IHJlYWRlci5nZXRGbG9hdDMyKCBzdGFydCArIDgsIHRydWUgKTtcblxuICAgICAgICAgICAgaWYgKCBoYXNDb2xvcnMgKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgcGFja2VkQ29sb3IgPSByZWFkZXIuZ2V0VWludDE2KCBzdGFydCArIDQ4LCB0cnVlICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoICggcGFja2VkQ29sb3IgJiAweDgwMDAgKSA9PT0gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBmYWNldCBoYXMgaXRzIG93biB1bmlxdWUgY29sb3JcblxuICAgICAgICAgICAgICAgICAgICByID0gKCBwYWNrZWRDb2xvciAmIDB4MUYgKSAvIDMxO1xuICAgICAgICAgICAgICAgICAgICBnID0gKCAoIHBhY2tlZENvbG9yID4+IDUgKSAmIDB4MUYgKSAvIDMxO1xuICAgICAgICAgICAgICAgICAgICBiID0gKCAoIHBhY2tlZENvbG9yID4+IDEwICkgJiAweDFGICkgLyAzMTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgciA9IGRlZmF1bHRSO1xuICAgICAgICAgICAgICAgICAgICBnID0gZGVmYXVsdEc7XG4gICAgICAgICAgICAgICAgICAgIGIgPSBkZWZhdWx0QjtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDE7IGkgPD0gMzsgaSArKyApIHtcblxuICAgICAgICAgICAgICAgIHZhciB2ZXJ0ZXhzdGFydCA9IHN0YXJ0ICsgaSAqIDEyO1xuXG4gICAgICAgICAgICAgICAgdmVydGljZXMucHVzaCggcmVhZGVyLmdldEZsb2F0MzIoIHZlcnRleHN0YXJ0LCB0cnVlICkgKTtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKCByZWFkZXIuZ2V0RmxvYXQzMiggdmVydGV4c3RhcnQgKyA0LCB0cnVlICkgKTtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKCByZWFkZXIuZ2V0RmxvYXQzMiggdmVydGV4c3RhcnQgKyA4LCB0cnVlICkgKTtcblxuICAgICAgICAgICAgICAgIG5vcm1hbHMucHVzaCggbm9ybWFsWCwgbm9ybWFsWSwgbm9ybWFsWiApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBoYXNDb2xvcnMgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29sb3JzLnB1c2goIHIsIGcsIGIgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoICdwb3NpdGlvbicsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoIG5ldyBGbG9hdDMyQXJyYXkoIHZlcnRpY2VzICksIDMgKSApO1xuICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoICdub3JtYWwnLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKCBuZXcgRmxvYXQzMkFycmF5KCBub3JtYWxzICksIDMgKSApO1xuXG4gICAgICAgIGlmICggaGFzQ29sb3JzICkge1xuXG4gICAgICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoICdjb2xvcicsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoIG5ldyBGbG9hdDMyQXJyYXkoIGNvbG9ycyApLCAzICkgKTtcbiAgICAgICAgICAgIGdlb21ldHJ5Lmhhc0NvbG9ycyA9IHRydWU7XG4gICAgICAgICAgICBnZW9tZXRyeS5hbHBoYSA9IGFscGhhO1xuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XG5cbiAgICB9LFxuXG4gICAgcGFyc2VBU0NJSTogZnVuY3Rpb24gKCBkYXRhICkge1xuXG4gICAgICAgIHZhciBnZW9tZXRyeSwgbGVuZ3RoLCBwYXR0ZXJuRmFjZSwgcGF0dGVybk5vcm1hbCwgcGF0dGVyblZlcnRleCwgcmVzdWx0LCB0ZXh0O1xuICAgICAgICBnZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xuICAgICAgICBwYXR0ZXJuRmFjZSA9IC9mYWNldChbXFxzXFxTXSo/KWVuZGZhY2V0L2c7XG5cbiAgICAgICAgdmFyIHZlcnRpY2VzID0gW107XG4gICAgICAgIHZhciBub3JtYWxzID0gW107XG5cbiAgICAgICAgdmFyIG5vcm1hbCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cbiAgICAgICAgd2hpbGUgKCAoIHJlc3VsdCA9IHBhdHRlcm5GYWNlLmV4ZWMoIGRhdGEgKSApICE9PSBudWxsICkge1xuXG4gICAgICAgICAgICB0ZXh0ID0gcmVzdWx0WyAwIF07XG4gICAgICAgICAgICBwYXR0ZXJuTm9ybWFsID0gL25vcm1hbFtcXHNdKyhbXFwtK10/WzAtOV0rXFwuP1swLTldKihbZUVdW1xcLStdP1swLTldKyk/KStbXFxzXSsoW1xcLStdP1swLTldKlxcLj9bMC05XSsoW2VFXVtcXC0rXT9bMC05XSspPykrW1xcc10rKFtcXC0rXT9bMC05XSpcXC4/WzAtOV0rKFtlRV1bXFwtK10/WzAtOV0rKT8pKy9nO1xuXG4gICAgICAgICAgICB3aGlsZSAoICggcmVzdWx0ID0gcGF0dGVybk5vcm1hbC5leGVjKCB0ZXh0ICkgKSAhPT0gbnVsbCApIHtcblxuICAgICAgICAgICAgICAgIG5vcm1hbC54ID0gcGFyc2VGbG9hdCggcmVzdWx0WyAxIF0gKTtcbiAgICAgICAgICAgICAgICBub3JtYWwueSA9IHBhcnNlRmxvYXQoIHJlc3VsdFsgMyBdICk7XG4gICAgICAgICAgICAgICAgbm9ybWFsLnogPSBwYXJzZUZsb2F0KCByZXN1bHRbIDUgXSApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhdHRlcm5WZXJ0ZXggPSAvdmVydGV4W1xcc10rKFtcXC0rXT9bMC05XStcXC4/WzAtOV0qKFtlRV1bXFwtK10/WzAtOV0rKT8pK1tcXHNdKyhbXFwtK10/WzAtOV0qXFwuP1swLTldKyhbZUVdW1xcLStdP1swLTldKyk/KStbXFxzXSsoW1xcLStdP1swLTldKlxcLj9bMC05XSsoW2VFXVtcXC0rXT9bMC05XSspPykrL2c7XG5cbiAgICAgICAgICAgIHdoaWxlICggKCByZXN1bHQgPSBwYXR0ZXJuVmVydGV4LmV4ZWMoIHRleHQgKSApICE9PSBudWxsICkge1xuXG4gICAgICAgICAgICAgICAgdmVydGljZXMucHVzaCggcGFyc2VGbG9hdCggcmVzdWx0WyAxIF0gKSwgcGFyc2VGbG9hdCggcmVzdWx0WyAzIF0gKSwgcGFyc2VGbG9hdCggcmVzdWx0WyA1IF0gKSApO1xuICAgICAgICAgICAgICAgIG5vcm1hbHMucHVzaCggbm9ybWFsLngsIG5vcm1hbC55LCBub3JtYWwueiApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggbmV3IEZsb2F0MzJBcnJheSggdmVydGljZXMgKSwgMyApICk7XG4gICAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ25vcm1hbCcsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoIG5ldyBGbG9hdDMyQXJyYXkoIG5vcm1hbHMgKSwgMyApICk7XG5cbiAgICAgICAgcmV0dXJuIGdlb21ldHJ5O1xuXG4gICAgfSxcblxuICAgIGVuc3VyZVN0cmluZzogZnVuY3Rpb24gKCBidWYgKSB7XG5cbiAgICAgICAgaWYgKCB0eXBlb2YgYnVmICE9PSBcInN0cmluZ1wiICkge1xuXG4gICAgICAgICAgICB2YXIgYXJyYXlfYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoIGJ1ZiApO1xuICAgICAgICAgICAgdmFyIHN0ckFycmF5ID0gW107XG4gICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBidWYuYnl0ZUxlbmd0aDsgaSArKyApIHtcblxuICAgICAgICAgICAgICAgIHN0ckFycmF5LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSggYXJyYXlfYnVmZmVyWyBpIF0gKSk7IC8vIGltcGxpY2l0bHkgYXNzdW1lcyBsaXR0bGUtZW5kaWFuXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdHJBcnJheS5qb2luKCcnKTtcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICByZXR1cm4gYnVmO1xuXG4gICAgICAgIH1cblxuICAgIH0sXG5cbiAgICBlbnN1cmVCaW5hcnk6IGZ1bmN0aW9uICggYnVmICkge1xuXG4gICAgICAgIGlmICggdHlwZW9mIGJ1ZiA9PT0gXCJzdHJpbmdcIiApIHtcblxuICAgICAgICAgICAgdmFyIGFycmF5X2J1ZmZlciA9IG5ldyBVaW50OEFycmF5KCBidWYubGVuZ3RoICk7XG4gICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBidWYubGVuZ3RoOyBpICsrICkge1xuXG4gICAgICAgICAgICAgICAgYXJyYXlfYnVmZmVyWyBpIF0gPSBidWYuY2hhckNvZGVBdCggaSApICYgMHhmZjsgLy8gaW1wbGljaXRseSBhc3N1bWVzIGxpdHRsZS1lbmRpYW5cblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFycmF5X2J1ZmZlci5idWZmZXIgfHwgYXJyYXlfYnVmZmVyO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHJldHVybiBidWY7XG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG59O1xuXG5leHBvcnQgeyBTVExMb2FkZXIgfVxuIiwiLyoqXG4gKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tL1xuICogQGF1dGhvciBtci5kb29iIC8gaHR0cDovL21yZG9vYi5jb20vXG4gKi9cblxudmFyIERldGVjdG9yID0ge1xuXG5cdGNhbnZhczogISEgd2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcblx0d2ViZ2w6ICggZnVuY3Rpb24gKCkge1xuXG5cdFx0dHJ5IHtcblxuXHRcdFx0dmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdjYW52YXMnICk7IHJldHVybiAhISAoIHdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQgJiYgKCBjYW52YXMuZ2V0Q29udGV4dCggJ3dlYmdsJyApIHx8IGNhbnZhcy5nZXRDb250ZXh0KCAnZXhwZXJpbWVudGFsLXdlYmdsJyApICkgKTtcblxuXHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHR9XG5cblx0fSApKCksXG5cdHdvcmtlcnM6ICEhIHdpbmRvdy5Xb3JrZXIsXG5cdGZpbGVhcGk6IHdpbmRvdy5GaWxlICYmIHdpbmRvdy5GaWxlUmVhZGVyICYmIHdpbmRvdy5GaWxlTGlzdCAmJiB3aW5kb3cuQmxvYixcblxuXHRnZXRXZWJHTEVycm9yTWVzc2FnZTogZnVuY3Rpb24gKCkge1xuXG5cdFx0dmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApO1xuXHRcdGVsZW1lbnQuaWQgPSAnd2ViZ2wtZXJyb3ItbWVzc2FnZSc7XG5cdFx0ZWxlbWVudC5zdHlsZS5mb250RmFtaWx5ID0gJ21vbm9zcGFjZSc7XG5cdFx0ZWxlbWVudC5zdHlsZS5mb250U2l6ZSA9ICcxM3B4Jztcblx0XHRlbGVtZW50LnN0eWxlLmZvbnRXZWlnaHQgPSAnbm9ybWFsJztcblx0XHRlbGVtZW50LnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuXHRcdGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZCA9ICcjZmZmJztcblx0XHRlbGVtZW50LnN0eWxlLmNvbG9yID0gJyMwMDAnO1xuXHRcdGVsZW1lbnQuc3R5bGUucGFkZGluZyA9ICcxLjVlbSc7XG5cdFx0ZWxlbWVudC5zdHlsZS53aWR0aCA9ICc0MDBweCc7XG5cdFx0ZWxlbWVudC5zdHlsZS5tYXJnaW4gPSAnNWVtIGF1dG8gMCc7XG5cblx0XHRpZiAoICEgdGhpcy53ZWJnbCApIHtcblxuXHRcdFx0ZWxlbWVudC5pbm5lckhUTUwgPSB3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0ID8gW1xuXHRcdFx0XHQnWW91ciBncmFwaGljcyBjYXJkIGRvZXMgbm90IHNlZW0gdG8gc3VwcG9ydCA8YSBocmVmPVwiaHR0cDovL2tocm9ub3Mub3JnL3dlYmdsL3dpa2kvR2V0dGluZ19hX1dlYkdMX0ltcGxlbWVudGF0aW9uXCIgc3R5bGU9XCJjb2xvcjojMDAwXCI+V2ViR0w8L2E+LjxiciAvPicsXG5cdFx0XHRcdCdGaW5kIG91dCBob3cgdG8gZ2V0IGl0IDxhIGhyZWY9XCJodHRwOi8vZ2V0LndlYmdsLm9yZy9cIiBzdHlsZT1cImNvbG9yOiMwMDBcIj5oZXJlPC9hPi4nXG5cdFx0XHRdLmpvaW4oICdcXG4nICkgOiBbXG5cdFx0XHRcdCdZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc2VlbSB0byBzdXBwb3J0IDxhIGhyZWY9XCJodHRwOi8va2hyb25vcy5vcmcvd2ViZ2wvd2lraS9HZXR0aW5nX2FfV2ViR0xfSW1wbGVtZW50YXRpb25cIiBzdHlsZT1cImNvbG9yOiMwMDBcIj5XZWJHTDwvYT4uPGJyLz4nLFxuXHRcdFx0XHQnRmluZCBvdXQgaG93IHRvIGdldCBpdCA8YSBocmVmPVwiaHR0cDovL2dldC53ZWJnbC5vcmcvXCIgc3R5bGU9XCJjb2xvcjojMDAwXCI+aGVyZTwvYT4uJ1xuXHRcdFx0XS5qb2luKCAnXFxuJyApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGVsZW1lbnQ7XG5cblx0fSxcblxuXHRhZGRHZXRXZWJHTE1lc3NhZ2U6IGZ1bmN0aW9uICggcGFyYW1ldGVycyApIHtcblxuXHRcdHZhciBwYXJlbnQsIGlkLCBlbGVtZW50O1xuXG5cdFx0cGFyYW1ldGVycyA9IHBhcmFtZXRlcnMgfHwge307XG5cblx0XHRwYXJlbnQgPSBwYXJhbWV0ZXJzLnBhcmVudCAhPT0gdW5kZWZpbmVkID8gcGFyYW1ldGVycy5wYXJlbnQgOiBkb2N1bWVudC5ib2R5O1xuXHRcdGlkID0gcGFyYW1ldGVycy5pZCAhPT0gdW5kZWZpbmVkID8gcGFyYW1ldGVycy5pZCA6ICdvbGRpZSc7XG5cblx0XHRlbGVtZW50ID0gRGV0ZWN0b3IuZ2V0V2ViR0xFcnJvck1lc3NhZ2UoKTtcblx0XHRlbGVtZW50LmlkID0gaWQ7XG5cblx0XHRwYXJlbnQuYXBwZW5kQ2hpbGQoIGVsZW1lbnQgKTtcblxuXHR9XG5cbn07XG5cbmV4cG9ydCB7IERldGVjdG9yIH1cbiIsIi8qKlxuICogQGF1dGhvciBrZW5uZXRoamlhbmcgLyBodHRwczovL2dpdGh1Yi5jb20va2VubmV0aGppYW5nXG4gKlxuICpcbiAqIERlc2NyaXB0aW9uOiBTZXBlcmF0b3IgR2VvbWV0cnkgd2l0aCB1bmNvbm5lY3RlZCBpc2xhbmRzIGludG8gdGhlaXIgb3duIEdlb21ldHJpZXNcbiAqXG4gKi9cblxuaW1wb3J0IFRIUkVFIGZyb20gJ3RocmVlJ1xuXG5mdW5jdGlvbiBWZXJ0ZXhOb2RlKCBwb3NJbmRleCApIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5uZWlnaGJvcnMgPSBuZXcgU2V0KCk7XG4gICAgc2VsZi5pc2xhbmQgPSB1bmRlZmluZWQ7XG5cbiAgICBzZWxmLmFkZE5laWdoYm9yID0gZnVuY3Rpb24oIHZlcnRleE5vZGUgKSB7XG4gICAgICAgIGlmICh2ZXJ0ZXhOb2RlID09PSBzZWxmKSB7XG4gICAgICAgICAgICByZXR1cm4gO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5uZWlnaGJvcnMuYWRkKCB2ZXJ0ZXhOb2RlICk7XG4gICAgICAgIHZlcnRleE5vZGUubmVpZ2hib3JzLmFkZCggc2VsZiApO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIFZlcnRleEdyYXBoKCBwb3NpdGlvbnMsIHByZWNpc2lvblBvaW50cyApIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5wb3NpdGlvbnMgPSBwb3NpdGlvbnM7XG4gICAgc2VsZi5wcmVjaXNpb25Qb2ludHMgPSBwcmVjaXNpb25Qb2ludHM7XG5cbiAgICBzZWxmLnZlcnRpY2VzTWFwID0gbmV3IE1hcCgpOyAvLyBtYXAgb2YgeyB2ZXJ0ZXhLZXkgLT4gdmVydGV4Tm9kZSB9XG5cbiAgICBzZWxmLnZlcnRleEtleUZvclBvc2l0aW9uID0gZnVuY3Rpb24ocG9zSW5kZXgpIHtcblxuICAgICAgICAvLyAwIC0+IHg7IDEgLT4geTsgMiAtPiB6XG4gICAgICAgIGxldCBbeCwgeSwgel0gPSBbIHNlbGYucG9zaXRpb25zW3Bvc0luZGV4XSwgc2VsZi5wb3NpdGlvbnNbcG9zSW5kZXgrMV0sIHNlbGYucG9zaXRpb25zW3Bvc0luZGV4KzJdIF07XG5cbiAgICAgICAgdmFyIHByZWNpc2lvblBvaW50cyA9IDQ7IC8vIG51bWJlciBvZiBkZWNpbWFsIHBvaW50cywgZS5nLiA0IGZvciBlcHNpbG9uIG9mIDAuMDAwMVxuICAgICAgICB2YXIgcHJlY2lzaW9uID0gTWF0aC5wb3coIDEwLCBwcmVjaXNpb25Qb2ludHMgKTtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoIHggKiBwcmVjaXNpb24gKSArICdfJyArIE1hdGgucm91bmQoIHkgKiBwcmVjaXNpb24gKSArICdfJyArIE1hdGgucm91bmQoIHogKiBwcmVjaXNpb24gKTtcblxuICAgIH07XG5cbiAgICBzZWxmLnZlcnRleEZvclBvc2l0aW9uID0gZnVuY3Rpb24ocG9zSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYudmVydGljZXNNYXAuZ2V0KCBzZWxmLnZlcnRleEtleUZvclBvc2l0aW9uKHBvc0luZGV4KSApO1xuICAgIH07XG5cbiAgICBmb3IgKHZhciBmYWNlSW5kZXggPSAwOyBmYWNlSW5kZXggPCBwb3NpdGlvbnMubGVuZ3RoOyBmYWNlSW5kZXggKz0gOSkgeyAvLyBhIGZhY2UgaXMgOSBwb3NpdGlvbnMgLSAzIHZlcnRleCB4IDMgcG9zaXRpb25zXG5cbiAgICAgICAgdmFyIHZlcnRpY2VzT2ZDdXJyZW50RmFjZSA9IFtdO1xuICAgICAgICBmb3IgKHZhciB2ID0gMDsgdiA8IDM7IHYrKyApIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBzZWxmLnZlcnRleEtleUZvclBvc2l0aW9uKCBmYWNlSW5kZXggKyB2KjMgKTtcblxuICAgICAgICAgICAgaWYgKCAhc2VsZi52ZXJ0aWNlc01hcC5oYXMoa2V5KSApIHtcbiAgICAgICAgICAgICAgICBzZWxmLnZlcnRpY2VzTWFwLnNldChrZXksIG5ldyBWZXJ0ZXhOb2RlKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2ZXJ0aWNlc09mQ3VycmVudEZhY2UucHVzaCggc2VsZi52ZXJ0aWNlc01hcC5nZXQoa2V5KSApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2luY2UgdGhlc2UgMyB2ZXJ0aWNlcyBhcmUgb24gdGhlIHNhbWUgZmFjZSwgdGhleSBhcmUgbmVpZ2hib3JzIG9uIHRoZSBncmFwaFxuICAgICAgICB2ZXJ0aWNlc09mQ3VycmVudEZhY2VbMF0uYWRkTmVpZ2hib3IodmVydGljZXNPZkN1cnJlbnRGYWNlWzFdKTtcbiAgICAgICAgdmVydGljZXNPZkN1cnJlbnRGYWNlWzBdLmFkZE5laWdoYm9yKHZlcnRpY2VzT2ZDdXJyZW50RmFjZVsyXSk7XG4gICAgfVxuXG4gICAgc2VsZi5pc2xhbmRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhbGxJc2xhbmRzID0gW107XG5cbiAgICAgICAgc2VsZi52ZXJ0aWNlc01hcC5mb3JFYWNoKCBmdW5jdGlvbiggdmVydGV4Tm9kZSApIHtcblxuICAgICAgICAgICAgaWYgKHZlcnRleE5vZGUuaXNsYW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG5ld0lzbGFuZCA9IHt9O1xuICAgICAgICAgICAgc2VsZi5mbG9vZEZpbGwodmVydGV4Tm9kZSwgbmV3SXNsYW5kKVxuICAgICAgICAgICAgYWxsSXNsYW5kcy5wdXNoKG5ld0lzbGFuZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBhbGxJc2xhbmRzO1xuICAgIH07XG5cbiAgICBzZWxmLmZsb29kRmlsbCA9IGZ1bmN0aW9uKHN0YXJ0LCBpc2xhbmQpIHtcblxuICAgICAgICAvLyBCcmVhZHRoLWZpcnN0IHRyYXZlcnNhbFxuICAgICAgICB2YXIgcXVldWUgPSBbXTtcblxuICAgICAgICAvLyBNYXJrIHRoZSBzb3VyY2Ugbm9kZSBhcyB2aXNpdGVkIGFuZCBlbnF1ZXVlIGl0XG4gICAgICAgIHF1ZXVlLnVuc2hpZnQoc3RhcnQpO1xuICAgICAgICBzdGFydC5pc2xhbmQgPSBpc2xhbmQ7XG5cbiAgICAgICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgLy8gRGVxdWV1ZSBhIHZlcnRleCBmcm9tIHF1ZXVlIGFuZCBwcmludCBpdFxuICAgICAgICAgICAgdmFyIHYgPSBxdWV1ZS5wb3AoMCk7XG5cbiAgICAgICAgICAgIC8vIEdldCBhbGwgYWRqYWNlbnQgdmVydGljZXMgb2YgdGhlIGRlcXVldWVkXG4gICAgICAgICAgICAvLyB2ZXJ0ZXggcy4gSWYgYSBhZGphY2VudCBoYXMgbm90IGJlZW4gdmlzaXRlZCxcbiAgICAgICAgICAgIC8vIHRoZW4gbWFyayBpdCB2aXNpdGVkIGFuZCBlbnF1ZXVlIGl0XG4gICAgICAgICAgICB2Lm5laWdoYm9ycy5mb3JFYWNoKCBmdW5jdGlvbiggbmV4dFYgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoISBuZXh0Vi5pc2xhbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWUudW5zaGlmdChuZXh0Vik7XG4gICAgICAgICAgICAgICAgICAgIG5leHRWLmlzbGFuZCA9IGlzbGFuZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbn1cblxuXG4vKipcbiAqIHBhcmFtZXRlcnM6XG4gKiAgIC0gcHJlY2lzaW9uUG9pbnRzOiBudW1iZXIgb2YgZGVjaW1hbCBwb2ludHMsIGUuZy4gNCBmb3IgZXBzaWxvbiBvZiAwLjAwMDEuIDIgdmVydGljZXMgYXJlIGNvbnNpZGVyZWQgXCJ0aGUgc2FtZVwiIHdoZW4gdGhleSBhcmUgd2l0aCB0aGUgZGlzdGFuY2UgZGVmaW5lZCBieSBwcmVjaXNpb25Qb2ludHNcbiAqL1xuXG5mdW5jdGlvbiBJc2xhbmRTZXBhcmF0b3IoIHByZWNpc2lvblBvaW50cz00ICkge1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdHNlbGYuc2VwYXJhdGUgPSBmdW5jdGlvbiAoIGdlb21ldHJ5ICkge1xuXG4gICAgICAgIHZhciBvcmlnaW5hbFBvc2l0aW9ucyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXk7XG4gICAgICAgIHZhciBvcmlnaW5hbE5vcm1hbHMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLm5vcm1hbCAhPT0gdW5kZWZpbmVkID8gZ2VvbWV0cnkuYXR0cmlidXRlcy5ub3JtYWwuYXJyYXkgOiB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBvcmlnaW5hbENvbG9ycyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMuY29sb3IgIT09IHVuZGVmaW5lZCA/IGdlb21ldHJ5LmF0dHJpYnV0ZXMuY29sb3IuYXJyYXkgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgdmFyIGdyYXBoID0gbmV3IFZlcnRleEdyYXBoKG9yaWdpbmFsUG9zaXRpb25zLCBwcmVjaXNpb25Qb2ludHMpO1xuICAgICAgICB2YXIgaXNsYW5kcyA9IGdyYXBoLmlzbGFuZHMoKTtcbiAgICAgICAgdmFyIHZlcnRpY2VzTWFwID0gZ3JhcGgudmVydGljZXNNYXA7XG5cbiAgICAgICAgaXNsYW5kcy5mb3JFYWNoKCBmdW5jdGlvbiggaXNsYW5kICkge1xuICAgICAgICAgICAgaXNsYW5kLmZhY2VJbmRpY2VzID0gW107ICAvLyBMaXN0IG9mIHBvc2l0aW9uIGluZGljZXMgdGhlIGZhY2VzICh0aGUgc2FtZSBhcyBwb3NpdGlvbiBpbmRleCBvZiAxc3QgdmVydGV4IG9mIHRoZSBmYWNlKSBvbiB0aGlzIGlzbGFuZFxuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKHZhciBmYWNlSW5kZXggPSAwOyBmYWNlSW5kZXggPCBvcmlnaW5hbFBvc2l0aW9ucy5sZW5ndGg7IGZhY2VJbmRleCArPSA5KSB7IC8vIGEgZmFjZSBpcyA5IHBvc2l0aW9ucyAtIDMgdmVydGV4IHggMyBwb3NpdGlvbnNcbiAgICAgICAgICAgIHZhciBpc2xhbmRPZkN1cnJlbnRGYWNlID0gZ3JhcGgudmVydGV4Rm9yUG9zaXRpb24oZmFjZUluZGV4KS5pc2xhbmQ7XG4gICAgICAgICAgICBpc2xhbmRPZkN1cnJlbnRGYWNlLmZhY2VJbmRpY2VzLnB1c2goZmFjZUluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBnZW9tZXRyaWVzID0gaXNsYW5kcy5tYXAoIGZ1bmN0aW9uKCBpc2xhbmQgKSB7XG5cbiAgICAgICAgICAgIC8vIEFkb3B0ZWQgZnJvbSBTVExMb2FkZXIuanNcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xuXG4gICAgICAgICAgICB2YXIgdmVydGljZXMgPSBbXTtcbiAgICAgICAgICAgIHZhciBub3JtYWxzID0gW107XG4gICAgICAgICAgICB2YXIgY29sb3JzID0gW107XG5cbiAgICAgICAgICAgIGlzbGFuZC5mYWNlSW5kaWNlcy5mb3JFYWNoKCBmdW5jdGlvbiggZmFjZUluZGV4ICkge1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA5OyBpKyspIHtcblxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKCBvcmlnaW5hbFBvc2l0aW9uc1tmYWNlSW5kZXggKyBpXSApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbE5vcm1hbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbHMucHVzaCggb3JpZ2luYWxOb3JtYWxzW2ZhY2VJbmRleCArIGldICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxDb2xvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9ycy5wdXNoKCBvcmlnaW5hbENvbG9yc1tmYWNlSW5kZXggKyBpXSApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoICdwb3NpdGlvbicsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoIG5ldyBGbG9hdDMyQXJyYXkoIHZlcnRpY2VzICksIDMgKSApO1xuXG4gICAgICAgICAgICBpZiAob3JpZ2luYWxOb3JtYWxzKSB7XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCAnbm9ybWFsJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggbmV3IEZsb2F0MzJBcnJheSggbm9ybWFscyApLCAzICkgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9yaWdpbmFsQ29sb3JzKSB7XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCAnY29sb3InLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKCBuZXcgRmxvYXQzMkFycmF5KCBjb2xvcnMgKSwgMyApICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBnZW9tZXRyeTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGdlb21ldHJpZXM7XG4gICAgfTtcblxufVxuXG5leHBvcnQgeyBJc2xhbmRTZXBhcmF0b3IgfVxuIiwiLyoqXG4gKiBAYXV0aG9yIGtvdmFjc3YgLyBodHRwOi8va292YWNzdi5odS9cbiAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vXG4gKiBAYXV0aG9yIG11ZGN1YmUgLyBodHRwOi8vbXVkY3UuYmUvXG4gKi9cblxuaW1wb3J0IFRIUkVFIGZyb20gJ3RocmVlJ1xuXG5mdW5jdGlvbiBTVExCaW5hcnlFeHBvcnRlcigpIHt9XG5cblNUTEJpbmFyeUV4cG9ydGVyLnByb3RvdHlwZSA9IHtcblxuXHRjb25zdHJ1Y3RvcjogU1RMQmluYXJ5RXhwb3J0ZXIsXG5cblx0cGFyc2U6ICggZnVuY3Rpb24gKCkge1xuXG5cdFx0dmFyIHZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cdFx0dmFyIG5vcm1hbE1hdHJpeFdvcmxkID0gbmV3IFRIUkVFLk1hdHJpeDMoKTtcblxuXHRcdHJldHVybiBmdW5jdGlvbiBwYXJzZSggc2NlbmUgKSB7XG5cblx0XHRcdC8vIFdlIGNvbGxlY3Qgb2JqZWN0cyBmaXJzdCwgYXMgd2UgbWF5IG5lZWQgdG8gY29udmVydCBmcm9tIEJ1ZmZlckdlb21ldHJ5IHRvIEdlb21ldHJ5XG5cdFx0XHR2YXIgb2JqZWN0cyA9IFtdO1xuXHRcdFx0dmFyIHRyaWFuZ2xlcyA9IDA7XG5cdFx0XHRzY2VuZS50cmF2ZXJzZSggZnVuY3Rpb24gKCBvYmplY3QgKSB7XG5cblx0XHRcdFx0aWYgKCAhICggb2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuTWVzaCApICkgcmV0dXJuO1xuXG5cdFx0XHRcdHZhciBnZW9tZXRyeSA9IG9iamVjdC5nZW9tZXRyeTtcblx0XHRcdFx0aWYgKCBnZW9tZXRyeSBpbnN0YW5jZW9mIFRIUkVFLkJ1ZmZlckdlb21ldHJ5ICkge1xuXG5cdFx0XHRcdFx0Z2VvbWV0cnkgPSBuZXcgVEhSRUUuR2VvbWV0cnkoKS5mcm9tQnVmZmVyR2VvbWV0cnkoIGdlb21ldHJ5ICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggISAoIGdlb21ldHJ5IGluc3RhbmNlb2YgVEhSRUUuR2VvbWV0cnkgKSApIHJldHVybjtcblx0XHRcdFx0dHJpYW5nbGVzICs9IGdlb21ldHJ5LmZhY2VzLmxlbmd0aDtcblxuXHRcdFx0XHRvYmplY3RzLnB1c2goIHtcblxuXHRcdFx0XHRcdGdlb21ldHJ5OiBnZW9tZXRyeSxcblx0XHRcdFx0XHRtYXRyaXg6IG9iamVjdC5tYXRyaXhXb3JsZFxuXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0XHR2YXIgb2Zmc2V0ID0gODA7IC8vIHNraXAgaGVhZGVyXG5cdFx0XHR2YXIgYnVmZmVyTGVuZ3RoID0gdHJpYW5nbGVzICogMiArIHRyaWFuZ2xlcyAqIDMgKiA0ICogNCArIDgwICsgNDtcblx0XHRcdHZhciBhcnJheUJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlciggYnVmZmVyTGVuZ3RoICk7XG5cdFx0XHR2YXIgb3V0cHV0ID0gbmV3IERhdGFWaWV3KCBhcnJheUJ1ZmZlciApO1xuXHRcdFx0b3V0cHV0LnNldFVpbnQzMiggb2Zmc2V0LCB0cmlhbmdsZXMsIHRydWUgKTsgb2Zmc2V0ICs9IDQ7XG5cblx0XHRcdC8vIFRyYXZlcnNpbmcgb3VyIGNvbGxlY3RlZCBvYmplY3RzXG5cdFx0XHRvYmplY3RzLmZvckVhY2goIGZ1bmN0aW9uICggb2JqZWN0ICkge1xuXG5cdFx0XHRcdHZhciB2ZXJ0aWNlcyA9IG9iamVjdC5nZW9tZXRyeS52ZXJ0aWNlcztcblx0XHRcdFx0dmFyIGZhY2VzID0gb2JqZWN0Lmdlb21ldHJ5LmZhY2VzO1xuXG5cdFx0XHRcdG5vcm1hbE1hdHJpeFdvcmxkLmdldE5vcm1hbE1hdHJpeCggb2JqZWN0Lm1hdHJpeCApO1xuXG5cdFx0XHRcdGZvciAoIHZhciBpID0gMCwgbCA9IGZhY2VzLmxlbmd0aDsgaSA8IGw7IGkgKysgKSB7XG5cblx0XHRcdFx0XHR2YXIgZmFjZSA9IGZhY2VzWyBpIF07XG5cblx0XHRcdFx0XHR2ZWN0b3IuY29weSggZmFjZS5ub3JtYWwgKS5hcHBseU1hdHJpeDMoIG5vcm1hbE1hdHJpeFdvcmxkICkubm9ybWFsaXplKCk7XG5cblx0XHRcdFx0XHRvdXRwdXQuc2V0RmxvYXQzMiggb2Zmc2V0LCB2ZWN0b3IueCwgdHJ1ZSApOyBvZmZzZXQgKz0gNDsgLy8gbm9ybWFsXG5cdFx0XHRcdFx0b3V0cHV0LnNldEZsb2F0MzIoIG9mZnNldCwgdmVjdG9yLnksIHRydWUgKTsgb2Zmc2V0ICs9IDQ7XG5cdFx0XHRcdFx0b3V0cHV0LnNldEZsb2F0MzIoIG9mZnNldCwgdmVjdG9yLnosIHRydWUgKTsgb2Zmc2V0ICs9IDQ7XG5cblx0XHRcdFx0XHR2YXIgaW5kaWNlcyA9IFsgZmFjZS5hLCBmYWNlLmIsIGZhY2UuYyBdO1xuXG5cdFx0XHRcdFx0Zm9yICggdmFyIGogPSAwOyBqIDwgMzsgaiArKyApIHtcblxuXHRcdFx0XHRcdFx0dmVjdG9yLmNvcHkoIHZlcnRpY2VzWyBpbmRpY2VzWyBqIF0gXSApLmFwcGx5TWF0cml4NCggb2JqZWN0Lm1hdHJpeCApO1xuXG5cdFx0XHRcdFx0XHRvdXRwdXQuc2V0RmxvYXQzMiggb2Zmc2V0LCB2ZWN0b3IueCwgdHJ1ZSApOyBvZmZzZXQgKz0gNDsgLy8gdmVydGljZXNcblx0XHRcdFx0XHRcdG91dHB1dC5zZXRGbG9hdDMyKCBvZmZzZXQsIHZlY3Rvci55LCB0cnVlICk7IG9mZnNldCArPSA0O1xuXHRcdFx0XHRcdFx0b3V0cHV0LnNldEZsb2F0MzIoIG9mZnNldCwgdmVjdG9yLnosIHRydWUgKTsgb2Zmc2V0ICs9IDQ7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvdXRwdXQuc2V0VWludDE2KCBvZmZzZXQsIDAsIHRydWUgKTsgb2Zmc2V0ICs9IDI7IC8vIGF0dHJpYnV0ZSBieXRlIGNvdW50XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cblx0XHR9O1xuXG5cdH0oKSApXG5cbn07XG5cbmV4cG9ydCB7IFNUTEJpbmFyeUV4cG9ydGVyIH1cbiJdLCJuYW1lcyI6WyJEZWZhdWx0SGFuZGxlcyIsIkdpem1vTWF0ZXJpYWwiLCJwYXJhbWV0ZXJzIiwiTWVzaEJhc2ljTWF0ZXJpYWwiLCJjYWxsIiwiZGVwdGhUZXN0IiwiZGVwdGhXcml0ZSIsInNpZGUiLCJUSFJFRSIsIkZyb250U2lkZSIsInRyYW5zcGFyZW50Iiwic2V0VmFsdWVzIiwib2xkQ29sb3IiLCJjb2xvciIsImNsb25lIiwib2xkT3BhY2l0eSIsIm9wYWNpdHkiLCJoaWdobGlnaHQiLCJoaWdobGlnaHRlZCIsInNldFJHQiIsImNvcHkiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsIkdpem1vTGluZU1hdGVyaWFsIiwiTGluZUJhc2ljTWF0ZXJpYWwiLCJsaW5ld2lkdGgiLCJpbnZpc2libGVNYXRlcmlhbCIsInZpc2libGUiLCJnaXptb0Zyb21NYXAiLCJnaXptb01hcCIsImdpem1vIiwiT2JqZWN0M0QiLCJuYW1lIiwiaSIsImxlbmd0aCIsIm9iamVjdCIsInBvc2l0aW9uIiwicm90YXRpb24iLCJzZXQiLCJhZGQiLCJ0cmFuc2xhdGVIYW5kbGVzIiwiYXJyb3dHZW9tZXRyeSIsIkdlb21ldHJ5IiwibWVzaCIsIk1lc2giLCJDeWxpbmRlckdlb21ldHJ5IiwieSIsInVwZGF0ZU1hdHJpeCIsIm1lcmdlIiwiZ2VvbWV0cnkiLCJtYXRyaXgiLCJsaW5lWEdlb21ldHJ5IiwiQnVmZmVyR2VvbWV0cnkiLCJhZGRBdHRyaWJ1dGUiLCJGbG9hdDMyQnVmZmVyQXR0cmlidXRlIiwibGluZVlHZW9tZXRyeSIsImxpbmVaR2VvbWV0cnkiLCJNYXRoIiwiUEkiLCJMaW5lIiwiQ3lsaW5kZXJCdWZmZXJHZW9tZXRyeSIsIk9jdGFoZWRyb25HZW9tZXRyeSIsIlBsYW5lQnVmZmVyR2VvbWV0cnkiLCJyb3RhdGVIYW5kbGVzIiwiQ2lyY2xlR2VvbWV0cnkiLCJyYWRpdXMiLCJmYWNpbmciLCJhcmMiLCJ2ZXJ0aWNlcyIsInB1c2giLCJjb3MiLCJzaW4iLCJUb3J1c0J1ZmZlckdlb21ldHJ5Iiwic2NhbGVIYW5kbGVzIiwiQm94R2VvbWV0cnkiLCJCb3hCdWZmZXJHZW9tZXRyeSIsIlRyYW5zZm9ybUdpem1vIiwiaGFuZGxlcyIsImluaXQiLCJwbGFuZXMiLCJwbGFuZUdlb21ldHJ5IiwicGxhbmVNYXRlcmlhbCIsIkRvdWJsZVNpZGUiLCJhY3RpdmVQbGFuZSIsInRyYXZlcnNlIiwiY2hpbGQiLCJ0ZW1wR2VvbWV0cnkiLCJhcHBseU1hdHJpeCIsInNjYWxlIiwic2V0SGFuZGxlcyIsInJlbW92ZSIsImF4aXMiLCJtYXRlcmlhbCIsInVwZGF0ZSIsImV5ZSIsInZlYzEiLCJWZWN0b3IzIiwidmVjMiIsImxvb2tBdE1hdHJpeCIsIk1hdHJpeDQiLCJzZWFyY2giLCJxdWF0ZXJuaW9uIiwic2V0RnJvbVJvdGF0aW9uTWF0cml4IiwibG9va0F0Iiwic2V0RnJvbUV1bGVyIiwiVHJhbnNmb3JtR2l6bW9UcmFuc2xhdGUiLCJzZXRBY3RpdmVQbGFuZSIsInRlbXBNYXRyaXgiLCJhcHBseU1hdHJpeDQiLCJnZXRJbnZlcnNlIiwiZXh0cmFjdFJvdGF0aW9uIiwibWF0cml4V29ybGQiLCJhYnMiLCJ6IiwieCIsIlRyYW5zZm9ybUdpem1vUm90YXRlIiwiZXllMiIsImFwcGx5IiwiYXJndW1lbnRzIiwiZ3JvdXAiLCJ3b3JsZFJvdGF0aW9uIiwiRXVsZXIiLCJ0ZW1wUXVhdGVybmlvbiIsIlF1YXRlcm5pb24iLCJ1bml0WCIsInVuaXRZIiwidW5pdFoiLCJxdWF0ZXJuaW9uWCIsInF1YXRlcm5pb25ZIiwicXVhdGVybmlvbloiLCJtYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbiIsInNldEZyb21BeGlzQW5nbGUiLCJhdGFuMiIsIm11bHRpcGx5UXVhdGVybmlvbnMiLCJUcmFuc2Zvcm1HaXptb1NjYWxlIiwiVHJhbnNmb3JtQ29udHJvbHMiLCJjYW1lcmEiLCJkb21FbGVtZW50IiwidW5kZWZpbmVkIiwiZG9jdW1lbnQiLCJkZWZhdWx0SGFuZGxlcyIsInRyYW5zbGF0aW9uU25hcCIsInJvdGF0aW9uU25hcCIsInNwYWNlIiwic2l6ZSIsImRyYWdPYmplY3QiLCJzY29wZSIsIl9tb2RlIiwiX2RyYWdnaW5nIiwiX3BsYW5lIiwiX2dpem1vIiwidHlwZSIsImdpem1vT2JqIiwiY2hhbmdlRXZlbnQiLCJtb3VzZURvd25FdmVudCIsIm1vdXNlVXBFdmVudCIsIm1vZGUiLCJvYmplY3RDaGFuZ2VFdmVudCIsInJheSIsIlJheWNhc3RlciIsImxpbmVQcmVjaXNpb24iLCJwb2ludGVyVmVjdG9yIiwiVmVjdG9yMiIsInBvaW50Iiwib2Zmc2V0Iiwib2Zmc2V0Um90YXRpb24iLCJ0ZW1wVmVjdG9yIiwicXVhdGVybmlvblhZWiIsInF1YXRlcm5pb25FIiwib2xkUG9zaXRpb24iLCJvbGRTY2FsZSIsIm9sZFJvdGF0aW9uTWF0cml4IiwicGFyZW50Um90YXRpb25NYXRyaXgiLCJwYXJlbnRTY2FsZSIsIndvcmxkUG9zaXRpb24iLCJ3b3JsZFJvdGF0aW9uTWF0cml4IiwiY2FtUG9zaXRpb24iLCJjYW1Sb3RhdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJvblBvaW50ZXJEb3duIiwib25Qb2ludGVySG92ZXIiLCJvblBvaW50ZXJNb3ZlIiwib25Qb2ludGVyVXAiLCJkaXNwb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImF0dGFjaCIsImRldGFjaCIsImdldE1vZGUiLCJzZXRNb2RlIiwiZGlzcGF0Y2hFdmVudCIsInNldFRyYW5zbGF0aW9uU25hcCIsInNldFJvdGF0aW9uU25hcCIsInNldFNpemUiLCJzZXRTcGFjZSIsInVwZGF0ZU1hdHJpeFdvcmxkIiwic2V0RnJvbU1hdHJpeFBvc2l0aW9uIiwiZGlzdGFuY2VUbyIsIlBlcnNwZWN0aXZlQ2FtZXJhIiwic3ViIiwibm9ybWFsaXplIiwiT3J0aG9ncmFwaGljQ2FtZXJhIiwiZXZlbnQiLCJidXR0b24iLCJwb2ludGVyIiwiY2hhbmdlZFRvdWNoZXMiLCJpbnRlcnNlY3QiLCJpbnRlcnNlY3RPYmplY3RzIiwiY2hpbGRyZW4iLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInBsYW5lSW50ZXJzZWN0IiwicGFyZW50Iiwic2V0RnJvbU1hdHJpeFNjYWxlIiwibXVsdGlwbHkiLCJyb3VuZCIsIm1heCIsImNyb3NzIiwiYW5nbGVUbyIsIndpbmRvdyIsIlRvdWNoRXZlbnQiLCJvYmplY3RzIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNsaWVudFgiLCJsZWZ0Iiwid2lkdGgiLCJjbGllbnRZIiwidG9wIiwiaGVpZ2h0Iiwic2V0RnJvbUNhbWVyYSIsImludGVyc2VjdGlvbnMiLCJPcmJpdENvbnRyb2xzIiwiZW5hYmxlZCIsInRhcmdldCIsIm1pbkRpc3RhbmNlIiwibWF4RGlzdGFuY2UiLCJJbmZpbml0eSIsIm1pblpvb20iLCJtYXhab29tIiwibWluUG9sYXJBbmdsZSIsIm1heFBvbGFyQW5nbGUiLCJtaW5BemltdXRoQW5nbGUiLCJtYXhBemltdXRoQW5nbGUiLCJlbmFibGVEYW1waW5nIiwiZGFtcGluZ0ZhY3RvciIsImVuYWJsZVpvb20iLCJ6b29tU3BlZWQiLCJlbmFibGVSb3RhdGUiLCJyb3RhdGVTcGVlZCIsImVuYWJsZVBhbiIsImtleVBhblNwZWVkIiwiYXV0b1JvdGF0ZSIsImF1dG9Sb3RhdGVTcGVlZCIsImVuYWJsZUtleXMiLCJrZXlzIiwiTEVGVCIsIlVQIiwiUklHSFQiLCJCT1RUT00iLCJtb3VzZUJ1dHRvbnMiLCJPUkJJVCIsIk1PVVNFIiwiWk9PTSIsIk1JRERMRSIsIlBBTiIsInRhcmdldDAiLCJwb3NpdGlvbjAiLCJ6b29tMCIsInpvb20iLCJnZXRQb2xhckFuZ2xlIiwic3BoZXJpY2FsIiwicGhpIiwiZ2V0QXppbXV0aGFsQW5nbGUiLCJ0aGV0YSIsInNhdmVTdGF0ZSIsInJlc2V0IiwidXBkYXRlUHJvamVjdGlvbk1hdHJpeCIsIlNUQVRFIiwiTk9ORSIsInF1YXQiLCJzZXRGcm9tVW5pdFZlY3RvcnMiLCJ1cCIsInF1YXRJbnZlcnNlIiwiaW52ZXJzZSIsImxhc3RQb3NpdGlvbiIsImxhc3RRdWF0ZXJuaW9uIiwiYXBwbHlRdWF0ZXJuaW9uIiwic2V0RnJvbVZlY3RvcjMiLCJzdGF0ZSIsImdldEF1dG9Sb3RhdGlvbkFuZ2xlIiwic3BoZXJpY2FsRGVsdGEiLCJtaW4iLCJtYWtlU2FmZSIsInBhbk9mZnNldCIsInNldEZyb21TcGhlcmljYWwiLCJ6b29tQ2hhbmdlZCIsImRpc3RhbmNlVG9TcXVhcmVkIiwiRVBTIiwiZG90Iiwib25Db250ZXh0TWVudSIsIm9uTW91c2VEb3duIiwib25Nb3VzZVdoZWVsIiwib25Ub3VjaFN0YXJ0Iiwib25Ub3VjaEVuZCIsIm9uVG91Y2hNb3ZlIiwib25Nb3VzZU1vdmUiLCJvbk1vdXNlVXAiLCJvbktleURvd24iLCJzdGFydEV2ZW50IiwiZW5kRXZlbnQiLCJST1RBVEUiLCJET0xMWSIsIlRPVUNIX1JPVEFURSIsIlRPVUNIX0RPTExZIiwiVE9VQ0hfUEFOIiwiU3BoZXJpY2FsIiwicm90YXRlU3RhcnQiLCJyb3RhdGVFbmQiLCJyb3RhdGVEZWx0YSIsInBhblN0YXJ0IiwicGFuRW5kIiwicGFuRGVsdGEiLCJkb2xseVN0YXJ0IiwiZG9sbHlFbmQiLCJkb2xseURlbHRhIiwiZ2V0Wm9vbVNjYWxlIiwicG93Iiwicm90YXRlTGVmdCIsImFuZ2xlIiwicm90YXRlVXAiLCJwYW5MZWZ0IiwidiIsImRpc3RhbmNlIiwib2JqZWN0TWF0cml4Iiwic2V0RnJvbU1hdHJpeENvbHVtbiIsIm11bHRpcGx5U2NhbGFyIiwicGFuVXAiLCJwYW4iLCJkZWx0YVgiLCJkZWx0YVkiLCJlbGVtZW50IiwiYm9keSIsInRhcmdldERpc3RhbmNlIiwidGFuIiwiZm92IiwiY2xpZW50SGVpZ2h0IiwicmlnaHQiLCJjbGllbnRXaWR0aCIsImJvdHRvbSIsIndhcm4iLCJkb2xseUluIiwiZG9sbHlTY2FsZSIsImRvbGx5T3V0IiwiaGFuZGxlTW91c2VEb3duUm90YXRlIiwiaGFuZGxlTW91c2VEb3duRG9sbHkiLCJoYW5kbGVNb3VzZURvd25QYW4iLCJoYW5kbGVNb3VzZU1vdmVSb3RhdGUiLCJzdWJWZWN0b3JzIiwiaGFuZGxlTW91c2VNb3ZlRG9sbHkiLCJoYW5kbGVNb3VzZU1vdmVQYW4iLCJoYW5kbGVNb3VzZVVwIiwiaGFuZGxlTW91c2VXaGVlbCIsImhhbmRsZUtleURvd24iLCJrZXlDb2RlIiwiaGFuZGxlVG91Y2hTdGFydFJvdGF0ZSIsInRvdWNoZXMiLCJwYWdlWCIsInBhZ2VZIiwiaGFuZGxlVG91Y2hTdGFydERvbGx5IiwiZHgiLCJkeSIsInNxcnQiLCJoYW5kbGVUb3VjaFN0YXJ0UGFuIiwiaGFuZGxlVG91Y2hNb3ZlUm90YXRlIiwiaGFuZGxlVG91Y2hNb3ZlRG9sbHkiLCJoYW5kbGVUb3VjaE1vdmVQYW4iLCJoYW5kbGVUb3VjaEVuZCIsIkV2ZW50RGlzcGF0Y2hlciIsImRlZmluZVByb3BlcnRpZXMiLCJ2YWx1ZSIsIlNUTExvYWRlciIsIm1hbmFnZXIiLCJEZWZhdWx0TG9hZGluZ01hbmFnZXIiLCJ1cmwiLCJvbkxvYWQiLCJvblByb2dyZXNzIiwib25FcnJvciIsImxvYWRlciIsIkZpbGVMb2FkZXIiLCJzZXRSZXNwb25zZVR5cGUiLCJsb2FkIiwidGV4dCIsInBhcnNlIiwiZGF0YSIsImlzQmluYXJ5IiwiZXhwZWN0IiwiZmFjZV9zaXplIiwibl9mYWNlcyIsInJlYWRlciIsIkRhdGFWaWV3IiwiYmluRGF0YSIsImdldFVpbnQzMiIsImJ5dGVMZW5ndGgiLCJzb2xpZCIsImdldFVpbnQ4IiwiZW5zdXJlQmluYXJ5IiwicGFyc2VCaW5hcnkiLCJwYXJzZUFTQ0lJIiwiZW5zdXJlU3RyaW5nIiwiZmFjZXMiLCJyIiwiZyIsImIiLCJoYXNDb2xvcnMiLCJjb2xvcnMiLCJkZWZhdWx0UiIsImRlZmF1bHRHIiwiZGVmYXVsdEIiLCJhbHBoYSIsImluZGV4IiwiZGF0YU9mZnNldCIsImZhY2VMZW5ndGgiLCJub3JtYWxzIiwiZmFjZSIsInN0YXJ0Iiwibm9ybWFsWCIsImdldEZsb2F0MzIiLCJub3JtYWxZIiwibm9ybWFsWiIsInBhY2tlZENvbG9yIiwiZ2V0VWludDE2IiwidmVydGV4c3RhcnQiLCJCdWZmZXJBdHRyaWJ1dGUiLCJGbG9hdDMyQXJyYXkiLCJwYXR0ZXJuRmFjZSIsInBhdHRlcm5Ob3JtYWwiLCJwYXR0ZXJuVmVydGV4IiwicmVzdWx0Iiwibm9ybWFsIiwiZXhlYyIsInBhcnNlRmxvYXQiLCJidWYiLCJhcnJheV9idWZmZXIiLCJVaW50OEFycmF5Iiwic3RyQXJyYXkiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJqb2luIiwiY2hhckNvZGVBdCIsImJ1ZmZlciIsIkRldGVjdG9yIiwiQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiwiY2FudmFzIiwiY3JlYXRlRWxlbWVudCIsIldlYkdMUmVuZGVyaW5nQ29udGV4dCIsImdldENvbnRleHQiLCJlIiwiV29ya2VyIiwiRmlsZSIsIkZpbGVSZWFkZXIiLCJGaWxlTGlzdCIsIkJsb2IiLCJpZCIsInN0eWxlIiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsInRleHRBbGlnbiIsImJhY2tncm91bmQiLCJwYWRkaW5nIiwibWFyZ2luIiwid2ViZ2wiLCJpbm5lckhUTUwiLCJnZXRXZWJHTEVycm9yTWVzc2FnZSIsImFwcGVuZENoaWxkIiwiVmVydGV4Tm9kZSIsInBvc0luZGV4Iiwic2VsZiIsIm5laWdoYm9ycyIsIlNldCIsImlzbGFuZCIsImFkZE5laWdoYm9yIiwidmVydGV4Tm9kZSIsIlZlcnRleEdyYXBoIiwicG9zaXRpb25zIiwicHJlY2lzaW9uUG9pbnRzIiwidmVydGljZXNNYXAiLCJNYXAiLCJ2ZXJ0ZXhLZXlGb3JQb3NpdGlvbiIsInByZWNpc2lvbiIsInZlcnRleEZvclBvc2l0aW9uIiwiZ2V0IiwiZmFjZUluZGV4IiwidmVydGljZXNPZkN1cnJlbnRGYWNlIiwia2V5IiwiaGFzIiwiaXNsYW5kcyIsImFsbElzbGFuZHMiLCJmb3JFYWNoIiwibmV3SXNsYW5kIiwiZmxvb2RGaWxsIiwicXVldWUiLCJ1bnNoaWZ0IiwicG9wIiwibmV4dFYiLCJJc2xhbmRTZXBhcmF0b3IiLCJzZXBhcmF0ZSIsIm9yaWdpbmFsUG9zaXRpb25zIiwiYXR0cmlidXRlcyIsImFycmF5Iiwib3JpZ2luYWxOb3JtYWxzIiwib3JpZ2luYWxDb2xvcnMiLCJncmFwaCIsImZhY2VJbmRpY2VzIiwiaXNsYW5kT2ZDdXJyZW50RmFjZSIsImdlb21ldHJpZXMiLCJtYXAiLCJTVExCaW5hcnlFeHBvcnRlciIsInZlY3RvciIsIm5vcm1hbE1hdHJpeFdvcmxkIiwiTWF0cml4MyIsInNjZW5lIiwidHJpYW5nbGVzIiwiZnJvbUJ1ZmZlckdlb21ldHJ5IiwiYnVmZmVyTGVuZ3RoIiwiYXJyYXlCdWZmZXIiLCJBcnJheUJ1ZmZlciIsIm91dHB1dCIsInNldFVpbnQzMiIsImdldE5vcm1hbE1hdHJpeCIsImwiLCJhcHBseU1hdHJpeDMiLCJzZXRGbG9hdDMyIiwiaW5kaWNlcyIs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\n","/**\n * @author kennethjiang / https://github.com/kennethjiang\n *\n *\n * Description: A THREE view port for STL models\n *\n * Usage:\n *  var viewPort = new THREE.STLViewPort(canvas, width, height, function() {\n *     //things to do when any model in the view port changes\n *  });\n *  viewPort.init();\n *  viewPort.loadSTL(url, fucntion(model) {\n *     viewPort.makeModelActive(model);\n *     //things to do when model is loaded\n *  });\n *  var scene = viewPort.scene; // direct access to the scene for to add THREE.Object\n *\n */\n\n\n'use strict';\n\nimport * as THREETK from '3tk';\n\nexport function STLViewPort( canvas, width, height, onChange, onNewModel ) {\n\n    var self = this;\n\n    self.canvas = canvas;\n    self.canvasWidth = width;\n    self.canvasHeight = height;\n    self.onChange = onChange;\n    self.onNewModel = onNewModel;\n\n    self.models = [];\n\n    self.effectController = {\n        metalness: 0.5,\n        roughness: 0.5,\n        modelInactiveColor: new THREE.Color(\"#60715b\"),\n        modelActiveColor: new THREE.Color(\"#34bf0d\"),\n        ambientLightColor: new THREE.Color(\"#2b2b2b\"),\n        directionalLightColor: new THREE.Color(\"#ffffff\"),\n    };\n\n    self.init = function() {\n\n        self.camera = new THREE.PerspectiveCamera( 45, 1.0, 0.1, 5000 );\n\n        self.camera.up.set( 0, 0, 1 );\n        self.camera.position.set( -100, -200, 250 );\n\n        self.scene = new THREE.Scene();\n\n        // Lights\n        var ambientLight = new THREE.AmbientLight( self.effectController.ambientLightColor );  // 0.2\n        self.scene.add( ambientLight );\n        var directionalLight = new THREE.DirectionalLight(self.effectController.directionalLightColor, 1.0);\n        directionalLight.position.set( 100, 100, 500 );\n        self.scene.add( directionalLight );\n        var directionalLight2= new THREE.DirectionalLight(self.effectController.directionalLightColor, 1.0);\n        directionalLight2.position.set( 100, 100, -500);\n        self.scene.add( directionalLight2);\n\n        self.renderer = new THREE.WebGLRenderer( { canvas: self.canvas, antialias: true } );\n\n        self.renderer.setClearColor( 0xd8d8d8 );\n        self.renderer.setSize( self.canvasWidth, self.canvasHeight );\n        self.renderer.setPixelRatio( window.devicePixelRatio );\n\n        self.renderer.gammaInput = true;\n        self.renderer.gammaOutput = true;\n\n        self.orbitControls = new THREETK.OrbitControls(self.camera, self.renderer.domElement);\n\n        self.orbitControls.enableDamping = true;\n        self.orbitControls.dampingFactor = 0.25;\n        self.orbitControls.enablePan = false;\n        self.orbitControls.addEventListener(\"change\", self.render);\n\n        self.transformControls = new THREETK.TransformControls(self.camera, self.renderer.domElement);\n\n        self.transformControls.setRotationSnap( THREE.Math.degToRad( 15 ) )\n        self.transformControls.addEventListener(\"change\", self.render);\n        self.transformControls.addEventListener(\"mouseDown\", self.startTransform);\n        self.transformControls.addEventListener(\"mouseUp\", self.endTransform);\n        self.transformControls.addEventListener(\"change\", self.onChange);\n        self.scene.add(self.transformControls);\n\n        window.addEventListener( 'keydown', function ( event ) {\n            switch ( event.keyCode ) {\n                case 17: // Ctrl\n                    self.transformControls.setRotationSnap(null);\n                    break;\n            }\n        });\n\n        window.addEventListener( 'keyup', function ( event ) {\n            switch ( event.keyCode ) {\n                case 17: // Ctrl\n                    self.transformControls.setRotationSnap( THREE.Math.degToRad( 15 ) );\n                    break;\n            }\n        });\n\n        // Unforutnately built-in \"click\" event is fired when it's a drag. We need all these complexity to detect real click (no mousemoves between mousedown and mouseup)\n        self.canvas.addEventListener(\"mousedown\", function() { self.lastMouseEvent = \"mousedown\" });\n        self.canvas.addEventListener(\"mousemove\", function() { self.lastMouseEvent = \"mousemove\" });\n        self.canvas.addEventListener(\"mouseup\", function(e) { if (self.lastMouseEvent == \"mousedown\") self.pickActiveModel(e); });\n\n        self.render();\n    };\n\n    self.render = function() {\n        self.orbitControls.update();\n        self.transformControls.update();\n        self.renderer.render( self.scene, self.camera );\n    };\n\n\n    self.loadSTL = function ( url, onLoad ) {\n        new THREETK.STLLoader().load(url, function ( geometry ) {\n            self.onNewModel([\n                self.addModelOfGeometry(geometry)\n            ]);\n        });\n    };\n\n    self.addModelOfGeometry = function( geometry, modelToCopyTransformFrom ) {\n        var material = new THREE.MeshStandardMaterial({\n            color: self.effectController.modelInactiveColor,  // We'll mark it active below.\n            shading: THREE.SmoothShading,\n            side: THREE.DoubleSide,\n            metalness: self.effectController.metalness,\n            roughness: self.effectController.roughness });\n\n        var stlModel = new THREE.Mesh( geometry, material );\n\n        // center model's origin\n        var center = new THREE.Box3().setFromObject(stlModel).center();\n        var model = new THREE.Object3D();\n        model.add(stlModel);\n        stlModel.position.copy(center.negate());\n        if (modelToCopyTransformFrom) {\n            model.rotation.copy(modelToCopyTransformFrom.rotation);\n            model.scale.copy(modelToCopyTransformFrom.scale);\n        }\n\n        self.scene.add(model);\n        self.render();\n\n        self.models.push(model);\n        return model;\n    };\n\n    self.activeModel = function() {\n        return self.transformControls.object;\n    }\n\n    self.pickActiveModel = function( event ) {\n        var rect = self.canvas.getBoundingClientRect();\n        var x = (event.clientX - rect.left) / rect.width;\n        var y = (event.clientY - rect.top) / rect.height;\n\n        var pointerVector = new THREE.Vector2();\n        pointerVector.set((x*2) - 1, -(y*2) + 1);\n        var ray = new THREE.Raycaster();\n        ray.setFromCamera(pointerVector, self.camera);\n\n        // Clicking should cycle through the stlFiles if there are multiple under the cursor.\n        var foundActiveModel = false;\n        var nextPointedModel = undefined;\n        var firstPointedModel = undefined;\n        for (var i = 0; i < self.models.length; i++) {\n            var model = self.models[i];\n            var intersections = ray.intersectObjects( model.children, true ); // Not sure why ray will intersect the children but not the model itself.\n            if (!intersections[0]) {\n                continue;\n            }\n            if (!firstPointedModel) {\n                firstPointedModel = model;\n            }\n            if (foundActiveModel && !nextPointedModel) {\n                nextPointedModel = model;\n            }\n            if (self.activeModel() == model) {\n                foundActiveModel = true;\n            }\n        }\n        if (nextPointedModel) {\n            self.makeModelActive(nextPointedModel);\n        } else if (firstPointedModel) {\n            self.makeModelActive(firstPointedModel);\n        }\n    };\n\n    /**\n     * params:\n     *    m: model to make active. Clear active model if m is undefined\n     *\n     */\n    self.makeModelActive = function(m) {\n        // Sets one file active and inactivates all the others.\n        if (m) {\n            self.transformControls.attach(m);\n        } else {\n            self.transformControls.detach();\n        }\n\n        for (var i = 0; i < self.models.length; i++) {\n            var model = self.models[i];\n            if (model == self.activeModel()) {\n                model.children[0].material.color.copy(self.effectController.modelActiveColor);\n            } else {\n                model.children[0].material.color.copy(self.effectController.modelInactiveColor);\n            }\n        }\n\n        self.render();\n        self.onChange();\n    };\n\n    self.removeActiveModel = function() {\n        if (!self.activeModel()) {\n            return undefined;\n        } else {\n            var model = self.activeModel();\n\n            var index = self.models.indexOf(model);\n            if (index > -1) {\n                self.models.splice(index, 1);\n            }\n\n            self.scene.remove(model);\n            self.makeModelActive(undefined);\n            return model;\n        }\n    };\n\n    self.removeAllModels = function() {\n        for (var i = 0; i < self.models.length; i++) {\n            self.scene.remove(self.models[i]);\n        }\n        self.models = [];\n        self.makeModelActive(undefined);\n    }\n\n    self.splitActiveModel = function() {\n        if (!self.activeModel()) {\n            return;\n        } else {\n            var originalModel = self.removeActiveModel()\n            var geometry = originalModel.children[0].geometry;\n            var newGeometries = GeometryUtils.split(geometry);\n            self.onNewModel(\n                newGeometries.map( function(geometry) {\n                    return self.addModelOfGeometry( geometry, originalModel );\n                })\n            );\n        }\n    };\n\n    self.onlyOneOriginalModel = function() {\n        return self.models.length == 1  &&\n            self.models[0].position.x == 0.0 &&\n            self.models[0].position.y == 0.0 &&\n            self.models[0].rotation.x == 0.0 &&\n            self.models[0].rotation.y == 0.0 &&\n            self.models[0].rotation.z == 0.0 &&\n            self.models[0].scale.x == 1.0 &&\n            self.models[0].scale.y == 1.0 &&\n            self.models[0].scale.z == 1.0\n    };\n\n    self.startTransform = function () {\n        // Disable orbit controls\n        self.orbitControls.enabled = false;\n    };\n\n    self.endTransform = function () {\n        // Enable orbit controls\n        self.orbitControls.enabled = true;\n    };\n\n}\n","/*\n * View model for OctoPrint-Slicer\n *\n * Author: Kenneth Jiang\n * License: AGPLv3\n */\nko.bindingHandlers.numericValue = {\n    init : function(element, valueAccessor, allBindings, data, context) {\n        var interceptor = ko.computed({\n            read: function() {\n                return ko.unwrap(valueAccessor());\n            },\n            write: function(value) {\n                if (!isNaN(value)) {\n                    valueAccessor()(parseFloat(value));\n                }\n            },\n            disposeWhenNodeIsRemoved: element\n        });\n\n        ko.applyBindingsToNode(element, { value: interceptor }, context);\n    }\n};\n\nexport function OverridesViewModel(parameters, array_keys, enum_keys, item_keys, boolean_keys) {\n    var self = this;\n    self.slicingViewModel = parameters[0];\n\n    var ARRAY_KEYS = [\n        \"print_temperature\",\n        \"start_gcode\",\n        \"end_gcode\",\n        \"filament_diameter\"\n    ],\n        ENUM_KEYS = {\n            \"support\" : ko.observableArray([\"none\", \"buildplate\", \"everywhere\"]),\n            \"platform_adhesion\" : ko.observableArray([\"none\", \"brim\", \"raft\"])\n        },\n        ITEM_KEYS = [\n            \"layer_height\",\n            \"temperature\",\n            \"bed_temperature\",\n            \"print_bed_temperature\",\n            \"fill_density\",\n            \"wall_thickness\",\n            \"print_speed\",\n            \"solid_layer_thickness\",\n            \"travel_speed\",\n            \"outer_shell_speed\",\n            \"inner_shell_speed\",\n            \"infill_speed\",\n            \"bottom_layer_speed\",\n            \"filament_flow\",\n            \"retraction_speed\",\n            \"retraction_amount\",\n            \"extrusion_multiplier\",\n        ],\n        BOOLEAN_KEYS = [\n            \"support_material\",\n            \"overhangs\",\n            \"retraction_enable\",\n            \"fan_enabled\",\n            \"cooling\"\n        ];\n    var ALL_KEYS = BOOLEAN_KEYS.concat(ITEM_KEYS).concat(ARRAY_KEYS).concat(Object.keys(ENUM_KEYS));\n\n    // initialize all observables\n    _.forEach(ALL_KEYS, function(k) { self[\"profile.\" + k] = ko.observable(); });\n\n    self.optionsForKey = function(key) {\n        return ENUM_KEYS[key];\n    };\n\n    self.updateOverridesFromProfile = function(profile) {\n\n        // Some options are numeric but might have a percent sign after them.\n        // Remove the percent and save it to replace later.\n        self.endings = {};\n        var stripEndings = function(m, k) {\n            if (_.isString(m[k]) && m[k].endsWith(\"%\")) {\n                self.endings[k] = \"%\";\n                return m[k].slice(0,-1);\n            } else {\n                return m[k];\n            }\n        }\n\n        // Some options are booleans but can be stored as 0/1 or false/true.\n        // Convert to native true/false and keep track of the style.\n        self.booleans = {};\n        var convertBoolean = function(m, k) {\n            var BOOLS = [\n                [\"false\", \"true\"],\n                [\"False\", \"True\"],\n                [\"0\", \"1\"],\n            ];\n            if (m[k] === undefined) {\n                return undefined;\n            }\n            for (var boolType = 0; boolType < BOOLS.length; boolType++) {\n                for (var b = 0; b < BOOLS[boolType].length; b++) {\n                    if (m[k] === BOOLS[boolType][b]) {\n                        self.booleans[k] = BOOLS[boolType];\n                        return !!b;  // Convert 0 to false and 1 to true.\n                    }\n                }\n            }\n            return !!m[k]; // Just take a guess if we can't figure it out.\n        }\n\n\n        // Some options are arrays in cura but not Slic3r.  Keep track of which.\n        self.isArray = [];\n\n        _.forEach(ITEM_KEYS, function(k) { self[\"profile.\" + k]( stripEndings(profile,k) ); });\n        _.forEach(BOOLEAN_KEYS, function(k) { self[\"profile.\" + k]( convertBoolean(profile,k) ); });\n        _.forEach(ENUM_KEYS, function(v, k) { self[\"profile.\" + k]( profile[k] ); });\n        _.forEach(ARRAY_KEYS, function(k) {\n            // Some config options are arrays in cura but not in Slic3r.\n            // Detect which ones are arrays and only convert those.\n            if (_.isArray(profile[k])) {\n                self.isArray.push(k);  // Remember this for later.\n                self[\"profile.\" + k](profile[k][0]);\n            } else {\n                self[\"profile.\" + k](profile[k]);\n            }});\n    };\n\n\n    self.onProfileChange = function(newValue) {\n        if (newValue === undefined) {  // For some reason KO would fire event with newValue=undefined,\n            return;  // in which case we should ignore it otherwise things get messed up\n        }\n\n        var slicing = self.slicingViewModel;\n\n        if( !slicing.slicer() || !slicing.profile() ) {\n            return;\n        }\n\n        self.fetchSlicingProfile( slicing.slicer(), slicing.profile() );\n    };\n\n    self.fetchSlicingProfile = function(slicer, profile) {\n        if (self.profileAjax) {\n            self.profileAjax.abort();\n            self.profileAjax = undefined;\n        }\n\n        self.profileAjax = $.ajax({\n            url: API_BASEURL + \"slicing/\" + slicer + \"/profiles/\" + profile,\n            type: \"GET\",\n            // On success\n            success: function(data) {\n                self.updateOverridesFromProfile(data.data);\n            }\n        });\n    };\n\n    self.slicingViewModel.profile.subscribe( self.onProfileChange );\n    //\n    //End of Profile-handling mess\n\n\n    self.toJS = function() {\n        var result = ko.mapping.toJS(self, {\n            ignore: [\"slicingViewModel\",\n                \"updateOverridesFromProfile\",\n                \"updateOverrides\",\n                \"toJS\",\n                \"optionsForKey\",\n                \"stripEndings\",\n                \"isArray\",\n                \"endings\"]\n        });\n        _.forEach(ITEM_KEYS, function(k) {\n            if(self.endings.hasOwnProperty(k)) {\n                result[\"profile.\" + k] += self.endings[k];\n            }});\n        _.forEach(BOOLEAN_KEYS, function(k) {\n            if(self.booleans.hasOwnProperty(k)) {\n                // Convert false/true to the correct string.\n                result[\"profile.\" + k] = self.booleans[k][result[\"profile.\" + k]?1:0];\n            }});\n\n        for (var key in result) {\n            var baseKey = key.replace(\"profile.\", \"\");\n            // Convert it back to an array if it was an array originally.\n            if (_.contains(ARRAY_KEYS, baseKey) && _.contains(self.isArray, baseKey)) {\n                result[key] = [result[key]];\n            }\n        }\n\n        _.forEach(result, function(k) {\n            // If the value is undefined, must not be valid for this slicer.\n            if (result[k] === undefined) {\n                delete result[k];\n            }\n        });\n        return result;\n    };\n}\n\n// view model class, parameters for constructor, container to bind to\nOCTOPRINT_VIEWMODELS.push([\n    OverridesViewModel,\n    [ \"slicingViewModel\" ],\n    [ \"#basic_overrides\", \"#advanced_overrides\" ]\n]);\n","/*\n * View model for OctoPrint-Slicer\n *\n * Author: Kenneth Jiang\n * License: AGPLv3\n */\n\n'use strict';\n\nimport * as THREETK from '3tk';\nimport { STLViewPort } from './STLViewPort';\nimport { OverridesViewModel } from './profile_overrides';\n\nif (window.location.hostname != \"localhost\") {\n    Raven.config('https://85bd9314656d40da9249aec5a32a2b52@sentry.io/141297', {\n        release: '0.9.6',\n        ignoreErrors: [\n            \"Failed to execute 'arc' on 'CanvasRenderingContext2D': The radius provided\",\n            \"Cannot read property 'highlightFill' of undefined\",\n            \"Argument 1 of SVGMatrix.translate is not a finite floating-point value\",\n            /_jp.*is not a function/,\n        ],\n    }).install();\n}\n\nfunction SlicerViewModel(parameters) {\n    mixpanel.track(\"App Loaded\");\n\n    var self = this;\n\n    self.canvas = document.getElementById( 'slicer-canvas' );\n\n    //check if webGL is present. If not disable Slicer plugin\n    if ( ! THREETK.Detector.webgl ) {\n        $('#tab_plugin_slicer').empty().append(\"<h3>Slicer Plugin is disabled because your browser doesn't support WebGL</h3>\");\n        return;\n    }\n\n    // assign the injected parameters, e.g.:\n    self.slicingViewModel = parameters[0];\n    self.overridesViewModel = parameters[1];\n    self.printerStateViewModel = parameters[2];\n    self.printerProfilesViewModel = parameters[3];\n\n    self.lockScale = true;\n    self.selectedSTL = undefined;\n    self.newPrint = true;\n\n\n    // Override slicingViewModel.show to surpress default slicing behavior\n    self.slicingViewModel.show = function(target, file, force) {\n        if (!self.slicingViewModel.enableSlicingDialog() && !force) {\n            return;\n        }\n        mixpanel.track(\"Load STL\");\n\n        $('a[href=\"#tab_plugin_slicer\"]').tab('show');\n\n        self.selectedSTL = {target: target, file: file};\n        if (self.newPrint) {\n            self.addToNewPrint();\n        } else {\n            $(\"#plugin-slicer-load-model\").modal(\"show\");\n        }\n    };\n\n    self.addToNewPrint = function() {\n        self.clearPrint();\n        self.addToExistingPrint();\n    };\n\n    self.addToExistingPrint = function() {\n        self.setSlicingViewModel(self.selectedSTL.target, self.selectedSTL.file);\n        self.addSTL(self.selectedSTL.target, self.selectedSTL.file);\n        self.selectedSTL = undefined;\n\n        $(\"#plugin-slicer-load-model\").modal(\"hide\");\n    };\n\n    self.clearPrint = function() {\n        self.resetSlicingViewModel();\n        self.stlViewPort.removeAllModels();\n        self.newPrint = true;\n    }\n\n    self.addSTL = function(target, file) {\n        self.newPrint = false;\n        self.stlViewPort.loadSTL(BASEURL + \"downloads/files/\" + target + \"/\" + file);\n    }\n\n    self.onModelAdd = function(models) {\n\n        self.stlViewPort.makeModelActive(models[0]);\n\n        models.forEach( function( model ) {\n            self.fixZPosition(model);\n        });\n\n        if (self.stlViewPort.models.length > 1) {\n            ModelArranger.arrange(self.stlViewPort.models);\n        }\n        self.stlViewPort.render();\n\n        $('#tab_plugin_slicer > div.translucent-blocker').hide();\n\n    };\n\n    self.onModelRemove = function(model) {\n        if (self.stlViewPort.models.length == 0) {\n            self.clearPrint();\n        }\n    };\n\n    self.updatePrinterBed = function(profileName) {\n        if ( profileName) {\n            var profile = self.printerProfilesViewModel.profiles.items().find(function(p) { return p.id == profileName })\n\n            var dim = profile.volume\n            self.BEDSIZE_X_MM = dim.width;\n            self.BEDSIZE_Y_MM = dim.depth;\n            self.BEDSIZE_Z_MM = dim.height;\n            if (dim.origin == \"lowerleft\" ) {\n                self.ORIGIN_OFFSET_X_MM = self.BEDSIZE_X_MM/2.0;\n                self.ORIGIN_OFFSET_Y_MM = self.BEDSIZE_Y_MM/2.0;\n            } else {\n                self.ORIGIN_OFFSET_X_MM = 0;\n                self.ORIGIN_OFFSET_Y_MM = 0;\n            }\n        }\n        self.drawBedFloor(self.BEDSIZE_X_MM, self.BEDSIZE_Y_MM);\n        self.drawWalls(self.BEDSIZE_X_MM, self.BEDSIZE_Y_MM, self.BEDSIZE_Z_MM);\n        self.stlViewPort.render();\n    }\n\n    self.slicingViewModel.printerProfile.subscribe( self.updatePrinterBed );\n\n    self.BEDSIZE_X_MM = 200;\n    self.BEDSIZE_Y_MM = 200;\n    self.BEDSIZE_Z_MM = 200;\n    self.ORIGIN_OFFSET_X_MM = 0;\n    self.ORIGIN_OFFSET_Y_MM = 0;\n\n    var CANVAS_WIDTH = 588,\n        CANVAS_HEIGHT = 588;\n\n\n    self.init = function() {\n\n        self.slicingViewModel.requestData();\n\n        self.stlViewPort = new STLViewPort(self.canvas, CANVAS_WIDTH, CANVAS_HEIGHT, self.onModelChange, self.onModelAdd)\n        self.stlViewPort.init();\n\n        //Walls and Floor\n        self.walls = new THREE.Object3D();\n        self.floor = new THREE.Object3D();\n        self.stlViewPort.scene.add(self.walls);\n        self.stlViewPort.scene.add(self.floor);\n\n        self.updatePrinterBed();\n\n        ko.applyBindings(self.slicingViewModel, $('#slicing-settings')[0]);\n\n        // Buttons on the canvas, and their behaviors.\n        // TODO: it's not DRY. mix of prez code and logics. need to figure out a better way\n        $(\"#slicer-viewport\").empty().append('<div class=\"report\"><span>Got issues or suggestions? <a target=\"_blank\" href=\"https://github.com/kennethjiang/OctoPrint-Slicer/issues/new\">Click here!</a></span></div>\\\n                  <div class=\"model\">\\\n                    <button class=\"translate disabled\" title=\"Move\"><img src=\"'\n            + PLUGIN_BASEURL\n            + 'slicer/static/img/translate.png\"></button>\\\n                    <button class=\"rotate disabled\" title=\"Rotate\"><img src=\"'\n            + PLUGIN_BASEURL\n            + 'slicer/static/img/rotate.png\"></button>\\\n                    <button class=\"scale disabled\" title=\"Scale\"><img src=\"'\n            + PLUGIN_BASEURL\n            + 'slicer/static/img/scale.png\"></button>\\\n                    <button class=\"remove disabled\" title=\"Remove\"><img src=\"'\n            + PLUGIN_BASEURL\n            + 'slicer/static/img/remove.png\"></button>\\\n                    <button class=\"split disabled\" title=\"Split\"><img src=\"'\n            + PLUGIN_BASEURL\n            + 'slicer/static/img/split.png\"></button>\\\n                </div>\\\n                <div class=\"values translate\">\\\n                    <div>\\\n                        <p><span class=\"axis x\">X</span><input type=\"number\" step=\"any\" name=\"x\"><span title=\"\">mm</span></p>\\\n                        <p><span class=\"axis y\">Y</span><input type=\"number\" step=\"any\" name=\"y\"><span title=\"\">mm</span></p>\\\n                        <span></span>\\\n                    </div>\\\n               </div>\\\n                <div class=\"values rotate\">\\\n                    <div>\\\n                        <p><span class=\"axis x\">X</span><input type=\"number\" step=\"any\" name=\"x\"><span title=\"\"></span></p>\\\n                        <p><span class=\"axis y\">Y</span><input type=\"number\" step=\"any\" name=\"y\"><span title=\"\"></span></p>\\\n                        <p><span class=\"axis z\">Z</span><input type=\"number\" step=\"any\" name=\"z\"><span title=\"\"></span></p>\\\n                        <span></span>\\\n                    </div>\\\n               </div>\\\n                <div class=\"values scale\">\\\n                    <div>\\\n                        <p><span class=\"axis x\">X</span><input type=\"number\" step=\"0.001\" name=\"x\" min=\"0.001\"></p>\\\n                        <p><span class=\"axis y\">Y</span><input type=\"number\" step=\"0.001\" name=\"y\" min=\"0.001\"></p>\\\n                        <p><span class=\"axis z\">Z</span><input type=\"number\" step=\"0.001\" name=\"z\" min=\"0.001\"></p>\\\n                        <p class=\"checkbox\"><label><input type=\"checkbox\" checked>Lock</label></p>\\\n                        <span></span>\\\n                    </div>\\\n               </div>');\n\n        $(\"#slicer-viewport\").append(self.stlViewPort.renderer.domElement);\n\n        $(\"#slicer-viewport button.translate\").click(function(event) {\n            self.stlViewPort.transformControls.setMode(\"translate\");\n            self.stlViewPort.transformControls.space = \"world\";\n            self.toggleValueInputs($(\"#slicer-viewport .translate.values div\"));\n        });\n        $(\"#slicer-viewport button.rotate\").click(function(event) {\n            self.stlViewPort.transformControls.setMode(\"rotate\");\n            self.stlViewPort.transformControls.space = \"world\";\n            self.toggleValueInputs($(\"#slicer-viewport .rotate.values div\"));\n        });\n        $(\"#slicer-viewport button.scale\").click(function(event) {\n            self.stlViewPort.transformControls.setMode(\"scale\");\n            self.stlViewPort.transformControls.space = \"local\";\n            self.toggleValueInputs($(\"#slicer-viewport .scale.values div\"));\n        });\n        $(\"#slicer-viewport button.remove\").click(function(event) {\n            self.onModelRemove( self.stlViewPort.removeActiveModel() );\n        });\n        $(\"#slicer-viewport button.split\").click(function(event) {\n            self.onModelRemove( self.stlViewPort.splitActiveModel() );\n        });\n        $(\"#slicer-viewport .values input\").change(function() {\n            self.applyValueInputs($(this));\n        });\n\n    };\n\n    self.toggleValueInputs = function(parentDiv) {\n        if ( parentDiv.hasClass(\"show\") ) {\n            parentDiv.removeClass(\"show\").children('p').removeClass(\"show\");\n        } else if (self.stlViewPort.activeModel()) {\n            $(\"#slicer-viewport .values div\").removeClass(\"show\");\n            parentDiv.addClass(\"show\").children('p').addClass(\"show\");\n        }\n    };\n\n    self.applyValueInputs = function(input) {\n        input.blur();\n        if(input[0].type == \"checkbox\") {\n            self.lockScale = input[0].checked;\n        }\n        else if(input[0].type == \"number\" && !isNaN(parseFloat(input.val()))) {\n            input.val(parseFloat(input.val()).toFixed(3));\n            var model = self.stlViewPort.activeModel();\n\n            if (input.closest(\".values\").hasClass(\"scale\") && self.lockScale) {\n                $(\"#slicer-viewport .scale.values input\").val(input.val());\n                console.log($(\"#slicer-viewport .scale.values input[name=\\\"x\\\"]\").val());\n            }\n\n            model.position.x =  parseFloat($(\"#slicer-viewport .translate.values input[name=\\\"x\\\"]\").val())\n            model.position.y =  parseFloat($(\"#slicer-viewport .translate.values input[name=\\\"y\\\"]\").val())\n            model.rotation.x =  THREE.Math.degToRad($(\"#slicer-viewport .rotate.values input[name=\\\"x\\\"]\").val());\n            model.rotation.y =  THREE.Math.degToRad($(\"#slicer-viewport .rotate.values input[name=\\\"y\\\"]\").val());\n            model.rotation.z =  THREE.Math.degToRad($(\"#slicer-viewport .rotate.values input[name=\\\"z\\\"]\").val());\n            model.scale.x =  parseFloat($(\"#slicer-viewport .scale.values input[name=\\\"x\\\"]\").val())\n            model.scale.y =  parseFloat($(\"#slicer-viewport .scale.values input[name=\\\"y\\\"]\").val())\n            model.scale.z =  parseFloat($(\"#slicer-viewport .scale.values input[name=\\\"z\\\"]\").val())\n            self.fixZPosition(model);\n            self.stlViewPort.render();\n        }\n    };\n\n    self.fixZPosition = function ( model ) {\n        var bedLowMinZ = 0.0;\n        var boundaryBox = new THREE.Box3().setFromObject(model);\n        boundaryBox.min.sub(model.position);\n        boundaryBox.max.sub(model.position);\n        model.position.z -= model.position.z + boundaryBox.min.z - bedLowMinZ;\n    }\n\n    // callback function when models are changed by TransformControls\n    self.onModelChange = function() {\n        var model = self.stlViewPort.activeModel();\n        if (model) {\n            $(\"#slicer-viewport .translate.values input[name=\\\"x\\\"]\").val(model.position.x.toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .translate.values input[name=\\\"y\\\"]\").val(model.position.y.toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .rotate.values input[name=\\\"x\\\"]\").val((model.rotation.x * 180 / Math.PI).toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .rotate.values input[name=\\\"y\\\"]\").val((model.rotation.y * 180 / Math.PI).toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .rotate.values input[name=\\\"z\\\"]\").val((model.rotation.z * 180 / Math.PI).toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .scale.values input[name=\\\"x\\\"]\").val(model.scale.x.toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .scale.values input[name=\\\"y\\\"]\").val(model.scale.y.toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .scale.values input[name=\\\"z\\\"]\").val(model.scale.z.toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .scale.values input[type=\\\"checkbox\\\"]\").checked = self.lockScale;\n            self.fixZPosition(model);\n            self.stlViewPort.render();\n        }\n\n        if (!self.stlViewPort.activeModel()) {\n            $(\"#slicer-viewport .values div\").removeClass(\"show\")\n            $(\"#slicer-viewport button\").addClass(\"disabled\");\n        } else {\n            $(\"#slicer-viewport button\").removeClass(\"disabled\");\n        }\n    };\n\n    // Slicing\n    //\n    self.tempFiles = {};\n    self.removeTempFilesAfterSlicing = function (event) {\n        if ($.inArray(event.data.type, [\"SlicingDone\", \"SlicingFailed\"]) >= 0 &&\n            event.data.payload.stl in self.tempFiles) {\n            OctoPrint.files.delete(event.data.payload.stl_location,\n                event.data.payload.stl);\n            delete self.tempFiles[event.data.payload.stl];\n        }\n    }\n\n    OctoPrint.socket.onMessage(\"event\", self.removeTempFilesAfterSlicing);\n\n    self.sliceRequestData = function(slicingVM, group) {\n        var destinationFilename = slicingVM._sanitize(slicingVM.destinationFilename());\n\n        var destinationExtensions = slicingVM.data[slicingVM.slicer()] && slicingVM.data[slicingVM.slicer()].extensions && slicingVM.data[slicingVM.slicer()].extensions.destination\n            ? slicingVM.data[slicingVM.slicer()].extensions.destination\n            : [\"???\"];\n        if (!_.any(destinationExtensions, function(extension) {\n            return _.endsWith(destinationFilename.toLowerCase(), \".\" + extension.toLowerCase());\n        })) {\n            destinationFilename = destinationFilename + \".\" + destinationExtensions[0];\n        }\n        var groupCenter = new THREE.Vector3(0,0,0);\n        if (group) {\n            groupCenter = new THREE.Box3().setFromObject(group).center();\n        }\n        var data = {\n            command: \"slice\",\n            slicer: slicingVM.slicer(),\n            profile: slicingVM.profile(),\n            printerProfile: slicingVM.printerProfile(),\n            destination: destinationFilename,\n            position: { \"x\": self.ORIGIN_OFFSET_X_MM + groupCenter.x,\n                \"y\": self.ORIGIN_OFFSET_Y_MM + groupCenter.y}\n        };\n        _.extend(data, self.overridesViewModel.toJS());\n\n        if (slicingVM.afterSlicing() == \"print\") {\n            data[\"print\"] = true;\n        } else if (slicingVM.afterSlicing() == \"select\") {\n            data[\"select\"] = true;\n        }\n        return data;\n    };\n\n    self.sendSliceRequest = function(target, filename, data) {\n        $.ajax({\n            url: API_BASEURL + \"files/\" + target + \"/\" + filename,\n            type: \"POST\",\n            dataType: \"json\",\n            contentType: \"application/json; charset=UTF-8\",\n            data: JSON.stringify(data),\n            error: function(jqXHR, textStatus) {\n                new PNotify({title: \"Slicing failed\", text: textStatus, type: \"error\", hide: false});\n            }\n        });\n    };\n\n    self.slice = function() {\n        mixpanel.track(\"Slice Model\");\n\n        var target = self.slicingViewModel.target;\n        var sliceRequestData;\n\n        if (self.stlViewPort.onlyOneOriginalModel()) {\n\n            sliceRequestData = self.sliceRequestData(self.slicingViewModel);\n            self.sendSliceRequest(self.slicingViewModel.target, self.slicingViewModel.file(), sliceRequestData);\n\n        } else {\n\n            var form = new FormData();\n            var group = new THREE.Group();\n            _.forEach(self.stlViewPort.models, function (model) {\n                group.add(model.clone(true));\n            });\n\n            sliceRequestData = self.sliceRequestData(self.slicingViewModel, group);\n\n            var tempFilename = self.tempSTLFilename();\n            form.append(\"file\", self.blobFromModel(group), tempFilename);\n            $.ajax({\n                url: API_BASEURL + \"files/local\",\n                type: \"POST\",\n                data: form,\n                processData: false,\n                contentType: false,\n                // On success\n                success: function(_) {\n                    self.tempFiles[tempFilename] = 1;\n                    self.sendSliceRequest(target, tempFilename, sliceRequestData);\n                },\n                error: function(jqXHR, textStatus) {\n                    new PNotify({title: \"Slicing failed\", text: textStatus, type: \"error\", hide: false});\n                }\n            });\n\n        }\n    };\n\n    self.blobFromModel = function( model ) {\n        var exporter = new THREETK.STLBinaryExporter();\n        return new Blob([exporter.parse(model)], {type: \"text/plain\"});\n    };\n\n    self.isPrinting = ko.computed(function () {\n        return self.printerStateViewModel.isPrinting() ||\n            self.printerStateViewModel.isPaused();\n    });\n\n    self.canSliceNow = ko.computed(function () {\n        // TODO: We should be checking for same_device here, too.\n        return self.slicingViewModel.enableSliceButton() &&\n            !self.isPrinting();\n    });\n    // END: Slicing\n\n    // Helpers for drawing walls and floor\n    //\n    self.createText = function(font, text, width, depth, parentObj) {\n        var textGeometry = new THREE.TextGeometry( text, {\n            font: font,\n            size: 10,\n            height: 0.1,\n            material: 0, extrudeMaterial: 1\n        });\n        var materialFront = new THREE.MeshBasicMaterial( { color: 0x048e06} );\n        var materialSide = new THREE.MeshBasicMaterial( { color: 0x8A8A8A} );\n        var materialArray = [ materialFront, materialSide ];\n        var textMaterial = new THREE.MeshFaceMaterial(materialArray);\n\n        var mesh = new THREE.Mesh( textGeometry, textMaterial );\n        textGeometry.computeBoundingBox();\n        var textWidth = textGeometry.boundingBox.max.x - textGeometry.boundingBox.min.x;\n        var textHeight = textGeometry.boundingBox.max.y - textGeometry.boundingBox.min.y;\n        switch (text) {\n            case \"Front\":\n                mesh.position.set(-textWidth/2, -depth/2 - textHeight - 4, 1.0);\n                break;\n            case \"Back\":\n                mesh.position.set(textWidth/2, depth/2 + textHeight + 4, 1.0);\n                mesh.rotation.set(0, 0, Math.PI);\n                break;\n            case \"Left\":\n                mesh.position.set(-width/2 - textHeight - 4, textWidth/2, 1.0);\n                mesh.rotation.set(0, 0, -Math.PI / 2);\n                break;\n            case \"Right\":\n                mesh.position.set(width/2 + textHeight, -textWidth/2, 1.0);\n                mesh.rotation.set(0, 0, Math.PI / 2);\n                break;\n        }\n        parentObj.add(mesh);\n    };\n\n    self.drawBedFloor = function ( width, depth, segments ) {\n        for(var i = self.floor.children.length - 1; i >= 0; i--) {\n            var obj = self.floor.children[i];\n            self.floor.remove(obj);\n        }\n\n        segments = segments || 20;\n        var geometry = new THREE.PlaneGeometry(width, depth, segments, segments);\n        var materialEven = new THREE.MeshBasicMaterial({color: 0xccccfc});\n        var materialOdd = new THREE.MeshBasicMaterial({color: 0x444464});\n        var materials = [materialEven, materialOdd];\n        for (var x = 0; x < segments; x++) {\n            for (var y = 0; y < segments; y++) {\n                var i = x * segments + y;\n                var j = 2 * i;\n                geometry.faces[ j ].materialIndex = geometry.faces[ j + 1 ].materialIndex = (x + y) % 2;\n            }\n        }\n        var mesh = new THREE.Mesh(geometry, new THREE.MeshFaceMaterial(materials));\n        mesh.receiveShadow = true;\n        self.floor.add(mesh);\n\n        //Add text to indicate front/back of print bed\n        var loader = new THREE.FontLoader();\n        loader.load( PLUGIN_BASEURL + \"slicer/static/js/optimer_bold.typeface.json\", function ( font ) {\n            self.createText(font, \"Front\", width, depth, self.floor);\n            self.createText(font, \"Back\", width, depth, self.floor);\n            self.createText(font, \"Left\", width, depth, self.floor);\n            self.createText(font, \"Right\", width, depth, self.floor);\n            self.stlViewPort.render();\n        } );\n    };\n\n    self.drawWalls = function ( width, depth, height ) {\n        for(var i = self.walls.children.length - 1; i >= 0; i--) {\n            var obj = self.walls.children[i];\n            self.walls.remove(obj);\n        }\n\n        var wall1 = self.rectShape( width, height, 0x8888fc );\n        wall1.rotation.x = Math.PI / 2;\n        wall1.position.set(0, depth/2, height/2);\n        self.walls.add(wall1);\n\n        var wall2 = self.rectShape( height, depth, 0x8888dc );\n        wall2.rotation.y = Math.PI / 2;\n        wall2.position.set(-width/2, 0, height/2);\n        self.walls.add(wall2);\n\n        var wall3 = self.rectShape( width, height, 0x8888fc );\n        wall3.rotation.x = -Math.PI / 2;\n        wall3.position.set(0, -depth/2, height/2);\n        self.walls.add(wall3);\n\n        var wall4 = self.rectShape( height, depth, 0x8888dc );\n        wall4.rotation.y = -Math.PI / 2;\n        wall4.position.set(width/2, 0, height/2);\n        self.walls.add(wall4);\n    };\n\n    self.rectShape = function ( rectLength, rectWidth, color ) {\n        var rectShape = new THREE.Shape();\n        rectShape.moveTo( -rectLength/2,-rectWidth/2 );\n        rectShape.lineTo( -rectLength/2, rectWidth/2 );\n        rectShape.lineTo( rectLength/2, rectWidth/2 );\n        rectShape.lineTo( rectLength/2, -rectWidth/2 );\n        rectShape.lineTo( -rectLength/2, -rectWidth/2 );\n        var rectGeom = new THREE.ShapeGeometry( rectShape );\n        return new THREE.Mesh( rectGeom, new THREE.MeshBasicMaterial( { color: color } ) ) ;\n    };\n    // END: Helpers for drawing walls and floor\n\n    self.resetSlicingViewModel = function() {\n        self.slicingViewModel.target = undefined;\n        self.slicingViewModel.file(undefined);\n        self.slicingViewModel.destinationFilename(undefined);\n    };\n\n    self.setSlicingViewModel = function(target, filename) {\n        if (!self.slicingViewModel.destinationFilename()) {  // A model is added to an empty bed\n            self.slicingViewModel.target = target;\n            self.slicingViewModel.file(filename);\n            self.slicingViewModel.destinationFilename(self.computeDestinationFilename(filename));\n        }\n    };\n\n    // Returns the destination filename based on which models are loaded.\n    // The destination filename is without the final .gco on it because\n    // that will depend on the slicer.\n    self.computeDestinationFilename = function(inputFilename) {\n        // TODO: For now, just use the first model's name.\n        var destinationFilename = inputFilename.substr(0, inputFilename.lastIndexOf(\".\"));\n        if (destinationFilename.lastIndexOf(\"/\") != 0) {\n            destinationFilename = destinationFilename.substr(destinationFilename.lastIndexOf(\"/\") + 1);\n        }\n        return destinationFilename;\n    };\n\n    self.tempSTLFilename = function() {\n        var pos = self.slicingViewModel.file().lastIndexOf(\".\")\n        return [self.slicingViewModel.file().slice(0, pos),\n            \".tmp.\" + (+ new Date()),\n            self.slicingViewModel.file().slice(pos)].join('');\n    };\n\n    self.init();\n}\n\n\n// view model class, parameters for constructor, container to bind to\nOCTOPRINT_VIEWMODELS.push([\n    SlicerViewModel,\n\n    // e.g. loginStateViewModel, settingsViewModel, ...\n    [ \"slicingViewModel\", \"overridesViewModel\", \"printerStateViewModel\", \"printerProfilesViewModel\" ],\n\n    // e.g. #settings_plugin_slicer, #tab_plugin_slicer, ...\n    [ \"#slicer\" ]\n]);\n"],"names":["THREE","STLViewPort","canvas","width","height","onChange","onNewModel","self","canvasWidth","canvasHeight","models","effectController","Color","init","camera","PerspectiveCamera","up","set","position","scene","Scene","ambientLight","AmbientLight","ambientLightColor","add","directionalLight","DirectionalLight","directionalLightColor","directionalLight2","renderer","WebGLRenderer","antialias","setClearColor","setSize","setPixelRatio","window","devicePixelRatio","gammaInput","gammaOutput","orbitControls","THREETK","domElement","enableDamping","dampingFactor","enablePan","addEventListener","render","transformControls","setRotationSnap","Math","degToRad","startTransform","endTransform","event","keyCode","lastMouseEvent","e","pickActiveModel","update","loadSTL","url","onLoad","load","geometry","addModelOfGeometry","modelToCopyTransformFrom","material","MeshStandardMaterial","modelInactiveColor","SmoothShading","DoubleSide","metalness","roughness","stlModel","Mesh","center","Box3","setFromObject","model","Object3D","copy","negate","rotation","scale","push","activeModel","object","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","pointerVector","Vector2","ray","Raycaster","setFromCamera","foundActiveModel","nextPointedModel","undefined","firstPointedModel","i","length","intersections","intersectObjects","children","makeModelActive","m","attach","detach","color","modelActiveColor","removeActiveModel","index","indexOf","splice","remove","removeAllModels","splitActiveModel","originalModel","newGeometries","GeometryUtils","split","map","onlyOneOriginalModel","z","enabled","ko","bindingHandlers","numericValue","element","valueAccessor","allBindings","data","context","interceptor","computed","unwrap","value","isNaN","parseFloat","applyBindingsToNode","OverridesViewModel","parameters","array_keys","enum_keys","item_keys","boolean_keys","slicingViewModel","ARRAY_KEYS","ENUM_KEYS","observableArray","ITEM_KEYS","BOOLEAN_KEYS","ALL_KEYS","concat","Object","keys","forEach","k","observable","optionsForKey","key","updateOverridesFromProfile","profile","endings","stripEndings","_","isString","endsWith","slice","booleans","convertBoolean","BOOLS","boolType","b","isArray","v","onProfileChange","newValue","slicing","slicer","fetchSlicingProfile","profileAjax","abort","$","ajax","API_BASEURL","subscribe","toJS","result","mapping","hasOwnProperty","baseKey","replace","contains","OCTOPRINT_VIEWMODELS","location","hostname","config","install","SlicerViewModel","track","document","getElementById","webgl","empty","append","overridesViewModel","printerStateViewModel","printerProfilesViewModel","lockScale","selectedSTL","newPrint","show","target","file","force","enableSlicingDialog","tab","addToNewPrint","modal","clearPrint","addToExistingPrint","setSlicingViewModel","addSTL","resetSlicingViewModel","stlViewPort","BASEURL","onModelAdd","fixZPosition","arrange","hide","onModelRemove","updatePrinterBed","profileName","profiles","items","find","p","id","dim","volume","BEDSIZE_X_MM","BEDSIZE_Y_MM","depth","BEDSIZE_Z_MM","origin","ORIGIN_OFFSET_X_MM","ORIGIN_OFFSET_Y_MM","drawBedFloor","drawWalls","printerProfile","CANVAS_WIDTH","CANVAS_HEIGHT","requestData","onModelChange","walls","floor","applyBindings","PLUGIN_BASEURL","click","setMode","space","toggleValueInputs","change","applyValueInputs","parentDiv","hasClass","removeClass","addClass","input","blur","type","checked","val","toFixed","closest","log","bedLowMinZ","boundaryBox","min","sub","max","attr","PI","tempFiles","removeTempFilesAfterSlicing","inArray","payload","stl","files","delete","stl_location","socket","onMessage","sliceRequestData","slicingVM","group","destinationFilename","_sanitize","destinationExtensions","extensions","destination","any","extension","toLowerCase","groupCenter","Vector3","extend","afterSlicing","sendSliceRequest","filename","JSON","stringify","jqXHR","textStatus","PNotify","title","text","form","FormData","Group","clone","tempFilename","tempSTLFilename","blobFromModel","exporter","Blob","parse","isPrinting","isPaused","canSliceNow","enableSliceButton","createText","font","parentObj","textGeometry","TextGeometry","extrudeMaterial","materialFront","MeshBasicMaterial","materialSide","materialArray","textMaterial","MeshFaceMaterial","mesh","computeBoundingBox","textWidth","boundingBox","textHeight","segments","obj","PlaneGeometry","materialEven","materialOdd","materials","j","faces","materialIndex","receiveShadow","loader","FontLoader","wall1","rectShape","wall2","wall3","wall4","rectLength","rectWidth","Shape","moveTo","lineTo","rectGeom","ShapeGeometry","computeDestinationFilename","inputFilename","substr","lastIndexOf","pos","Date","join"],"mappings":"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"}