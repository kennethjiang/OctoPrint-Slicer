{"version":3,"file":null,"sources":["../../../node_modules/3tk/dist/3tk.module.js","../../../src/STLViewPort.js","../../../src/profile_overrides.js","../../../src/slicer.js"],"sourcesContent":["import THREE from 'three';\n\n/**\n * @author arodic / https://github.com/arodic\n */\n\nfunction DefaultHandles() {\n\n    var GizmoMaterial = function GizmoMaterial(parameters) {\n\n        THREE.MeshBasicMaterial.call(this);\n\n        this.depthTest = false;\n        this.depthWrite = false;\n        this.side = THREE.FrontSide;\n        this.transparent = true;\n\n        this.setValues(parameters);\n\n        this.oldColor = this.color.clone();\n        this.oldOpacity = this.opacity;\n\n        this.highlight = function (highlighted) {\n\n            if (highlighted) {\n\n                this.color.setRGB(1, 1, 0);\n                this.opacity = 1;\n            } else {\n\n                this.color.copy(this.oldColor);\n                this.opacity = this.oldOpacity;\n            }\n        };\n    };\n\n    GizmoMaterial.prototype = Object.create(THREE.MeshBasicMaterial.prototype);\n    GizmoMaterial.prototype.constructor = GizmoMaterial;\n\n    var GizmoLineMaterial = function GizmoLineMaterial(parameters) {\n\n        THREE.LineBasicMaterial.call(this);\n\n        this.depthTest = false;\n        this.depthWrite = false;\n        this.transparent = true;\n        this.linewidth = 1;\n\n        this.setValues(parameters);\n\n        this.oldColor = this.color.clone();\n        this.oldOpacity = this.opacity;\n\n        this.highlight = function (highlighted) {\n\n            if (highlighted) {\n\n                this.color.setRGB(1, 1, 0);\n                this.opacity = 1;\n            } else {\n\n                this.color.copy(this.oldColor);\n                this.opacity = this.oldOpacity;\n            }\n        };\n    };\n\n    GizmoLineMaterial.prototype = Object.create(THREE.LineBasicMaterial.prototype);\n    GizmoLineMaterial.prototype.constructor = GizmoLineMaterial;\n\n    var invisibleMaterial = new GizmoMaterial({ visible: false, transparent: false });\n\n    var gizmoFromMap = function gizmoFromMap(gizmoMap) {\n\n        var gizmo = new THREE.Object3D();\n\n        for (var name in gizmoMap) {\n\n            for (var i = gizmoMap[name].length; i--;) {\n\n                var object = gizmoMap[name][i][0];\n                var position = gizmoMap[name][i][1];\n                var rotation = gizmoMap[name][i][2];\n\n                object.name = name;\n\n                if (position) object.position.set(position[0], position[1], position[2]);\n                if (rotation) object.rotation.set(rotation[0], rotation[1], rotation[2]);\n\n                gizmo.add(object);\n            }\n        }\n\n        return gizmo;\n    };\n\n    this.translateHandles = function () {\n        var arrowGeometry = new THREE.Geometry();\n        var mesh = new THREE.Mesh(new THREE.CylinderGeometry(0, 0.05, 0.2, 12, 1, false));\n        mesh.position.y = 0.5;\n        mesh.updateMatrix();\n\n        arrowGeometry.merge(mesh.geometry, mesh.matrix);\n\n        var lineXGeometry = new THREE.BufferGeometry();\n        lineXGeometry.addAttribute('position', new THREE.Float32BufferAttribute([0, 0, 0, 1, 0, 0], 3));\n\n        var lineYGeometry = new THREE.BufferGeometry();\n        lineYGeometry.addAttribute('position', new THREE.Float32BufferAttribute([0, 0, 0, 0, 1, 0], 3));\n\n        var lineZGeometry = new THREE.BufferGeometry();\n        lineZGeometry.addAttribute('position', new THREE.Float32BufferAttribute([0, 0, 0, 0, 0, 1], 3));\n\n        return gizmoFromMap({\n            X: [[new THREE.Mesh(arrowGeometry, new GizmoMaterial({ color: 0xff0000 })), [0.5, 0, 0], [0, 0, -Math.PI / 2]], [new THREE.Line(lineXGeometry, new GizmoLineMaterial({ color: 0xff0000 }))], [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), invisibleMaterial), [0.6, 0, 0], [0, 0, -Math.PI / 2]]],\n\n            Y: [[new THREE.Mesh(arrowGeometry, new GizmoMaterial({ color: 0x00ff00 })), [0, 0.5, 0]], [new THREE.Line(lineYGeometry, new GizmoLineMaterial({ color: 0x00ff00 }))], [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), invisibleMaterial), [0, 0.6, 0]]],\n\n            Z: [[new THREE.Mesh(arrowGeometry, new GizmoMaterial({ color: 0x0000ff })), [0, 0, 0.5], [Math.PI / 2, 0, 0]], [new THREE.Line(lineZGeometry, new GizmoLineMaterial({ color: 0x0000ff }))], [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), invisibleMaterial), [0, 0, 0.6], [Math.PI / 2, 0, 0]]],\n\n            XYZ: [[new THREE.Mesh(new THREE.OctahedronGeometry(0.1, 0), new GizmoMaterial({ color: 0xffffff, opacity: 0.25 })), [0, 0, 0], [0, 0, 0]], [new THREE.Mesh(new THREE.OctahedronGeometry(0.2, 0), invisibleMaterial)]],\n\n            XY: [[new THREE.Mesh(new THREE.PlaneBufferGeometry(0.29, 0.29), new GizmoMaterial({ color: 0xffff00, opacity: 0.25 })), [0.15, 0.15, 0]], [new THREE.Mesh(new THREE.PlaneBufferGeometry(0.4, 0.4), invisibleMaterial), [0.2, 0.2, 0]]],\n\n            YZ: [[new THREE.Mesh(new THREE.PlaneBufferGeometry(0.29, 0.29), new GizmoMaterial({ color: 0x00ffff, opacity: 0.25 })), [0, 0.15, 0.15], [0, Math.PI / 2, 0]], [new THREE.Mesh(new THREE.PlaneBufferGeometry(0.4, 0.4), invisibleMaterial), [0, 0.2, 0.2], [0, Math.PI / 2, 0]]],\n\n            XZ: [[new THREE.Mesh(new THREE.PlaneBufferGeometry(0.29, 0.29), new GizmoMaterial({ color: 0xff00ff, opacity: 0.25 })), [0.15, 0, 0.15], [-Math.PI / 2, 0, 0]], [new THREE.Mesh(new THREE.PlaneBufferGeometry(0.4, 0.4), invisibleMaterial), [0.2, 0, 0.2], [-Math.PI / 2, 0, 0]]]\n\n        });\n    };\n\n    this.rotateHandles = function () {\n\n        var CircleGeometry = function CircleGeometry(radius, facing, arc) {\n\n            var geometry = new THREE.BufferGeometry();\n            var vertices = [];\n            arc = arc ? arc : 1;\n\n            for (var i = 0; i <= 64 * arc; ++i) {\n\n                if (facing === 'x') vertices.push(0, Math.cos(i / 32 * Math.PI) * radius, Math.sin(i / 32 * Math.PI) * radius);\n                if (facing === 'y') vertices.push(Math.cos(i / 32 * Math.PI) * radius, 0, Math.sin(i / 32 * Math.PI) * radius);\n                if (facing === 'z') vertices.push(Math.sin(i / 32 * Math.PI) * radius, Math.cos(i / 32 * Math.PI) * radius, 0);\n            }\n\n            geometry.addAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));\n            return geometry;\n        };\n\n        return gizmoFromMap({\n            X: [[new THREE.Line(new CircleGeometry(1, 'x', 0.5), new GizmoLineMaterial({ color: 0xff0000 }))], [new THREE.Mesh(new THREE.TorusBufferGeometry(1, 0.12, 4, 12, Math.PI), invisibleMaterial), [0, 0, 0], [0, -Math.PI / 2, -Math.PI / 2]]],\n\n            Y: [[new THREE.Line(new CircleGeometry(1, 'y', 0.5), new GizmoLineMaterial({ color: 0x00ff00 }))], [new THREE.Mesh(new THREE.TorusBufferGeometry(1, 0.12, 4, 12, Math.PI), invisibleMaterial), [0, 0, 0], [Math.PI / 2, 0, 0]]],\n\n            Z: [[new THREE.Line(new CircleGeometry(1, 'z', 0.5), new GizmoLineMaterial({ color: 0x0000ff }))], [new THREE.Mesh(new THREE.TorusBufferGeometry(1, 0.12, 4, 12, Math.PI), invisibleMaterial), [0, 0, 0], [0, 0, -Math.PI / 2]]],\n\n            E: [[new THREE.Line(new CircleGeometry(1.25, 'z', 1), new GizmoLineMaterial({ color: 0xcccc00 }))], [new THREE.Mesh(new THREE.TorusBufferGeometry(1.25, 0.12, 2, 24), invisibleMaterial)]],\n\n            XYZE: [[new THREE.Line(new CircleGeometry(1, 'z', 1), new GizmoLineMaterial({ color: 0x787878 }))], [new THREE.Mesh()] // TODO\n            ]\n        });\n    };\n\n    this.scaleHandles = function () {\n        var arrowGeometry = new THREE.Geometry();\n        var mesh = new THREE.Mesh(new THREE.BoxGeometry(0.125, 0.125, 0.125));\n        mesh.position.y = 0.5;\n        mesh.updateMatrix();\n\n        arrowGeometry.merge(mesh.geometry, mesh.matrix);\n\n        var lineXGeometry = new THREE.BufferGeometry();\n        lineXGeometry.addAttribute('position', new THREE.Float32BufferAttribute([0, 0, 0, 1, 0, 0], 3));\n\n        var lineYGeometry = new THREE.BufferGeometry();\n        lineYGeometry.addAttribute('position', new THREE.Float32BufferAttribute([0, 0, 0, 0, 1, 0], 3));\n\n        var lineZGeometry = new THREE.BufferGeometry();\n        lineZGeometry.addAttribute('position', new THREE.Float32BufferAttribute([0, 0, 0, 0, 0, 1], 3));\n\n        return gizmoFromMap({\n            X: [[new THREE.Mesh(arrowGeometry, new GizmoMaterial({ color: 0xff0000 })), [0.5, 0, 0], [0, 0, -Math.PI / 2]], [new THREE.Line(lineXGeometry, new GizmoLineMaterial({ color: 0xff0000 }))], [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), invisibleMaterial), [0.6, 0, 0], [0, 0, -Math.PI / 2]]],\n\n            Y: [[new THREE.Mesh(arrowGeometry, new GizmoMaterial({ color: 0x00ff00 })), [0, 0.5, 0]], [new THREE.Line(lineYGeometry, new GizmoLineMaterial({ color: 0x00ff00 }))], [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), invisibleMaterial), [0, 0.6, 0]]],\n\n            Z: [[new THREE.Mesh(arrowGeometry, new GizmoMaterial({ color: 0x0000ff })), [0, 0, 0.5], [Math.PI / 2, 0, 0]], [new THREE.Line(lineZGeometry, new GizmoLineMaterial({ color: 0x0000ff }))], [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), invisibleMaterial), [0, 0, 0.6], [Math.PI / 2, 0, 0]]],\n\n            XYZ: [[new THREE.Mesh(new THREE.BoxBufferGeometry(0.125, 0.125, 0.125), new GizmoMaterial({ color: 0xffffff, opacity: 0.25 }))], [new THREE.Mesh(new THREE.BoxBufferGeometry(0.4, 0.4, 0.4), invisibleMaterial)]]\n        });\n    };\n}\n\nfunction TransformGizmo(handles) {\n\n    this.handles = handles;\n\n    this.init = function () {\n\n        THREE.Object3D.call(this);\n\n        this.add(this.handles);\n\n        this.planes = new THREE.Object3D();\n        this.add(this.planes);\n\n        //// PLANES\n\n        var planeGeometry = new THREE.PlaneBufferGeometry(50, 50, 2, 2);\n        var planeMaterial = new THREE.MeshBasicMaterial({ visible: false, side: THREE.DoubleSide });\n\n        var planes = {\n            \"XY\": new THREE.Mesh(planeGeometry, planeMaterial),\n            \"YZ\": new THREE.Mesh(planeGeometry, planeMaterial),\n            \"XZ\": new THREE.Mesh(planeGeometry, planeMaterial),\n            \"XYZE\": new THREE.Mesh(planeGeometry, planeMaterial)\n        };\n\n        this.activePlane = planes[\"XYZE\"];\n\n        planes[\"YZ\"].rotation.set(0, Math.PI / 2, 0);\n        planes[\"XZ\"].rotation.set(-Math.PI / 2, 0, 0);\n\n        for (var i in planes) {\n\n            planes[i].name = i;\n            this.planes.add(planes[i]);\n            this.planes[i] = planes[i];\n        }\n\n        // reset Transformations\n\n        this.traverse(function (child) {\n\n            if (child instanceof THREE.Mesh) {\n\n                child.updateMatrix();\n\n                var tempGeometry = child.geometry.clone();\n                tempGeometry.applyMatrix(child.matrix);\n                child.geometry = tempGeometry;\n\n                child.position.set(0, 0, 0);\n                child.rotation.set(0, 0, 0);\n                child.scale.set(1, 1, 1);\n            }\n        });\n    };\n\n    this.setHandles = function (handles) {\n\n        this.remove(this.handles);\n        this.handles = handles;\n        if (this.handles !== null) {\n            this.add(this.handles);\n        }\n    };\n\n    this.highlight = function (axis) {\n\n        this.traverse(function (child) {\n\n            if (child.material && child.material.highlight) {\n\n                if (child.name === axis) {\n\n                    child.material.highlight(true);\n                } else {\n\n                    child.material.highlight(false);\n                }\n            }\n        });\n    };\n}\n\nTransformGizmo.prototype = Object.create(THREE.Object3D.prototype);\nTransformGizmo.prototype.constructor = THREE.TransformGizmo;\n\nTransformGizmo.prototype.update = function (rotation, eye) {\n\n    var vec1 = new THREE.Vector3(0, 0, 0);\n    var vec2 = new THREE.Vector3(0, 1, 0);\n    var lookAtMatrix = new THREE.Matrix4();\n\n    this.traverse(function (child) {\n\n        if (child.name.search(\"E\") !== -1) {\n\n            child.quaternion.setFromRotationMatrix(lookAtMatrix.lookAt(eye, vec1, vec2));\n        } else if (child.name.search(\"X\") !== -1 || child.name.search(\"Y\") !== -1 || child.name.search(\"Z\") !== -1) {\n\n            child.quaternion.setFromEuler(rotation);\n        }\n    });\n};\n\nfunction TransformGizmoTranslate(handles) {\n\n    TransformGizmo.call(this, handles);\n\n    this.setActivePlane = function (axis, eye) {\n\n        var tempMatrix = new THREE.Matrix4();\n        eye.applyMatrix4(tempMatrix.getInverse(tempMatrix.extractRotation(this.planes[\"XY\"].matrixWorld)));\n\n        if (axis === \"X\") {\n\n            this.activePlane = this.planes[\"XY\"];\n\n            if (Math.abs(eye.y) > Math.abs(eye.z)) this.activePlane = this.planes[\"XZ\"];\n        }\n\n        if (axis === \"Y\") {\n\n            this.activePlane = this.planes[\"XY\"];\n\n            if (Math.abs(eye.x) > Math.abs(eye.z)) this.activePlane = this.planes[\"YZ\"];\n        }\n\n        if (axis === \"Z\") {\n\n            this.activePlane = this.planes[\"XZ\"];\n\n            if (Math.abs(eye.x) > Math.abs(eye.y)) this.activePlane = this.planes[\"YZ\"];\n        }\n\n        if (axis === \"XYZ\") this.activePlane = this.planes[\"XYZE\"];\n\n        if (axis === \"XY\") this.activePlane = this.planes[\"XY\"];\n\n        if (axis === \"YZ\") this.activePlane = this.planes[\"YZ\"];\n\n        if (axis === \"XZ\") this.activePlane = this.planes[\"XZ\"];\n    };\n\n    this.init();\n}\n\nTransformGizmoTranslate.prototype = Object.create(TransformGizmo.prototype);\nTransformGizmoTranslate.prototype.constructor = TransformGizmoTranslate;\n\nfunction TransformGizmoRotate(handles) {\n\n    TransformGizmo.call(this, handles);\n\n    this.setActivePlane = function (axis) {\n\n        if (axis === \"E\") this.activePlane = this.planes[\"XYZE\"];\n\n        if (axis === \"X\") this.activePlane = this.planes[\"YZ\"];\n\n        if (axis === \"Y\") this.activePlane = this.planes[\"XZ\"];\n\n        if (axis === \"Z\") this.activePlane = this.planes[\"XY\"];\n    };\n\n    this.update = function (rotation, eye2) {\n\n        TransformGizmo.prototype.update.apply(this, arguments);\n\n        var group = {\n\n            handles: this[\"handles\"]\n\n        };\n\n        var tempMatrix = new THREE.Matrix4();\n        var worldRotation = new THREE.Euler(0, 0, 1);\n        var tempQuaternion = new THREE.Quaternion();\n        var unitX = new THREE.Vector3(1, 0, 0);\n        var unitY = new THREE.Vector3(0, 1, 0);\n        var unitZ = new THREE.Vector3(0, 0, 1);\n        var quaternionX = new THREE.Quaternion();\n        var quaternionY = new THREE.Quaternion();\n        var quaternionZ = new THREE.Quaternion();\n        var eye = eye2.clone();\n\n        worldRotation.copy(this.planes[\"XY\"].rotation);\n        tempQuaternion.setFromEuler(worldRotation);\n\n        tempMatrix.makeRotationFromQuaternion(tempQuaternion).getInverse(tempMatrix);\n        eye.applyMatrix4(tempMatrix);\n\n        this.traverse(function (child) {\n\n            tempQuaternion.setFromEuler(worldRotation);\n\n            if (child.name === \"X\") {\n\n                quaternionX.setFromAxisAngle(unitX, Math.atan2(-eye.y, eye.z));\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionX);\n                child.quaternion.copy(tempQuaternion);\n            }\n\n            if (child.name === \"Y\") {\n\n                quaternionY.setFromAxisAngle(unitY, Math.atan2(eye.x, eye.z));\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionY);\n                child.quaternion.copy(tempQuaternion);\n            }\n\n            if (child.name === \"Z\") {\n\n                quaternionZ.setFromAxisAngle(unitZ, Math.atan2(eye.y, eye.x));\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionZ);\n                child.quaternion.copy(tempQuaternion);\n            }\n        });\n    };\n\n    this.init();\n}\n\nTransformGizmoRotate.prototype = Object.create(TransformGizmo.prototype);\nTransformGizmoRotate.prototype.constructor = TransformGizmoRotate;\n\nfunction TransformGizmoScale(handles) {\n\n    TransformGizmo.call(this, handles);\n\n    this.setActivePlane = function (axis, eye) {\n\n        var tempMatrix = new THREE.Matrix4();\n        eye.applyMatrix4(tempMatrix.getInverse(tempMatrix.extractRotation(this.planes[\"XY\"].matrixWorld)));\n\n        if (axis === \"X\") {\n\n            this.activePlane = this.planes[\"XY\"];\n            if (Math.abs(eye.y) > Math.abs(eye.z)) this.activePlane = this.planes[\"XZ\"];\n        }\n\n        if (axis === \"Y\") {\n\n            this.activePlane = this.planes[\"XY\"];\n            if (Math.abs(eye.x) > Math.abs(eye.z)) this.activePlane = this.planes[\"YZ\"];\n        }\n\n        if (axis === \"Z\") {\n\n            this.activePlane = this.planes[\"XZ\"];\n            if (Math.abs(eye.x) > Math.abs(eye.y)) this.activePlane = this.planes[\"YZ\"];\n        }\n\n        if (axis === \"XYZ\") this.activePlane = this.planes[\"XYZE\"];\n    };\n\n    this.init();\n}\n\nTransformGizmoScale.prototype = Object.create(TransformGizmo.prototype);\nTransformGizmoScale.prototype.constructor = TransformGizmoScale;\n\nfunction TransformControls(camera, domElement) {\n\n    // TODO: Make non-uniform scale and rotate play nice in hierarchies\n    // TODO: ADD RXYZ contol\n\n    THREE.Object3D.call(this);\n\n    domElement = domElement !== undefined ? domElement : document;\n\n    this.defaultHandles = new DefaultHandles();\n\n    this.object = undefined;\n    this.visible = false;\n    this.translationSnap = null;\n    this.rotationSnap = null;\n    this.space = \"world\";\n    this.size = 1;\n    this.axis = null;\n    this.dragObject = false;\n\n    var scope = this;\n\n    var _mode = \"translate\";\n    var _dragging = false;\n    var _plane = \"XY\";\n    var _gizmo = {\n        \"translate\": new TransformGizmoTranslate(scope.defaultHandles.translateHandles()),\n        \"rotate\": new TransformGizmoRotate(scope.defaultHandles.rotateHandles()),\n        \"scale\": new TransformGizmoScale(scope.defaultHandles.scaleHandles())\n    };\n\n    for (var type in _gizmo) {\n\n        var gizmoObj = _gizmo[type];\n\n        gizmoObj.visible = type === _mode;\n        this.add(gizmoObj);\n    }\n\n    var changeEvent = { type: \"change\" };\n    var mouseDownEvent = { type: \"mouseDown\" };\n    var mouseUpEvent = { type: \"mouseUp\", mode: _mode };\n    var objectChangeEvent = { type: \"objectChange\" };\n\n    var ray = new THREE.Raycaster();\n    ray.linePrecision = 0.01;\n    var pointerVector = new THREE.Vector2();\n\n    var point = new THREE.Vector3();\n    var offset = new THREE.Vector3();\n\n    var rotation = new THREE.Vector3();\n    var offsetRotation = new THREE.Vector3();\n    var scale = 1;\n\n    var lookAtMatrix = new THREE.Matrix4();\n    var eye = new THREE.Vector3();\n\n    var tempMatrix = new THREE.Matrix4();\n    var tempVector = new THREE.Vector3();\n    var tempQuaternion = new THREE.Quaternion();\n    var unitX = new THREE.Vector3(1, 0, 0);\n    var unitY = new THREE.Vector3(0, 1, 0);\n    var unitZ = new THREE.Vector3(0, 0, 1);\n\n    var quaternionXYZ = new THREE.Quaternion();\n    var quaternionX = new THREE.Quaternion();\n    var quaternionY = new THREE.Quaternion();\n    var quaternionZ = new THREE.Quaternion();\n    var quaternionE = new THREE.Quaternion();\n\n    var oldPosition = new THREE.Vector3();\n    var oldScale = new THREE.Vector3();\n    var oldRotationMatrix = new THREE.Matrix4();\n\n    var parentRotationMatrix = new THREE.Matrix4();\n    var parentScale = new THREE.Vector3();\n\n    var worldPosition = new THREE.Vector3();\n    var worldRotation = new THREE.Euler();\n    var worldRotationMatrix = new THREE.Matrix4();\n    var camPosition = new THREE.Vector3();\n    var camRotation = new THREE.Euler();\n\n    domElement.addEventListener(\"mousedown\", onPointerDown, false);\n    domElement.addEventListener(\"touchstart\", onPointerDown, false);\n\n    domElement.addEventListener(\"mousemove\", onPointerHover, false);\n    domElement.addEventListener(\"touchmove\", onPointerHover, false);\n\n    domElement.addEventListener(\"mousemove\", onPointerMove, false);\n    domElement.addEventListener(\"touchmove\", onPointerMove, false);\n\n    domElement.addEventListener(\"mouseup\", onPointerUp, false);\n    domElement.addEventListener(\"mouseout\", onPointerUp, false);\n    domElement.addEventListener(\"touchend\", onPointerUp, false);\n    domElement.addEventListener(\"touchcancel\", onPointerUp, false);\n    domElement.addEventListener(\"touchleave\", onPointerUp, false);\n\n    this.dispose = function () {\n\n        domElement.removeEventListener(\"mousedown\", onPointerDown);\n        domElement.removeEventListener(\"touchstart\", onPointerDown);\n\n        domElement.removeEventListener(\"mousemove\", onPointerHover);\n        domElement.removeEventListener(\"touchmove\", onPointerHover);\n\n        domElement.removeEventListener(\"mousemove\", onPointerMove);\n        domElement.removeEventListener(\"touchmove\", onPointerMove);\n\n        domElement.removeEventListener(\"mouseup\", onPointerUp);\n        domElement.removeEventListener(\"mouseout\", onPointerUp);\n        domElement.removeEventListener(\"touchend\", onPointerUp);\n        domElement.removeEventListener(\"touchcancel\", onPointerUp);\n        domElement.removeEventListener(\"touchleave\", onPointerUp);\n    };\n\n    this.attach = function (object) {\n\n        this.object = object;\n        this.visible = true;\n        this.update();\n    };\n\n    this.detach = function () {\n\n        this.object = undefined;\n        this.visible = false;\n        this.axis = null;\n    };\n\n    this.getMode = function () {\n\n        return _mode;\n    };\n\n    this.setMode = function (mode) {\n\n        _mode = mode ? mode : _mode;\n\n        if (_mode === \"scale\") scope.space = \"local\";\n\n        for (var type in _gizmo) {\n            _gizmo[type].visible = type === _mode;\n        }this.update();\n        scope.dispatchEvent(changeEvent);\n    };\n\n    this.setTranslationSnap = function (translationSnap) {\n\n        scope.translationSnap = translationSnap;\n    };\n\n    this.setRotationSnap = function (rotationSnap) {\n\n        scope.rotationSnap = rotationSnap;\n    };\n\n    this.setSize = function (size) {\n\n        scope.size = size;\n        this.update();\n        scope.dispatchEvent(changeEvent);\n    };\n\n    this.setSpace = function (space) {\n\n        scope.space = space;\n        this.update();\n        scope.dispatchEvent(changeEvent);\n    };\n\n    this.setHandles = function (mode, handles) {\n\n        _gizmo[mode].setHandles(handles);\n        scope.update();\n        scope.dispatchEvent(changeEvent);\n    };\n\n    this.update = function () {\n\n        if (scope.object === undefined) return;\n\n        scope.object.updateMatrixWorld();\n        worldPosition.setFromMatrixPosition(scope.object.matrixWorld);\n        worldRotation.setFromRotationMatrix(tempMatrix.extractRotation(scope.object.matrixWorld));\n\n        camera.updateMatrixWorld();\n        camPosition.setFromMatrixPosition(camera.matrixWorld);\n        camRotation.setFromRotationMatrix(tempMatrix.extractRotation(camera.matrixWorld));\n\n        scale = worldPosition.distanceTo(camPosition) / 6 * scope.size;\n        this.position.copy(worldPosition);\n        this.scale.set(scale, scale, scale);\n\n        if (camera instanceof THREE.PerspectiveCamera) {\n\n            eye.copy(camPosition).sub(worldPosition).normalize();\n        } else if (camera instanceof THREE.OrthographicCamera) {\n\n            eye.copy(camPosition).normalize();\n        }\n\n        if (scope.space === \"local\") {\n\n            _gizmo[_mode].update(worldRotation, eye);\n        } else if (scope.space === \"world\") {\n\n            _gizmo[_mode].update(new THREE.Euler(), eye);\n        }\n\n        _gizmo[_mode].highlight(scope.axis);\n    };\n\n    function onPointerHover(event) {\n\n        if (scope.object === undefined || _dragging === true || _gizmo[_mode].handles === null || event.button !== undefined && event.button !== 0) return;\n\n        var pointer = event.changedTouches ? event.changedTouches[0] : event;\n\n        var intersect = intersectObjects(pointer, _gizmo[_mode].handles.children);\n\n        var axis = null;\n\n        if (intersect) {\n\n            axis = intersect.object.name;\n\n            event.preventDefault();\n        }\n\n        if (scope.axis !== axis) {\n\n            scope.axis = axis;\n            scope.update();\n            scope.dispatchEvent(changeEvent);\n        }\n    }\n\n    function onPointerDown(event) {\n\n        if (scope.object === undefined || _dragging === true || event.button !== undefined && event.button !== 0) return;\n\n        var pointer = event.changedTouches ? event.changedTouches[0] : event;\n\n        if (pointer.button === 0 || pointer.button === undefined) {\n\n            if (_gizmo[_mode].handles !== null) {\n\n                var intersect = intersectObjects(pointer, _gizmo[_mode].handles.children);\n\n                if (!intersect) return;\n\n                event.preventDefault();\n                event.stopPropagation();\n\n                scope.dispatchEvent(mouseDownEvent);\n\n                scope.axis = intersect.object.name;\n            }\n\n            if (!scope.axis) return;\n\n            scope.update();\n\n            eye.copy(camPosition).sub(worldPosition).normalize();\n\n            _gizmo[_mode].setActivePlane(scope.axis, eye);\n\n            var planeIntersect = intersectObjects(pointer, [_gizmo[_mode].activePlane]);\n\n            if (planeIntersect) {\n\n                oldPosition.copy(scope.object.position);\n                oldScale.copy(scope.object.scale);\n\n                oldRotationMatrix.extractRotation(scope.object.matrix);\n                worldRotationMatrix.extractRotation(scope.object.matrixWorld);\n\n                parentRotationMatrix.extractRotation(scope.object.parent.matrixWorld);\n                parentScale.setFromMatrixScale(tempMatrix.getInverse(scope.object.parent.matrixWorld));\n\n                offset.copy(planeIntersect.point);\n            }\n        }\n\n        _dragging = true;\n    }\n\n    function onPointerMove(event) {\n\n        if (scope.object === undefined || scope.axis === null || _dragging === false || event.button !== undefined && event.button !== 0) return;\n\n        var pointer = event.changedTouches ? event.changedTouches[0] : event;\n\n        var planeIntersect = intersectObjects(pointer, [_gizmo[_mode].activePlane]);\n\n        if (planeIntersect === false) return;\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        point.copy(planeIntersect.point);\n\n        if (_mode === \"translate\") {\n\n            point.sub(offset);\n            point.multiply(parentScale);\n\n            if (scope.space === \"local\") {\n\n                point.applyMatrix4(tempMatrix.getInverse(worldRotationMatrix));\n\n                if (scope.axis.search(\"X\") === -1) point.x = 0;\n                if (scope.axis.search(\"Y\") === -1) point.y = 0;\n                if (scope.axis.search(\"Z\") === -1) point.z = 0;\n\n                point.applyMatrix4(oldRotationMatrix);\n\n                scope.object.position.copy(oldPosition);\n                scope.object.position.add(point);\n            }\n\n            if (scope.space === \"world\" || scope.axis.search(\"XYZ\") !== -1) {\n\n                if (scope.axis.search(\"X\") === -1) point.x = 0;\n                if (scope.axis.search(\"Y\") === -1) point.y = 0;\n                if (scope.axis.search(\"Z\") === -1) point.z = 0;\n\n                point.applyMatrix4(tempMatrix.getInverse(parentRotationMatrix));\n\n                scope.object.position.copy(oldPosition);\n                scope.object.position.add(point);\n            }\n\n            if (scope.translationSnap !== null) {\n\n                if (scope.space === \"local\") {\n\n                    scope.object.position.applyMatrix4(tempMatrix.getInverse(worldRotationMatrix));\n                }\n\n                if (scope.axis.search(\"X\") !== -1) scope.object.position.x = Math.round(scope.object.position.x / scope.translationSnap) * scope.translationSnap;\n                if (scope.axis.search(\"Y\") !== -1) scope.object.position.y = Math.round(scope.object.position.y / scope.translationSnap) * scope.translationSnap;\n                if (scope.axis.search(\"Z\") !== -1) scope.object.position.z = Math.round(scope.object.position.z / scope.translationSnap) * scope.translationSnap;\n\n                if (scope.space === \"local\") {\n\n                    scope.object.position.applyMatrix4(worldRotationMatrix);\n                }\n            }\n        } else if (_mode === \"scale\") {\n\n            point.sub(offset);\n            point.multiply(parentScale);\n\n            if (scope.space === \"local\") {\n\n                if (scope.axis === \"XYZ\") {\n\n                    scale = 1 + point.y / Math.max(oldScale.x, oldScale.y, oldScale.z);\n\n                    scope.object.scale.x = oldScale.x * scale;\n                    scope.object.scale.y = oldScale.y * scale;\n                    scope.object.scale.z = oldScale.z * scale;\n                } else {\n\n                    point.applyMatrix4(tempMatrix.getInverse(worldRotationMatrix));\n\n                    if (scope.axis === \"X\") scope.object.scale.x = oldScale.x * (1 + point.x / oldScale.x);\n                    if (scope.axis === \"Y\") scope.object.scale.y = oldScale.y * (1 + point.y / oldScale.y);\n                    if (scope.axis === \"Z\") scope.object.scale.z = oldScale.z * (1 + point.z / oldScale.z);\n                }\n            }\n        } else if (_mode === \"rotate\") {\n\n            point.sub(worldPosition);\n            point.multiply(parentScale);\n            tempVector.copy(offset).sub(worldPosition);\n            tempVector.multiply(parentScale);\n\n            if (scope.axis === \"E\") {\n\n                point.applyMatrix4(tempMatrix.getInverse(lookAtMatrix));\n                tempVector.applyMatrix4(tempMatrix.getInverse(lookAtMatrix));\n\n                rotation.set(Math.atan2(point.z, point.y), Math.atan2(point.x, point.z), Math.atan2(point.y, point.x));\n                offsetRotation.set(Math.atan2(tempVector.z, tempVector.y), Math.atan2(tempVector.x, tempVector.z), Math.atan2(tempVector.y, tempVector.x));\n\n                tempQuaternion.setFromRotationMatrix(tempMatrix.getInverse(parentRotationMatrix));\n\n                quaternionE.setFromAxisAngle(eye, rotation.z - offsetRotation.z);\n                quaternionXYZ.setFromRotationMatrix(worldRotationMatrix);\n\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionE);\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionXYZ);\n\n                scope.object.quaternion.copy(tempQuaternion);\n            } else if (scope.axis === \"XYZE\") {\n\n                quaternionE.setFromEuler(point.clone().cross(tempVector).normalize()); // rotation axis\n\n                tempQuaternion.setFromRotationMatrix(tempMatrix.getInverse(parentRotationMatrix));\n                quaternionX.setFromAxisAngle(quaternionE, -point.clone().angleTo(tempVector));\n                quaternionXYZ.setFromRotationMatrix(worldRotationMatrix);\n\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionX);\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionXYZ);\n\n                scope.object.quaternion.copy(tempQuaternion);\n            } else if (scope.space === \"local\") {\n\n                point.applyMatrix4(tempMatrix.getInverse(worldRotationMatrix));\n\n                tempVector.applyMatrix4(tempMatrix.getInverse(worldRotationMatrix));\n\n                rotation.set(Math.atan2(point.z, point.y), Math.atan2(point.x, point.z), Math.atan2(point.y, point.x));\n                offsetRotation.set(Math.atan2(tempVector.z, tempVector.y), Math.atan2(tempVector.x, tempVector.z), Math.atan2(tempVector.y, tempVector.x));\n\n                quaternionXYZ.setFromRotationMatrix(oldRotationMatrix);\n\n                if (scope.rotationSnap !== null) {\n\n                    quaternionX.setFromAxisAngle(unitX, Math.round((rotation.x - offsetRotation.x) / scope.rotationSnap) * scope.rotationSnap);\n                    quaternionY.setFromAxisAngle(unitY, Math.round((rotation.y - offsetRotation.y) / scope.rotationSnap) * scope.rotationSnap);\n                    quaternionZ.setFromAxisAngle(unitZ, Math.round((rotation.z - offsetRotation.z) / scope.rotationSnap) * scope.rotationSnap);\n                } else {\n\n                    quaternionX.setFromAxisAngle(unitX, rotation.x - offsetRotation.x);\n                    quaternionY.setFromAxisAngle(unitY, rotation.y - offsetRotation.y);\n                    quaternionZ.setFromAxisAngle(unitZ, rotation.z - offsetRotation.z);\n                }\n\n                if (scope.axis === \"X\") quaternionXYZ.multiplyQuaternions(quaternionXYZ, quaternionX);\n                if (scope.axis === \"Y\") quaternionXYZ.multiplyQuaternions(quaternionXYZ, quaternionY);\n                if (scope.axis === \"Z\") quaternionXYZ.multiplyQuaternions(quaternionXYZ, quaternionZ);\n\n                scope.object.quaternion.copy(quaternionXYZ);\n            } else if (scope.space === \"world\") {\n\n                rotation.set(Math.atan2(point.z, point.y), Math.atan2(point.x, point.z), Math.atan2(point.y, point.x));\n                offsetRotation.set(Math.atan2(tempVector.z, tempVector.y), Math.atan2(tempVector.x, tempVector.z), Math.atan2(tempVector.y, tempVector.x));\n\n                tempQuaternion.setFromRotationMatrix(tempMatrix.getInverse(parentRotationMatrix));\n\n                if (scope.rotationSnap !== null) {\n\n                    quaternionX.setFromAxisAngle(unitX, Math.round((rotation.x - offsetRotation.x) / scope.rotationSnap) * scope.rotationSnap);\n                    quaternionY.setFromAxisAngle(unitY, Math.round((rotation.y - offsetRotation.y) / scope.rotationSnap) * scope.rotationSnap);\n                    quaternionZ.setFromAxisAngle(unitZ, Math.round((rotation.z - offsetRotation.z) / scope.rotationSnap) * scope.rotationSnap);\n                } else {\n\n                    quaternionX.setFromAxisAngle(unitX, rotation.x - offsetRotation.x);\n                    quaternionY.setFromAxisAngle(unitY, rotation.y - offsetRotation.y);\n                    quaternionZ.setFromAxisAngle(unitZ, rotation.z - offsetRotation.z);\n                }\n\n                quaternionXYZ.setFromRotationMatrix(worldRotationMatrix);\n\n                if (scope.axis === \"X\") tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionX);\n                if (scope.axis === \"Y\") tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionY);\n                if (scope.axis === \"Z\") tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionZ);\n\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionXYZ);\n\n                scope.object.quaternion.copy(tempQuaternion);\n            }\n        }\n\n        scope.update();\n        scope.dispatchEvent(changeEvent);\n        scope.dispatchEvent(objectChangeEvent);\n    }\n\n    function onPointerUp(event) {\n\n        event.preventDefault(); // Prevent MouseEvent on mobile\n\n        if (event.button !== undefined && event.button !== 0) return;\n\n        if (_dragging && scope.axis !== null) {\n\n            mouseUpEvent.mode = _mode;\n            scope.dispatchEvent(mouseUpEvent);\n        }\n\n        _dragging = false;\n\n        if ('TouchEvent' in window && event instanceof TouchEvent) {\n\n            // Force \"rollover\"\n\n            scope.axis = null;\n            scope.update();\n            scope.dispatchEvent(changeEvent);\n        } else {\n\n            onPointerHover(event);\n        }\n    }\n\n    function intersectObjects(pointer, objects) {\n\n        var rect = domElement.getBoundingClientRect();\n        var x = (pointer.clientX - rect.left) / rect.width;\n        var y = (pointer.clientY - rect.top) / rect.height;\n\n        pointerVector.set(x * 2 - 1, -(y * 2) + 1);\n        ray.setFromCamera(pointerVector, camera);\n\n        var intersections = ray.intersectObjects(objects, true);\n        return intersections[0] ? intersections[0] : false;\n    }\n}\n\nTransformControls.prototype = Object.create(THREE.Object3D.prototype);\nTransformControls.prototype.constructor = TransformControls;\n\nexport { TransformControls };\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi4uL3NyYy9jb250cm9scy9UcmFuc2Zvcm1Db250cm9scy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBhdXRob3IgYXJvZGljIC8gaHR0cHM6Ly9naXRodWIuY29tL2Fyb2RpY1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IFRIUkVFIGZyb20gJ3RocmVlJ1xuXG5mdW5jdGlvbiBEZWZhdWx0SGFuZGxlcygpIHtcblxuICAgIHZhciBHaXptb01hdGVyaWFsID0gZnVuY3Rpb24gKCBwYXJhbWV0ZXJzICkge1xuXG4gICAgICAgIFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsLmNhbGwoIHRoaXMgKTtcblxuICAgICAgICB0aGlzLmRlcHRoVGVzdCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRlcHRoV3JpdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zaWRlID0gVEhSRUUuRnJvbnRTaWRlO1xuICAgICAgICB0aGlzLnRyYW5zcGFyZW50ID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLnNldFZhbHVlcyggcGFyYW1ldGVycyApO1xuXG4gICAgICAgIHRoaXMub2xkQ29sb3IgPSB0aGlzLmNvbG9yLmNsb25lKCk7XG4gICAgICAgIHRoaXMub2xkT3BhY2l0eSA9IHRoaXMub3BhY2l0eTtcblxuICAgICAgICB0aGlzLmhpZ2hsaWdodCA9IGZ1bmN0aW9uKCBoaWdobGlnaHRlZCApIHtcblxuICAgICAgICAgICAgaWYgKCBoaWdobGlnaHRlZCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3Iuc2V0UkdCKCAxLCAxLCAwICk7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGFjaXR5ID0gMTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IuY29weSggdGhpcy5vbGRDb2xvciApO1xuICAgICAgICAgICAgICAgIHRoaXMub3BhY2l0eSA9IHRoaXMub2xkT3BhY2l0eTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH07XG5cbiAgICB9O1xuXG4gICAgR2l6bW9NYXRlcmlhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbC5wcm90b3R5cGUgKTtcbiAgICBHaXptb01hdGVyaWFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdpem1vTWF0ZXJpYWw7XG5cblxuICAgIHZhciBHaXptb0xpbmVNYXRlcmlhbCA9IGZ1bmN0aW9uICggcGFyYW1ldGVycyApIHtcblxuICAgICAgICBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbC5jYWxsKCB0aGlzICk7XG5cbiAgICAgICAgdGhpcy5kZXB0aFRlc3QgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZXB0aFdyaXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMudHJhbnNwYXJlbnQgPSB0cnVlO1xuICAgICAgICB0aGlzLmxpbmV3aWR0aCA9IDE7XG5cbiAgICAgICAgdGhpcy5zZXRWYWx1ZXMoIHBhcmFtZXRlcnMgKTtcblxuICAgICAgICB0aGlzLm9sZENvbG9yID0gdGhpcy5jb2xvci5jbG9uZSgpO1xuICAgICAgICB0aGlzLm9sZE9wYWNpdHkgPSB0aGlzLm9wYWNpdHk7XG5cbiAgICAgICAgdGhpcy5oaWdobGlnaHQgPSBmdW5jdGlvbiggaGlnaGxpZ2h0ZWQgKSB7XG5cbiAgICAgICAgICAgIGlmICggaGlnaGxpZ2h0ZWQgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yLnNldFJHQiggMSwgMSwgMCApO1xuICAgICAgICAgICAgICAgIHRoaXMub3BhY2l0eSA9IDE7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yLmNvcHkoIHRoaXMub2xkQ29sb3IgKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9wYWNpdHkgPSB0aGlzLm9sZE9wYWNpdHk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9O1xuXG4gICAgfVxuXG4gICAgR2l6bW9MaW5lTWF0ZXJpYWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVEhSRUUuTGluZUJhc2ljTWF0ZXJpYWwucHJvdG90eXBlICk7XG4gICAgR2l6bW9MaW5lTWF0ZXJpYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2l6bW9MaW5lTWF0ZXJpYWw7XG5cbiAgICB2YXIgaW52aXNpYmxlTWF0ZXJpYWwgPSBuZXcgR2l6bW9NYXRlcmlhbCggeyB2aXNpYmxlOiBmYWxzZSwgdHJhbnNwYXJlbnQ6IGZhbHNlIH0gKTtcblxuICAgIHZhciBnaXptb0Zyb21NYXAgPSBmdW5jdGlvbiggZ2l6bW9NYXAgKSB7XG5cbiAgICAgICAgdmFyIGdpem1vID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG5cbiAgICAgICAgZm9yICggdmFyIG5hbWUgaW4gZ2l6bW9NYXAgKSB7XG5cbiAgICAgICAgICAgIGZvciAoIHZhciBpID0gZ2l6bW9NYXBbIG5hbWUgXS5sZW5ndGg7IGkgLS07ICkge1xuXG4gICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IGdpem1vTWFwWyBuYW1lIF1bIGkgXVsgMCBdO1xuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IGdpem1vTWFwWyBuYW1lIF1bIGkgXVsgMSBdO1xuICAgICAgICAgICAgICAgIHZhciByb3RhdGlvbiA9IGdpem1vTWFwWyBuYW1lIF1bIGkgXVsgMiBdO1xuXG4gICAgICAgICAgICAgICAgb2JqZWN0Lm5hbWUgPSBuYW1lO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBwb3NpdGlvbiApIG9iamVjdC5wb3NpdGlvbi5zZXQoIHBvc2l0aW9uWyAwIF0sIHBvc2l0aW9uWyAxIF0sIHBvc2l0aW9uWyAyIF0gKTtcbiAgICAgICAgICAgICAgICBpZiAoIHJvdGF0aW9uICkgb2JqZWN0LnJvdGF0aW9uLnNldCggcm90YXRpb25bIDAgXSwgcm90YXRpb25bIDEgXSwgcm90YXRpb25bIDIgXSApO1xuXG4gICAgICAgICAgICAgICAgZ2l6bW8uYWRkKCBvYmplY3QgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2l6bW87XG4gICAgfTtcblxuICAgIHRoaXMudHJhbnNsYXRlSGFuZGxlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJyb3dHZW9tZXRyeSA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xuICAgICAgICB2YXIgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSggMCwgMC4wNSwgMC4yLCAxMiwgMSwgZmFsc2UgKSApO1xuICAgICAgICBtZXNoLnBvc2l0aW9uLnkgPSAwLjU7XG4gICAgICAgIG1lc2gudXBkYXRlTWF0cml4KCk7XG5cbiAgICAgICAgYXJyb3dHZW9tZXRyeS5tZXJnZSggbWVzaC5nZW9tZXRyeSwgbWVzaC5tYXRyaXggKTtcblxuICAgICAgICB2YXIgbGluZVhHZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xuICAgICAgICBsaW5lWEdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoIFsgMCwgMCwgMCwgIDEsIDAsIDAgXSwgMyApICk7XG5cbiAgICAgICAgdmFyIGxpbmVZR2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcbiAgICAgICAgbGluZVlHZW9tZXRyeS5hZGRBdHRyaWJ1dGUoICdwb3NpdGlvbicsIG5ldyBUSFJFRS5GbG9hdDMyQnVmZmVyQXR0cmlidXRlKCBbIDAsIDAsIDAsICAwLCAxLCAwIF0sIDMgKSApO1xuXG4gICAgICAgIHZhciBsaW5lWkdlb21ldHJ5ID0gbmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5KCk7XG4gICAgICAgIGxpbmVaR2VvbWV0cnkuYWRkQXR0cmlidXRlKCAncG9zaXRpb24nLCBuZXcgVEhSRUUuRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSggWyAwLCAwLCAwLCAgMCwgMCwgMSBdLCAzICkgKTtcblxuICAgICAgICByZXR1cm4gZ2l6bW9Gcm9tTWFwKHtcbiAgICAgICAgICAgIFg6IFtcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBhcnJvd0dlb21ldHJ5LCBuZXcgR2l6bW9NYXRlcmlhbCggeyBjb2xvcjogMHhmZjAwMDAgfSApICksIFsgMC41LCAwLCAwIF0sIFsgMCwgMCwgLSBNYXRoLlBJIC8gMiBdIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTGluZSggbGluZVhHZW9tZXRyeSwgbmV3IEdpem1vTGluZU1hdGVyaWFsKCB7IGNvbG9yOiAweGZmMDAwMCB9ICkgKSBdLFxuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5DeWxpbmRlckJ1ZmZlckdlb21ldHJ5KCAwLjIsIDAsIDEsIDQsIDEsIGZhbHNlICksIGludmlzaWJsZU1hdGVyaWFsICksIFsgMC42LCAwLCAwIF0sIFsgMCwgMCwgLSBNYXRoLlBJIC8gMiBdIF1cbiAgICAgICAgICAgIF0sXG5cbiAgICAgICAgICAgIFk6IFtcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBhcnJvd0dlb21ldHJ5LCBuZXcgR2l6bW9NYXRlcmlhbCggeyBjb2xvcjogMHgwMGZmMDAgfSApICksIFsgMCwgMC41LCAwIF0gXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5MaW5lKCBsaW5lWUdlb21ldHJ5LCBuZXcgR2l6bW9MaW5lTWF0ZXJpYWwoIHsgY29sb3I6IDB4MDBmZjAwIH0gKSApIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLkN5bGluZGVyQnVmZmVyR2VvbWV0cnkoIDAuMiwgMCwgMSwgNCwgMSwgZmFsc2UgKSwgaW52aXNpYmxlTWF0ZXJpYWwgKSwgWyAwLCAwLjYsIDAgXSBdXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBaOiBbXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggYXJyb3dHZW9tZXRyeSwgbmV3IEdpem1vTWF0ZXJpYWwoIHsgY29sb3I6IDB4MDAwMGZmIH0gKSApLCBbIDAsIDAsIDAuNSBdLCBbIE1hdGguUEkgLyAyLCAwLCAwIF0gXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5MaW5lKCBsaW5lWkdlb21ldHJ5LCBuZXcgR2l6bW9MaW5lTWF0ZXJpYWwoIHsgY29sb3I6IDB4MDAwMGZmIH0gKSApIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLkN5bGluZGVyQnVmZmVyR2VvbWV0cnkoIDAuMiwgMCwgMSwgNCwgMSwgZmFsc2UgKSwgaW52aXNpYmxlTWF0ZXJpYWwgKSwgWyAwLCAwLCAwLjYgXSwgWyBNYXRoLlBJIC8gMiwgMCwgMCBdIF1cbiAgICAgICAgICAgIF0sXG5cbiAgICAgICAgICAgIFhZWjogW1xuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5PY3RhaGVkcm9uR2VvbWV0cnkoIDAuMSwgMCApLCBuZXcgR2l6bW9NYXRlcmlhbCggeyBjb2xvcjogMHhmZmZmZmYsIG9wYWNpdHk6IDAuMjUgfSApICksIFsgMCwgMCwgMCBdLCBbIDAsIDAsIDAgXSBdLFxuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5PY3RhaGVkcm9uR2VvbWV0cnkoIDAuMiwgMCApLCBpbnZpc2libGVNYXRlcmlhbCApIF1cbiAgICAgICAgICAgIF0sXG5cbiAgICAgICAgICAgIFhZOiBbXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoIDAuMjksIDAuMjkgKSwgbmV3IEdpem1vTWF0ZXJpYWwoIHsgY29sb3I6IDB4ZmZmZjAwLCBvcGFjaXR5OiAwLjI1IH0gKSApLCBbIDAuMTUsIDAuMTUsIDAgXSBdLFxuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5KCAwLjQsIDAuNCApLCBpbnZpc2libGVNYXRlcmlhbCApLCBbIDAuMiwgMC4yLCAwIF0gXVxuICAgICAgICAgICAgXSxcblxuICAgICAgICAgICAgWVo6IFtcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeSggMC4yOSwgMC4yOSApLCBuZXcgR2l6bW9NYXRlcmlhbCggeyBjb2xvcjogMHgwMGZmZmYsIG9wYWNpdHk6IDAuMjUgfSApICksIFsgMCwgMC4xNSwgMC4xNSBdLCBbIDAsIE1hdGguUEkgLyAyLCAwIF0gXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeSggMC40LCAwLjQgKSwgaW52aXNpYmxlTWF0ZXJpYWwgKSwgWyAwLCAwLjIsIDAuMiBdLCBbIDAsIE1hdGguUEkgLyAyLCAwIF0gXVxuICAgICAgICAgICAgXSxcblxuICAgICAgICAgICAgWFo6IFtcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeSggMC4yOSwgMC4yOSApLCBuZXcgR2l6bW9NYXRlcmlhbCggeyBjb2xvcjogMHhmZjAwZmYsIG9wYWNpdHk6IDAuMjUgfSApICksIFsgMC4xNSwgMCwgMC4xNSBdLCBbIC0gTWF0aC5QSSAvIDIsIDAsIDAgXSBdLFxuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5KCAwLjQsIDAuNCApLCBpbnZpc2libGVNYXRlcmlhbCApLCBbIDAuMiwgMCwgMC4yIF0sIFsgLSBNYXRoLlBJIC8gMiwgMCwgMCBdIF1cbiAgICAgICAgICAgIF1cblxuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICB0aGlzLnJvdGF0ZUhhbmRsZXMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgQ2lyY2xlR2VvbWV0cnkgPSBmdW5jdGlvbiAoIHJhZGl1cywgZmFjaW5nLCBhcmMgKSB7XG5cbiAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xuICAgICAgICAgICAgdmFyIHZlcnRpY2VzID0gW107XG4gICAgICAgICAgICBhcmMgPSBhcmMgPyBhcmMgOiAxO1xuXG4gICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPD0gNjQgKiBhcmM7ICsrIGkgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIGZhY2luZyA9PT0gJ3gnICkgdmVydGljZXMucHVzaCggMCwgTWF0aC5jb3MoIGkgLyAzMiAqIE1hdGguUEkgKSAqIHJhZGl1cywgTWF0aC5zaW4oIGkgLyAzMiAqIE1hdGguUEkgKSAqIHJhZGl1cyApO1xuICAgICAgICAgICAgICAgIGlmICggZmFjaW5nID09PSAneScgKSB2ZXJ0aWNlcy5wdXNoKCBNYXRoLmNvcyggaSAvIDMyICogTWF0aC5QSSApICogcmFkaXVzLCAwLCBNYXRoLnNpbiggaSAvIDMyICogTWF0aC5QSSApICogcmFkaXVzICk7XG4gICAgICAgICAgICAgICAgaWYgKCBmYWNpbmcgPT09ICd6JyApIHZlcnRpY2VzLnB1c2goIE1hdGguc2luKCBpIC8gMzIgKiBNYXRoLlBJICkgKiByYWRpdXMsIE1hdGguY29zKCBpIC8gMzIgKiBNYXRoLlBJICkgKiByYWRpdXMsIDAgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoICdwb3NpdGlvbicsIG5ldyBUSFJFRS5GbG9hdDMyQnVmZmVyQXR0cmlidXRlKCB2ZXJ0aWNlcywgMyApICk7XG4gICAgICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XG5cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZ2l6bW9Gcm9tTWFwKHtcbiAgICAgICAgICAgIFg6IFtcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5MaW5lKCBuZXcgQ2lyY2xlR2VvbWV0cnkoIDEsICd4JywgMC41ICksIG5ldyBHaXptb0xpbmVNYXRlcmlhbCggeyBjb2xvcjogMHhmZjAwMDAgfSApICkgXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuVG9ydXNCdWZmZXJHZW9tZXRyeSggMSwgMC4xMiwgNCwgMTIsIE1hdGguUEkgKSwgaW52aXNpYmxlTWF0ZXJpYWwgKSwgWyAwLCAwLCAwIF0sIFsgMCwgLSBNYXRoLlBJIC8gMiwgLSBNYXRoLlBJIC8gMiBdIF1cbiAgICAgICAgICAgIF0sXG5cbiAgICAgICAgICAgIFk6IFtcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5MaW5lKCBuZXcgQ2lyY2xlR2VvbWV0cnkoIDEsICd5JywgMC41ICksIG5ldyBHaXptb0xpbmVNYXRlcmlhbCggeyBjb2xvcjogMHgwMGZmMDAgfSApICkgXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuVG9ydXNCdWZmZXJHZW9tZXRyeSggMSwgMC4xMiwgNCwgMTIsIE1hdGguUEkgKSwgaW52aXNpYmxlTWF0ZXJpYWwgKSwgWyAwLCAwLCAwIF0sIFsgTWF0aC5QSSAvIDIsIDAsIDAgXSBdXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBaOiBbXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTGluZSggbmV3IENpcmNsZUdlb21ldHJ5KCAxLCAneicsIDAuNSApLCBuZXcgR2l6bW9MaW5lTWF0ZXJpYWwoIHsgY29sb3I6IDB4MDAwMGZmIH0gKSApIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLlRvcnVzQnVmZmVyR2VvbWV0cnkoIDEsIDAuMTIsIDQsIDEyLCBNYXRoLlBJICksIGludmlzaWJsZU1hdGVyaWFsICksIFsgMCwgMCwgMCBdLCBbIDAsIDAsIC0gTWF0aC5QSSAvIDIgXSBdXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBFOiBbXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTGluZSggbmV3IENpcmNsZUdlb21ldHJ5KCAxLjI1LCAneicsIDEgKSwgbmV3IEdpem1vTGluZU1hdGVyaWFsKCB7IGNvbG9yOiAweGNjY2MwMCB9ICkgKSBdLFxuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5Ub3J1c0J1ZmZlckdlb21ldHJ5KCAxLjI1LCAwLjEyLCAyLCAyNCApLCBpbnZpc2libGVNYXRlcmlhbCApIF1cbiAgICAgICAgICAgIF0sXG5cbiAgICAgICAgICAgIFhZWkU6IFtcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5MaW5lKCBuZXcgQ2lyY2xlR2VvbWV0cnkoIDEsICd6JywgMSApLCBuZXcgR2l6bW9MaW5lTWF0ZXJpYWwoIHsgY29sb3I6IDB4Nzg3ODc4IH0gKSApIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCgpIF0vLyBUT0RPXG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnNjYWxlSGFuZGxlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJyb3dHZW9tZXRyeSA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xuICAgICAgICB2YXIgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuQm94R2VvbWV0cnkoIDAuMTI1LCAwLjEyNSwgMC4xMjUgKSApO1xuICAgICAgICBtZXNoLnBvc2l0aW9uLnkgPSAwLjU7XG4gICAgICAgIG1lc2gudXBkYXRlTWF0cml4KCk7XG5cbiAgICAgICAgYXJyb3dHZW9tZXRyeS5tZXJnZSggbWVzaC5nZW9tZXRyeSwgbWVzaC5tYXRyaXggKTtcblxuICAgICAgICB2YXIgbGluZVhHZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xuICAgICAgICBsaW5lWEdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoIFsgMCwgMCwgMCwgIDEsIDAsIDAgXSwgMyApICk7XG5cbiAgICAgICAgdmFyIGxpbmVZR2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcbiAgICAgICAgbGluZVlHZW9tZXRyeS5hZGRBdHRyaWJ1dGUoICdwb3NpdGlvbicsIG5ldyBUSFJFRS5GbG9hdDMyQnVmZmVyQXR0cmlidXRlKCBbIDAsIDAsIDAsICAwLCAxLCAwIF0sIDMgKSApO1xuXG4gICAgICAgIHZhciBsaW5lWkdlb21ldHJ5ID0gbmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5KCk7XG4gICAgICAgIGxpbmVaR2VvbWV0cnkuYWRkQXR0cmlidXRlKCAncG9zaXRpb24nLCBuZXcgVEhSRUUuRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSggWyAwLCAwLCAwLCAgMCwgMCwgMSBdLCAzICkgKTtcblxuICAgICAgICByZXR1cm4gZ2l6bW9Gcm9tTWFwKHtcbiAgICAgICAgICAgIFg6IFtcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBhcnJvd0dlb21ldHJ5LCBuZXcgR2l6bW9NYXRlcmlhbCggeyBjb2xvcjogMHhmZjAwMDAgfSApICksIFsgMC41LCAwLCAwIF0sIFsgMCwgMCwgLSBNYXRoLlBJIC8gMiBdIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTGluZSggbGluZVhHZW9tZXRyeSwgbmV3IEdpem1vTGluZU1hdGVyaWFsKCB7IGNvbG9yOiAweGZmMDAwMCB9ICkgKSBdLFxuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5DeWxpbmRlckJ1ZmZlckdlb21ldHJ5KCAwLjIsIDAsIDEsIDQsIDEsIGZhbHNlICksIGludmlzaWJsZU1hdGVyaWFsICksIFsgMC42LCAwLCAwIF0sIFsgMCwgMCwgLSBNYXRoLlBJIC8gMiBdIF1cbiAgICAgICAgICAgIF0sXG5cbiAgICAgICAgICAgIFk6IFtcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBhcnJvd0dlb21ldHJ5LCBuZXcgR2l6bW9NYXRlcmlhbCggeyBjb2xvcjogMHgwMGZmMDAgfSApICksIFsgMCwgMC41LCAwIF0gXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5MaW5lKCBsaW5lWUdlb21ldHJ5LCBuZXcgR2l6bW9MaW5lTWF0ZXJpYWwoIHsgY29sb3I6IDB4MDBmZjAwIH0gKSApIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLkN5bGluZGVyQnVmZmVyR2VvbWV0cnkoIDAuMiwgMCwgMSwgNCwgMSwgZmFsc2UgKSwgaW52aXNpYmxlTWF0ZXJpYWwgKSwgWyAwLCAwLjYsIDAgXSBdXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBaOiBbXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggYXJyb3dHZW9tZXRyeSwgbmV3IEdpem1vTWF0ZXJpYWwoIHsgY29sb3I6IDB4MDAwMGZmIH0gKSApLCBbIDAsIDAsIDAuNSBdLCBbIE1hdGguUEkgLyAyLCAwLCAwIF0gXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5MaW5lKCBsaW5lWkdlb21ldHJ5LCBuZXcgR2l6bW9MaW5lTWF0ZXJpYWwoIHsgY29sb3I6IDB4MDAwMGZmIH0gKSApIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLkN5bGluZGVyQnVmZmVyR2VvbWV0cnkoIDAuMiwgMCwgMSwgNCwgMSwgZmFsc2UgKSwgaW52aXNpYmxlTWF0ZXJpYWwgKSwgWyAwLCAwLCAwLjYgXSwgWyBNYXRoLlBJIC8gMiwgMCwgMCBdIF1cbiAgICAgICAgICAgIF0sXG5cbiAgICAgICAgICAgIFhZWjogW1xuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5Cb3hCdWZmZXJHZW9tZXRyeSggMC4xMjUsIDAuMTI1LCAwLjEyNSApLCBuZXcgR2l6bW9NYXRlcmlhbCggeyBjb2xvcjogMHhmZmZmZmYsIG9wYWNpdHk6IDAuMjUgfSApICkgXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuQm94QnVmZmVyR2VvbWV0cnkoIDAuNCwgMC40LCAwLjQgKSwgaW52aXNpYmxlTWF0ZXJpYWwgKSBdXG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxufVxuXG5mdW5jdGlvbiBUcmFuc2Zvcm1HaXptbyggaGFuZGxlcyApIHtcblxuICAgIHRoaXMuaGFuZGxlcyA9IGhhbmRsZXM7XG5cbiAgICB0aGlzLmluaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgVEhSRUUuT2JqZWN0M0QuY2FsbCggdGhpcyApO1xuXG4gICAgICAgIHRoaXMuYWRkKCB0aGlzLmhhbmRsZXMgKTtcblxuICAgICAgICB0aGlzLnBsYW5lcyA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgICAgICB0aGlzLmFkZCggdGhpcy5wbGFuZXMgKTtcblxuICAgICAgICAvLy8vIFBMQU5FU1xuXG4gICAgICAgIHZhciBwbGFuZUdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoIDUwLCA1MCwgMiwgMiApO1xuICAgICAgICB2YXIgcGxhbmVNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyB2aXNpYmxlOiBmYWxzZSwgc2lkZTogVEhSRUUuRG91YmxlU2lkZSB9ICk7XG5cbiAgICAgICAgdmFyIHBsYW5lcyA9IHtcbiAgICAgICAgICAgIFwiWFlcIjogICBuZXcgVEhSRUUuTWVzaCggcGxhbmVHZW9tZXRyeSwgcGxhbmVNYXRlcmlhbCApLFxuICAgICAgICAgICAgXCJZWlwiOiAgIG5ldyBUSFJFRS5NZXNoKCBwbGFuZUdlb21ldHJ5LCBwbGFuZU1hdGVyaWFsICksXG4gICAgICAgICAgICBcIlhaXCI6ICAgbmV3IFRIUkVFLk1lc2goIHBsYW5lR2VvbWV0cnksIHBsYW5lTWF0ZXJpYWwgKSxcbiAgICAgICAgICAgIFwiWFlaRVwiOiBuZXcgVEhSRUUuTWVzaCggcGxhbmVHZW9tZXRyeSwgcGxhbmVNYXRlcmlhbCApXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5hY3RpdmVQbGFuZSA9IHBsYW5lc1sgXCJYWVpFXCIgXTtcblxuICAgICAgICBwbGFuZXNbIFwiWVpcIiBdLnJvdGF0aW9uLnNldCggMCwgTWF0aC5QSSAvIDIsIDAgKTtcbiAgICAgICAgcGxhbmVzWyBcIlhaXCIgXS5yb3RhdGlvbi5zZXQoIC0gTWF0aC5QSSAvIDIsIDAsIDAgKTtcblxuICAgICAgICBmb3IgKCB2YXIgaSBpbiBwbGFuZXMgKSB7XG5cbiAgICAgICAgICAgIHBsYW5lc1sgaSBdLm5hbWUgPSBpO1xuICAgICAgICAgICAgdGhpcy5wbGFuZXMuYWRkKCBwbGFuZXNbIGkgXSApO1xuICAgICAgICAgICAgdGhpcy5wbGFuZXNbIGkgXSA9IHBsYW5lc1sgaSBdO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNldCBUcmFuc2Zvcm1hdGlvbnNcblxuICAgICAgICB0aGlzLnRyYXZlcnNlKCBmdW5jdGlvbiAoIGNoaWxkICkge1xuXG4gICAgICAgICAgICBpZiAoIGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaCApIHtcblxuICAgICAgICAgICAgICAgIGNoaWxkLnVwZGF0ZU1hdHJpeCgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBHZW9tZXRyeSA9IGNoaWxkLmdlb21ldHJ5LmNsb25lKCk7XG4gICAgICAgICAgICAgICAgdGVtcEdlb21ldHJ5LmFwcGx5TWF0cml4KCBjaGlsZC5tYXRyaXggKTtcbiAgICAgICAgICAgICAgICBjaGlsZC5nZW9tZXRyeSA9IHRlbXBHZW9tZXRyeTtcblxuICAgICAgICAgICAgICAgIGNoaWxkLnBvc2l0aW9uLnNldCggMCwgMCwgMCApO1xuICAgICAgICAgICAgICAgIGNoaWxkLnJvdGF0aW9uLnNldCggMCwgMCwgMCApO1xuICAgICAgICAgICAgICAgIGNoaWxkLnNjYWxlLnNldCggMSwgMSwgMSApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSApO1xuXG4gICAgfTtcblxuICAgIHRoaXMuc2V0SGFuZGxlcyA9IGZ1bmN0aW9uICggaGFuZGxlcyApIHtcblxuICAgICAgICB0aGlzLnJlbW92ZSggdGhpcy5oYW5kbGVzICk7XG4gICAgICAgIHRoaXMuaGFuZGxlcyA9IGhhbmRsZXM7XG4gICAgICAgIGlmICggdGhpcy5oYW5kbGVzICE9PSBudWxsICkge1xuICAgICAgICAgICAgdGhpcy5hZGQoIHRoaXMuaGFuZGxlcyApO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgdGhpcy5oaWdobGlnaHQgPSBmdW5jdGlvbiAoIGF4aXMgKSB7XG5cbiAgICAgICAgdGhpcy50cmF2ZXJzZSggZnVuY3Rpb24oIGNoaWxkICkge1xuXG4gICAgICAgICAgICBpZiAoIGNoaWxkLm1hdGVyaWFsICYmIGNoaWxkLm1hdGVyaWFsLmhpZ2hsaWdodCApIHtcblxuICAgICAgICAgICAgICAgIGlmICggY2hpbGQubmFtZSA9PT0gYXhpcyApIHtcblxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5tYXRlcmlhbC5oaWdobGlnaHQoIHRydWUgKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwuaGlnaGxpZ2h0KCBmYWxzZSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSApO1xuXG4gICAgfTtcblxufVxuXG5UcmFuc2Zvcm1HaXptby5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBUSFJFRS5PYmplY3QzRC5wcm90b3R5cGUgKTtcblRyYW5zZm9ybUdpem1vLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRIUkVFLlRyYW5zZm9ybUdpem1vO1xuXG5UcmFuc2Zvcm1HaXptby5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCByb3RhdGlvbiwgZXllICkge1xuXG4gICAgdmFyIHZlYzEgPSBuZXcgVEhSRUUuVmVjdG9yMyggMCwgMCwgMCApO1xuICAgIHZhciB2ZWMyID0gbmV3IFRIUkVFLlZlY3RvcjMoIDAsIDEsIDAgKTtcbiAgICB2YXIgbG9va0F0TWF0cml4ID0gbmV3IFRIUkVFLk1hdHJpeDQoKTtcblxuICAgIHRoaXMudHJhdmVyc2UoIGZ1bmN0aW9uKCBjaGlsZCApIHtcblxuICAgICAgICBpZiAoIGNoaWxkLm5hbWUuc2VhcmNoKCBcIkVcIiApICE9PSAtIDEgKSB7XG5cbiAgICAgICAgICAgIGNoaWxkLnF1YXRlcm5pb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KCBsb29rQXRNYXRyaXgubG9va0F0KCBleWUsIHZlYzEsIHZlYzIgKSApO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoIGNoaWxkLm5hbWUuc2VhcmNoKCBcIlhcIiApICE9PSAtIDEgfHwgY2hpbGQubmFtZS5zZWFyY2goIFwiWVwiICkgIT09IC0gMSB8fCBjaGlsZC5uYW1lLnNlYXJjaCggXCJaXCIgKSAhPT0gLSAxICkge1xuXG4gICAgICAgICAgICBjaGlsZC5xdWF0ZXJuaW9uLnNldEZyb21FdWxlciggcm90YXRpb24gKTtcblxuICAgICAgICB9XG5cbiAgICB9ICk7XG5cbn1cblxuZnVuY3Rpb24gVHJhbnNmb3JtR2l6bW9UcmFuc2xhdGUoIGhhbmRsZXMgKSB7XG5cbiAgICBUcmFuc2Zvcm1HaXptby5jYWxsKCB0aGlzLCBoYW5kbGVzICk7XG5cbiAgICB0aGlzLnNldEFjdGl2ZVBsYW5lID0gZnVuY3Rpb24gKCBheGlzLCBleWUgKSB7XG5cbiAgICAgICAgdmFyIHRlbXBNYXRyaXggPSBuZXcgVEhSRUUuTWF0cml4NCgpO1xuICAgICAgICBleWUuYXBwbHlNYXRyaXg0KCB0ZW1wTWF0cml4LmdldEludmVyc2UoIHRlbXBNYXRyaXguZXh0cmFjdFJvdGF0aW9uKCB0aGlzLnBsYW5lc1sgXCJYWVwiIF0ubWF0cml4V29ybGQgKSApICk7XG5cbiAgICAgICAgaWYgKCBheGlzID09PSBcIlhcIiApIHtcblxuICAgICAgICAgICAgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhZXCIgXTtcblxuICAgICAgICAgICAgaWYgKCBNYXRoLmFicyggZXllLnkgKSA+IE1hdGguYWJzKCBleWUueiApICkgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhaXCIgXTtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBheGlzID09PSBcIllcIiApIHtcblxuICAgICAgICAgICAgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhZXCIgXTtcblxuICAgICAgICAgICAgaWYgKCBNYXRoLmFicyggZXllLnggKSA+IE1hdGguYWJzKCBleWUueiApICkgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIllaXCIgXTtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBheGlzID09PSBcIlpcIiApIHtcblxuICAgICAgICAgICAgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhaXCIgXTtcblxuICAgICAgICAgICAgaWYgKCBNYXRoLmFicyggZXllLnggKSA+IE1hdGguYWJzKCBleWUueSApICkgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIllaXCIgXTtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBheGlzID09PSBcIlhZWlwiICkgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhZWkVcIiBdO1xuXG4gICAgICAgIGlmICggYXhpcyA9PT0gXCJYWVwiICkgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhZXCIgXTtcblxuICAgICAgICBpZiAoIGF4aXMgPT09IFwiWVpcIiApIHRoaXMuYWN0aXZlUGxhbmUgPSB0aGlzLnBsYW5lc1sgXCJZWlwiIF07XG5cbiAgICAgICAgaWYgKCBheGlzID09PSBcIlhaXCIgKSB0aGlzLmFjdGl2ZVBsYW5lID0gdGhpcy5wbGFuZXNbIFwiWFpcIiBdO1xuXG4gICAgfTtcblxuICAgIHRoaXMuaW5pdCgpO1xuXG59XG5cblRyYW5zZm9ybUdpem1vVHJhbnNsYXRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFRyYW5zZm9ybUdpem1vLnByb3RvdHlwZSApO1xuVHJhbnNmb3JtR2l6bW9UcmFuc2xhdGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVHJhbnNmb3JtR2l6bW9UcmFuc2xhdGU7XG5cbmZ1bmN0aW9uIFRyYW5zZm9ybUdpem1vUm90YXRlKCBoYW5kbGVzICkge1xuXG4gICAgVHJhbnNmb3JtR2l6bW8uY2FsbCggdGhpcywgaGFuZGxlcyApO1xuXG4gICAgdGhpcy5zZXRBY3RpdmVQbGFuZSA9IGZ1bmN0aW9uICggYXhpcyApIHtcblxuICAgICAgICBpZiAoIGF4aXMgPT09IFwiRVwiICkgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhZWkVcIiBdO1xuXG4gICAgICAgIGlmICggYXhpcyA9PT0gXCJYXCIgKSB0aGlzLmFjdGl2ZVBsYW5lID0gdGhpcy5wbGFuZXNbIFwiWVpcIiBdO1xuXG4gICAgICAgIGlmICggYXhpcyA9PT0gXCJZXCIgKSB0aGlzLmFjdGl2ZVBsYW5lID0gdGhpcy5wbGFuZXNbIFwiWFpcIiBdO1xuXG4gICAgICAgIGlmICggYXhpcyA9PT0gXCJaXCIgKSB0aGlzLmFjdGl2ZVBsYW5lID0gdGhpcy5wbGFuZXNbIFwiWFlcIiBdO1xuXG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24gKCByb3RhdGlvbiwgZXllMiApIHtcblxuICAgICAgICBUcmFuc2Zvcm1HaXptby5wcm90b3R5cGUudXBkYXRlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuICAgICAgICB2YXIgZ3JvdXAgPSB7XG5cbiAgICAgICAgICAgIGhhbmRsZXM6IHRoaXNbIFwiaGFuZGxlc1wiIF1cblxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciB0ZW1wTWF0cml4ID0gbmV3IFRIUkVFLk1hdHJpeDQoKTtcbiAgICAgICAgdmFyIHdvcmxkUm90YXRpb24gPSBuZXcgVEhSRUUuRXVsZXIoIDAsIDAsIDEgKTtcbiAgICAgICAgdmFyIHRlbXBRdWF0ZXJuaW9uID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcbiAgICAgICAgdmFyIHVuaXRYID0gbmV3IFRIUkVFLlZlY3RvcjMoIDEsIDAsIDAgKTtcbiAgICAgICAgdmFyIHVuaXRZID0gbmV3IFRIUkVFLlZlY3RvcjMoIDAsIDEsIDAgKTtcbiAgICAgICAgdmFyIHVuaXRaID0gbmV3IFRIUkVFLlZlY3RvcjMoIDAsIDAsIDEgKTtcbiAgICAgICAgdmFyIHF1YXRlcm5pb25YID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcbiAgICAgICAgdmFyIHF1YXRlcm5pb25ZID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcbiAgICAgICAgdmFyIHF1YXRlcm5pb25aID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcbiAgICAgICAgdmFyIGV5ZSA9IGV5ZTIuY2xvbmUoKTtcblxuICAgICAgICB3b3JsZFJvdGF0aW9uLmNvcHkoIHRoaXMucGxhbmVzWyBcIlhZXCIgXS5yb3RhdGlvbiApO1xuICAgICAgICB0ZW1wUXVhdGVybmlvbi5zZXRGcm9tRXVsZXIoIHdvcmxkUm90YXRpb24gKTtcblxuICAgICAgICB0ZW1wTWF0cml4Lm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKCB0ZW1wUXVhdGVybmlvbiApLmdldEludmVyc2UoIHRlbXBNYXRyaXggKTtcbiAgICAgICAgZXllLmFwcGx5TWF0cml4NCggdGVtcE1hdHJpeCApO1xuXG4gICAgICAgIHRoaXMudHJhdmVyc2UoIGZ1bmN0aW9uKCBjaGlsZCApIHtcblxuICAgICAgICAgICAgdGVtcFF1YXRlcm5pb24uc2V0RnJvbUV1bGVyKCB3b3JsZFJvdGF0aW9uICk7XG5cbiAgICAgICAgICAgIGlmICggY2hpbGQubmFtZSA9PT0gXCJYXCIgKSB7XG5cbiAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uWC5zZXRGcm9tQXhpc0FuZ2xlKCB1bml0WCwgTWF0aC5hdGFuMiggLSBleWUueSwgZXllLnogKSApO1xuICAgICAgICAgICAgICAgIHRlbXBRdWF0ZXJuaW9uLm11bHRpcGx5UXVhdGVybmlvbnMoIHRlbXBRdWF0ZXJuaW9uLCBxdWF0ZXJuaW9uWCApO1xuICAgICAgICAgICAgICAgIGNoaWxkLnF1YXRlcm5pb24uY29weSggdGVtcFF1YXRlcm5pb24gKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIGNoaWxkLm5hbWUgPT09IFwiWVwiICkge1xuXG4gICAgICAgICAgICAgICAgcXVhdGVybmlvblkuc2V0RnJvbUF4aXNBbmdsZSggdW5pdFksIE1hdGguYXRhbjIoIGV5ZS54LCBleWUueiApICk7XG4gICAgICAgICAgICAgICAgdGVtcFF1YXRlcm5pb24ubXVsdGlwbHlRdWF0ZXJuaW9ucyggdGVtcFF1YXRlcm5pb24sIHF1YXRlcm5pb25ZICk7XG4gICAgICAgICAgICAgICAgY2hpbGQucXVhdGVybmlvbi5jb3B5KCB0ZW1wUXVhdGVybmlvbiApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggY2hpbGQubmFtZSA9PT0gXCJaXCIgKSB7XG5cbiAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uWi5zZXRGcm9tQXhpc0FuZ2xlKCB1bml0WiwgTWF0aC5hdGFuMiggZXllLnksIGV5ZS54ICkgKTtcbiAgICAgICAgICAgICAgICB0ZW1wUXVhdGVybmlvbi5tdWx0aXBseVF1YXRlcm5pb25zKCB0ZW1wUXVhdGVybmlvbiwgcXVhdGVybmlvblogKTtcbiAgICAgICAgICAgICAgICBjaGlsZC5xdWF0ZXJuaW9uLmNvcHkoIHRlbXBRdWF0ZXJuaW9uICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9ICk7XG5cbiAgICB9O1xuXG4gICAgdGhpcy5pbml0KCk7XG5cbn1cblxuVHJhbnNmb3JtR2l6bW9Sb3RhdGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVHJhbnNmb3JtR2l6bW8ucHJvdG90eXBlICk7XG5UcmFuc2Zvcm1HaXptb1JvdGF0ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUcmFuc2Zvcm1HaXptb1JvdGF0ZTtcblxuZnVuY3Rpb24gVHJhbnNmb3JtR2l6bW9TY2FsZSggaGFuZGxlcyApIHtcblxuICAgIFRyYW5zZm9ybUdpem1vLmNhbGwoIHRoaXMsIGhhbmRsZXMgKTtcblxuICAgIHRoaXMuc2V0QWN0aXZlUGxhbmUgPSBmdW5jdGlvbiAoIGF4aXMsIGV5ZSApIHtcblxuICAgICAgICB2YXIgdGVtcE1hdHJpeCA9IG5ldyBUSFJFRS5NYXRyaXg0KCk7XG4gICAgICAgIGV5ZS5hcHBseU1hdHJpeDQoIHRlbXBNYXRyaXguZ2V0SW52ZXJzZSggdGVtcE1hdHJpeC5leHRyYWN0Um90YXRpb24oIHRoaXMucGxhbmVzWyBcIlhZXCIgXS5tYXRyaXhXb3JsZCApICkgKTtcblxuICAgICAgICBpZiAoIGF4aXMgPT09IFwiWFwiICkge1xuXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVBsYW5lID0gdGhpcy5wbGFuZXNbIFwiWFlcIiBdO1xuICAgICAgICAgICAgaWYgKCBNYXRoLmFicyggZXllLnkgKSA+IE1hdGguYWJzKCBleWUueiApICkgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhaXCIgXTtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBheGlzID09PSBcIllcIiApIHtcblxuICAgICAgICAgICAgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhZXCIgXTtcbiAgICAgICAgICAgIGlmICggTWF0aC5hYnMoIGV5ZS54ICkgPiBNYXRoLmFicyggZXllLnogKSApIHRoaXMuYWN0aXZlUGxhbmUgPSB0aGlzLnBsYW5lc1sgXCJZWlwiIF07XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggYXhpcyA9PT0gXCJaXCIgKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYWN0aXZlUGxhbmUgPSB0aGlzLnBsYW5lc1sgXCJYWlwiIF07XG4gICAgICAgICAgICBpZiAoIE1hdGguYWJzKCBleWUueCApID4gTWF0aC5hYnMoIGV5ZS55ICkgKSB0aGlzLmFjdGl2ZVBsYW5lID0gdGhpcy5wbGFuZXNbIFwiWVpcIiBdO1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIGF4aXMgPT09IFwiWFlaXCIgKSB0aGlzLmFjdGl2ZVBsYW5lID0gdGhpcy5wbGFuZXNbIFwiWFlaRVwiIF07XG5cbiAgICB9O1xuXG4gICAgdGhpcy5pbml0KCk7XG5cbn1cblxuVHJhbnNmb3JtR2l6bW9TY2FsZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBUcmFuc2Zvcm1HaXptby5wcm90b3R5cGUgKTtcblRyYW5zZm9ybUdpem1vU2NhbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVHJhbnNmb3JtR2l6bW9TY2FsZTtcblxuZnVuY3Rpb24gVHJhbnNmb3JtQ29udHJvbHMoIGNhbWVyYSwgZG9tRWxlbWVudCApIHtcblxuICAgIC8vIFRPRE86IE1ha2Ugbm9uLXVuaWZvcm0gc2NhbGUgYW5kIHJvdGF0ZSBwbGF5IG5pY2UgaW4gaGllcmFyY2hpZXNcbiAgICAvLyBUT0RPOiBBREQgUlhZWiBjb250b2xcblxuICAgIFRIUkVFLk9iamVjdDNELmNhbGwoIHRoaXMgKTtcblxuICAgIGRvbUVsZW1lbnQgPSAoIGRvbUVsZW1lbnQgIT09IHVuZGVmaW5lZCApID8gZG9tRWxlbWVudCA6IGRvY3VtZW50O1xuXG4gICAgdGhpcy5kZWZhdWx0SGFuZGxlcyA9IG5ldyBEZWZhdWx0SGFuZGxlcygpO1xuXG4gICAgdGhpcy5vYmplY3QgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgdGhpcy50cmFuc2xhdGlvblNuYXAgPSBudWxsO1xuICAgIHRoaXMucm90YXRpb25TbmFwID0gbnVsbDtcbiAgICB0aGlzLnNwYWNlID0gXCJ3b3JsZFwiO1xuICAgIHRoaXMuc2l6ZSA9IDE7XG4gICAgdGhpcy5heGlzID0gbnVsbDtcbiAgICB0aGlzLmRyYWdPYmplY3QgPSBmYWxzZTtcblxuICAgIHZhciBzY29wZSA9IHRoaXM7XG5cbiAgICB2YXIgX21vZGUgPSBcInRyYW5zbGF0ZVwiO1xuICAgIHZhciBfZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICB2YXIgX3BsYW5lID0gXCJYWVwiO1xuICAgIHZhciBfZ2l6bW8gPSB7XG4gICAgICAgIFwidHJhbnNsYXRlXCI6IG5ldyBUcmFuc2Zvcm1HaXptb1RyYW5zbGF0ZSggc2NvcGUuZGVmYXVsdEhhbmRsZXMudHJhbnNsYXRlSGFuZGxlcygpICksXG4gICAgICAgIFwicm90YXRlXCI6IG5ldyBUcmFuc2Zvcm1HaXptb1JvdGF0ZSggc2NvcGUuZGVmYXVsdEhhbmRsZXMucm90YXRlSGFuZGxlcygpICksXG4gICAgICAgIFwic2NhbGVcIjogbmV3IFRyYW5zZm9ybUdpem1vU2NhbGUoIHNjb3BlLmRlZmF1bHRIYW5kbGVzLnNjYWxlSGFuZGxlcygpIClcbiAgICB9O1xuXG4gICAgZm9yICggdmFyIHR5cGUgaW4gX2dpem1vICkge1xuXG4gICAgICAgIHZhciBnaXptb09iaiA9IF9naXptb1sgdHlwZSBdO1xuXG4gICAgICAgIGdpem1vT2JqLnZpc2libGUgPSAoIHR5cGUgPT09IF9tb2RlICk7XG4gICAgICAgIHRoaXMuYWRkKCBnaXptb09iaiApO1xuXG4gICAgfVxuXG4gICAgdmFyIGNoYW5nZUV2ZW50ID0geyB0eXBlOiBcImNoYW5nZVwiIH07XG4gICAgdmFyIG1vdXNlRG93bkV2ZW50ID0geyB0eXBlOiBcIm1vdXNlRG93blwiIH07XG4gICAgdmFyIG1vdXNlVXBFdmVudCA9IHsgdHlwZTogXCJtb3VzZVVwXCIsIG1vZGU6IF9tb2RlIH07XG4gICAgdmFyIG9iamVjdENoYW5nZUV2ZW50ID0geyB0eXBlOiBcIm9iamVjdENoYW5nZVwiIH07XG5cbiAgICB2YXIgcmF5ID0gbmV3IFRIUkVFLlJheWNhc3RlcigpO1xuICAgIHJheS5saW5lUHJlY2lzaW9uID0gMC4wMTtcbiAgICB2YXIgcG9pbnRlclZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cbiAgICB2YXIgcG9pbnQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHZhciBvZmZzZXQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXG4gICAgdmFyIHJvdGF0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB2YXIgb2Zmc2V0Um90YXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHZhciBzY2FsZSA9IDE7XG5cbiAgICB2YXIgbG9va0F0TWF0cml4ID0gbmV3IFRIUkVFLk1hdHJpeDQoKTtcbiAgICB2YXIgZXllID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuICAgIHZhciB0ZW1wTWF0cml4ID0gbmV3IFRIUkVFLk1hdHJpeDQoKTtcbiAgICB2YXIgdGVtcFZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgdmFyIHRlbXBRdWF0ZXJuaW9uID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcbiAgICB2YXIgdW5pdFggPSBuZXcgVEhSRUUuVmVjdG9yMyggMSwgMCwgMCApO1xuICAgIHZhciB1bml0WSA9IG5ldyBUSFJFRS5WZWN0b3IzKCAwLCAxLCAwICk7XG4gICAgdmFyIHVuaXRaID0gbmV3IFRIUkVFLlZlY3RvcjMoIDAsIDAsIDEgKTtcblxuICAgIHZhciBxdWF0ZXJuaW9uWFlaID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcbiAgICB2YXIgcXVhdGVybmlvblggPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuICAgIHZhciBxdWF0ZXJuaW9uWSA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XG4gICAgdmFyIHF1YXRlcm5pb25aID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcbiAgICB2YXIgcXVhdGVybmlvbkUgPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuXG4gICAgdmFyIG9sZFBvc2l0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB2YXIgb2xkU2NhbGUgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHZhciBvbGRSb3RhdGlvbk1hdHJpeCA9IG5ldyBUSFJFRS5NYXRyaXg0KCk7XG5cbiAgICB2YXIgcGFyZW50Um90YXRpb25NYXRyaXggID0gbmV3IFRIUkVFLk1hdHJpeDQoKTtcbiAgICB2YXIgcGFyZW50U2NhbGUgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXG4gICAgdmFyIHdvcmxkUG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHZhciB3b3JsZFJvdGF0aW9uID0gbmV3IFRIUkVFLkV1bGVyKCk7XG4gICAgdmFyIHdvcmxkUm90YXRpb25NYXRyaXggID0gbmV3IFRIUkVFLk1hdHJpeDQoKTtcbiAgICB2YXIgY2FtUG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHZhciBjYW1Sb3RhdGlvbiA9IG5ldyBUSFJFRS5FdWxlcigpO1xuXG4gICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCBcIm1vdXNlZG93blwiLCBvblBvaW50ZXJEb3duLCBmYWxzZSApO1xuICAgIGRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJ0b3VjaHN0YXJ0XCIsIG9uUG9pbnRlckRvd24sIGZhbHNlICk7XG5cbiAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwibW91c2Vtb3ZlXCIsIG9uUG9pbnRlckhvdmVyLCBmYWxzZSApO1xuICAgIGRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJ0b3VjaG1vdmVcIiwgb25Qb2ludGVySG92ZXIsIGZhbHNlICk7XG5cbiAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwibW91c2Vtb3ZlXCIsIG9uUG9pbnRlck1vdmUsIGZhbHNlICk7XG4gICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCBcInRvdWNobW92ZVwiLCBvblBvaW50ZXJNb3ZlLCBmYWxzZSApO1xuXG4gICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCBcIm1vdXNldXBcIiwgb25Qb2ludGVyVXAsIGZhbHNlICk7XG4gICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCBcIm1vdXNlb3V0XCIsIG9uUG9pbnRlclVwLCBmYWxzZSApO1xuICAgIGRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJ0b3VjaGVuZFwiLCBvblBvaW50ZXJVcCwgZmFsc2UgKTtcbiAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwidG91Y2hjYW5jZWxcIiwgb25Qb2ludGVyVXAsIGZhbHNlICk7XG4gICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCBcInRvdWNobGVhdmVcIiwgb25Qb2ludGVyVXAsIGZhbHNlICk7XG5cbiAgICB0aGlzLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcIm1vdXNlZG93blwiLCBvblBvaW50ZXJEb3duICk7XG4gICAgICAgIGRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJ0b3VjaHN0YXJ0XCIsIG9uUG9pbnRlckRvd24gKTtcblxuICAgICAgICBkb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwibW91c2Vtb3ZlXCIsIG9uUG9pbnRlckhvdmVyICk7XG4gICAgICAgIGRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJ0b3VjaG1vdmVcIiwgb25Qb2ludGVySG92ZXIgKTtcblxuICAgICAgICBkb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwibW91c2Vtb3ZlXCIsIG9uUG9pbnRlck1vdmUgKTtcbiAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcInRvdWNobW92ZVwiLCBvblBvaW50ZXJNb3ZlICk7XG5cbiAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcIm1vdXNldXBcIiwgb25Qb2ludGVyVXAgKTtcbiAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcIm1vdXNlb3V0XCIsIG9uUG9pbnRlclVwICk7XG4gICAgICAgIGRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJ0b3VjaGVuZFwiLCBvblBvaW50ZXJVcCApO1xuICAgICAgICBkb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwidG91Y2hjYW5jZWxcIiwgb25Qb2ludGVyVXAgKTtcbiAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcInRvdWNobGVhdmVcIiwgb25Qb2ludGVyVXAgKTtcblxuICAgIH07XG5cbiAgICB0aGlzLmF0dGFjaCA9IGZ1bmN0aW9uICggb2JqZWN0ICkge1xuXG4gICAgICAgIHRoaXMub2JqZWN0ID0gb2JqZWN0O1xuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuXG4gICAgfTtcblxuICAgIHRoaXMuZGV0YWNoID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHRoaXMub2JqZWN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5heGlzID0gbnVsbDtcblxuICAgIH07XG5cbiAgICB0aGlzLmdldE1vZGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgcmV0dXJuIF9tb2RlO1xuXG4gICAgfTtcblxuICAgIHRoaXMuc2V0TW9kZSA9IGZ1bmN0aW9uICggbW9kZSApIHtcblxuICAgICAgICBfbW9kZSA9IG1vZGUgPyBtb2RlIDogX21vZGU7XG5cbiAgICAgICAgaWYgKCBfbW9kZSA9PT0gXCJzY2FsZVwiICkgc2NvcGUuc3BhY2UgPSBcImxvY2FsXCI7XG5cbiAgICAgICAgZm9yICggdmFyIHR5cGUgaW4gX2dpem1vICkgX2dpem1vWyB0eXBlIF0udmlzaWJsZSA9ICggdHlwZSA9PT0gX21vZGUgKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KCBjaGFuZ2VFdmVudCApO1xuXG4gICAgfTtcblxuICAgIHRoaXMuc2V0VHJhbnNsYXRpb25TbmFwID0gZnVuY3Rpb24gKCB0cmFuc2xhdGlvblNuYXAgKSB7XG5cbiAgICAgICAgc2NvcGUudHJhbnNsYXRpb25TbmFwID0gdHJhbnNsYXRpb25TbmFwO1xuXG4gICAgfTtcblxuICAgIHRoaXMuc2V0Um90YXRpb25TbmFwID0gZnVuY3Rpb24gKCByb3RhdGlvblNuYXAgKSB7XG5cbiAgICAgICAgc2NvcGUucm90YXRpb25TbmFwID0gcm90YXRpb25TbmFwO1xuXG4gICAgfTtcblxuICAgIHRoaXMuc2V0U2l6ZSA9IGZ1bmN0aW9uICggc2l6ZSApIHtcblxuICAgICAgICBzY29wZS5zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgc2NvcGUuZGlzcGF0Y2hFdmVudCggY2hhbmdlRXZlbnQgKTtcblxuICAgIH07XG5cbiAgICB0aGlzLnNldFNwYWNlID0gZnVuY3Rpb24gKCBzcGFjZSApIHtcblxuICAgICAgICBzY29wZS5zcGFjZSA9IHNwYWNlO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KCBjaGFuZ2VFdmVudCApO1xuXG4gICAgfTtcblxuICAgIHRoaXMuc2V0SGFuZGxlcyA9IGZ1bmN0aW9uICggbW9kZSwgaGFuZGxlcyApIHtcblxuICAgICAgICBfZ2l6bW9bIG1vZGUgXS5zZXRIYW5kbGVzKCBoYW5kbGVzICk7XG4gICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xuICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KCBjaGFuZ2VFdmVudCApO1xuXG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGlmICggc2NvcGUub2JqZWN0ID09PSB1bmRlZmluZWQgKSByZXR1cm47XG5cbiAgICAgICAgc2NvcGUub2JqZWN0LnVwZGF0ZU1hdHJpeFdvcmxkKCk7XG4gICAgICAgIHdvcmxkUG9zaXRpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKCBzY29wZS5vYmplY3QubWF0cml4V29ybGQgKTtcbiAgICAgICAgd29ybGRSb3RhdGlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgoIHRlbXBNYXRyaXguZXh0cmFjdFJvdGF0aW9uKCBzY29wZS5vYmplY3QubWF0cml4V29ybGQgKSApO1xuXG4gICAgICAgIGNhbWVyYS51cGRhdGVNYXRyaXhXb3JsZCgpO1xuICAgICAgICBjYW1Qb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24oIGNhbWVyYS5tYXRyaXhXb3JsZCApO1xuICAgICAgICBjYW1Sb3RhdGlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgoIHRlbXBNYXRyaXguZXh0cmFjdFJvdGF0aW9uKCBjYW1lcmEubWF0cml4V29ybGQgKSApO1xuXG4gICAgICAgIHNjYWxlID0gd29ybGRQb3NpdGlvbi5kaXN0YW5jZVRvKCBjYW1Qb3NpdGlvbiApIC8gNiAqIHNjb3BlLnNpemU7XG4gICAgICAgIHRoaXMucG9zaXRpb24uY29weSggd29ybGRQb3NpdGlvbiApO1xuICAgICAgICB0aGlzLnNjYWxlLnNldCggc2NhbGUsIHNjYWxlLCBzY2FsZSApO1xuXG4gICAgICAgIGlmICggY2FtZXJhIGluc3RhbmNlb2YgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEgKSB7XG5cbiAgICAgICAgICAgIGV5ZS5jb3B5KCBjYW1Qb3NpdGlvbiApLnN1Yiggd29ybGRQb3NpdGlvbiApLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoIGNhbWVyYSBpbnN0YW5jZW9mIFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSApIHtcblxuICAgICAgICAgICAgZXllLmNvcHkoIGNhbVBvc2l0aW9uICkubm9ybWFsaXplKCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggc2NvcGUuc3BhY2UgPT09IFwibG9jYWxcIiApIHtcblxuICAgICAgICAgICAgX2dpem1vWyBfbW9kZSBdLnVwZGF0ZSggd29ybGRSb3RhdGlvbiwgZXllICk7XG5cbiAgICAgICAgfSBlbHNlIGlmICggc2NvcGUuc3BhY2UgPT09IFwid29ybGRcIiApIHtcblxuICAgICAgICAgICAgX2dpem1vWyBfbW9kZSBdLnVwZGF0ZSggbmV3IFRIUkVFLkV1bGVyKCksIGV5ZSApO1xuXG4gICAgICAgIH1cblxuICAgICAgICBfZ2l6bW9bIF9tb2RlIF0uaGlnaGxpZ2h0KCBzY29wZS5heGlzICk7XG5cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gb25Qb2ludGVySG92ZXIoIGV2ZW50ICkge1xuXG4gICAgICAgIGlmICggc2NvcGUub2JqZWN0ID09PSB1bmRlZmluZWQgfHwgX2RyYWdnaW5nID09PSB0cnVlIHx8IF9naXptb1sgX21vZGUgXS5oYW5kbGVzID09PSBudWxsIHx8ICggZXZlbnQuYnV0dG9uICE9PSB1bmRlZmluZWQgJiYgZXZlbnQuYnV0dG9uICE9PSAwICkgKSByZXR1cm47XG5cbiAgICAgICAgdmFyIHBvaW50ZXIgPSBldmVudC5jaGFuZ2VkVG91Y2hlcyA/IGV2ZW50LmNoYW5nZWRUb3VjaGVzWyAwIF0gOiBldmVudDtcblxuICAgICAgICB2YXIgaW50ZXJzZWN0ID0gaW50ZXJzZWN0T2JqZWN0cyggcG9pbnRlciwgX2dpem1vWyBfbW9kZSBdLmhhbmRsZXMuY2hpbGRyZW4gKTtcblxuICAgICAgICB2YXIgYXhpcyA9IG51bGw7XG5cbiAgICAgICAgaWYgKCBpbnRlcnNlY3QgKSB7XG5cbiAgICAgICAgICAgIGF4aXMgPSBpbnRlcnNlY3Qub2JqZWN0Lm5hbWU7XG5cbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggc2NvcGUuYXhpcyAhPT0gYXhpcyApIHtcblxuICAgICAgICAgICAgc2NvcGUuYXhpcyA9IGF4aXM7XG4gICAgICAgICAgICBzY29wZS51cGRhdGUoKTtcbiAgICAgICAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoIGNoYW5nZUV2ZW50ICk7XG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Qb2ludGVyRG93biggZXZlbnQgKSB7XG5cbiAgICAgICAgaWYgKCBzY29wZS5vYmplY3QgPT09IHVuZGVmaW5lZCB8fCBfZHJhZ2dpbmcgPT09IHRydWUgfHwgKCBldmVudC5idXR0b24gIT09IHVuZGVmaW5lZCAmJiBldmVudC5idXR0b24gIT09IDAgKSApIHJldHVybjtcblxuICAgICAgICB2YXIgcG9pbnRlciA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzID8gZXZlbnQuY2hhbmdlZFRvdWNoZXNbIDAgXSA6IGV2ZW50O1xuXG4gICAgICAgIGlmICggcG9pbnRlci5idXR0b24gPT09IDAgfHwgcG9pbnRlci5idXR0b24gPT09IHVuZGVmaW5lZCApIHtcblxuICAgICAgICAgICAgaWYgKCBfZ2l6bW9bIF9tb2RlIF0uaGFuZGxlcyAhPT0gbnVsbCApIHtcblxuICAgICAgICAgICAgICAgIHZhciBpbnRlcnNlY3QgPSBpbnRlcnNlY3RPYmplY3RzKCBwb2ludGVyLCBfZ2l6bW9bIF9tb2RlIF0uaGFuZGxlcy5jaGlsZHJlbiApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCAhIGludGVyc2VjdCApIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KCBtb3VzZURvd25FdmVudCApO1xuXG4gICAgICAgICAgICAgICAgc2NvcGUuYXhpcyA9IGludGVyc2VjdC5vYmplY3QubmFtZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCAhIHNjb3BlLmF4aXMgKSByZXR1cm4gO1xuXG4gICAgICAgICAgICBzY29wZS51cGRhdGUoKTtcblxuICAgICAgICAgICAgZXllLmNvcHkoIGNhbVBvc2l0aW9uICkuc3ViKCB3b3JsZFBvc2l0aW9uICkubm9ybWFsaXplKCk7XG5cbiAgICAgICAgICAgIF9naXptb1sgX21vZGUgXS5zZXRBY3RpdmVQbGFuZSggc2NvcGUuYXhpcywgZXllICk7XG5cbiAgICAgICAgICAgIHZhciBwbGFuZUludGVyc2VjdCA9IGludGVyc2VjdE9iamVjdHMoIHBvaW50ZXIsIFsgX2dpem1vWyBfbW9kZSBdLmFjdGl2ZVBsYW5lIF0gKTtcblxuICAgICAgICAgICAgaWYgKCBwbGFuZUludGVyc2VjdCApIHtcblxuICAgICAgICAgICAgICAgIG9sZFBvc2l0aW9uLmNvcHkoIHNjb3BlLm9iamVjdC5wb3NpdGlvbiApO1xuICAgICAgICAgICAgICAgIG9sZFNjYWxlLmNvcHkoIHNjb3BlLm9iamVjdC5zY2FsZSApO1xuXG4gICAgICAgICAgICAgICAgb2xkUm90YXRpb25NYXRyaXguZXh0cmFjdFJvdGF0aW9uKCBzY29wZS5vYmplY3QubWF0cml4ICk7XG4gICAgICAgICAgICAgICAgd29ybGRSb3RhdGlvbk1hdHJpeC5leHRyYWN0Um90YXRpb24oIHNjb3BlLm9iamVjdC5tYXRyaXhXb3JsZCApO1xuXG4gICAgICAgICAgICAgICAgcGFyZW50Um90YXRpb25NYXRyaXguZXh0cmFjdFJvdGF0aW9uKCBzY29wZS5vYmplY3QucGFyZW50Lm1hdHJpeFdvcmxkICk7XG4gICAgICAgICAgICAgICAgcGFyZW50U2NhbGUuc2V0RnJvbU1hdHJpeFNjYWxlKCB0ZW1wTWF0cml4LmdldEludmVyc2UoIHNjb3BlLm9iamVjdC5wYXJlbnQubWF0cml4V29ybGQgKSApO1xuXG4gICAgICAgICAgICAgICAgb2Zmc2V0LmNvcHkoIHBsYW5lSW50ZXJzZWN0LnBvaW50ICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgX2RyYWdnaW5nID0gdHJ1ZTtcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uUG9pbnRlck1vdmUoIGV2ZW50ICkge1xuXG4gICAgICAgIGlmICggc2NvcGUub2JqZWN0ID09PSB1bmRlZmluZWQgfHwgc2NvcGUuYXhpcyA9PT0gbnVsbCB8fCBfZHJhZ2dpbmcgPT09IGZhbHNlIHx8ICggZXZlbnQuYnV0dG9uICE9PSB1bmRlZmluZWQgJiYgZXZlbnQuYnV0dG9uICE9PSAwICkgKSByZXR1cm47XG5cbiAgICAgICAgdmFyIHBvaW50ZXIgPSBldmVudC5jaGFuZ2VkVG91Y2hlcyA/IGV2ZW50LmNoYW5nZWRUb3VjaGVzWyAwIF0gOiBldmVudDtcblxuICAgICAgICB2YXIgcGxhbmVJbnRlcnNlY3QgPSBpbnRlcnNlY3RPYmplY3RzKCBwb2ludGVyLCBbIF9naXptb1sgX21vZGUgXS5hY3RpdmVQbGFuZSBdICk7XG5cbiAgICAgICAgaWYgKCBwbGFuZUludGVyc2VjdCA9PT0gZmFsc2UgKSByZXR1cm47XG5cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgcG9pbnQuY29weSggcGxhbmVJbnRlcnNlY3QucG9pbnQgKTtcblxuICAgICAgICBpZiAoIF9tb2RlID09PSBcInRyYW5zbGF0ZVwiICkge1xuXG4gICAgICAgICAgICBwb2ludC5zdWIoIG9mZnNldCApO1xuICAgICAgICAgICAgcG9pbnQubXVsdGlwbHkoIHBhcmVudFNjYWxlICk7XG5cbiAgICAgICAgICAgIGlmICggc2NvcGUuc3BhY2UgPT09IFwibG9jYWxcIiApIHtcblxuICAgICAgICAgICAgICAgIHBvaW50LmFwcGx5TWF0cml4NCggdGVtcE1hdHJpeC5nZXRJbnZlcnNlKCB3b3JsZFJvdGF0aW9uTWF0cml4ICkgKTtcblxuICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcy5zZWFyY2goIFwiWFwiICkgPT09IC0gMSApIHBvaW50LnggPSAwO1xuICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcy5zZWFyY2goIFwiWVwiICkgPT09IC0gMSApIHBvaW50LnkgPSAwO1xuICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcy5zZWFyY2goIFwiWlwiICkgPT09IC0gMSApIHBvaW50LnogPSAwO1xuXG4gICAgICAgICAgICAgICAgcG9pbnQuYXBwbHlNYXRyaXg0KCBvbGRSb3RhdGlvbk1hdHJpeCApO1xuXG4gICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LnBvc2l0aW9uLmNvcHkoIG9sZFBvc2l0aW9uICk7XG4gICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LnBvc2l0aW9uLmFkZCggcG9pbnQgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIHNjb3BlLnNwYWNlID09PSBcIndvcmxkXCIgfHwgc2NvcGUuYXhpcy5zZWFyY2goIFwiWFlaXCIgKSAhPT0gLSAxICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5heGlzLnNlYXJjaCggXCJYXCIgKSA9PT0gLSAxICkgcG9pbnQueCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5heGlzLnNlYXJjaCggXCJZXCIgKSA9PT0gLSAxICkgcG9pbnQueSA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5heGlzLnNlYXJjaCggXCJaXCIgKSA9PT0gLSAxICkgcG9pbnQueiA9IDA7XG5cbiAgICAgICAgICAgICAgICBwb2ludC5hcHBseU1hdHJpeDQoIHRlbXBNYXRyaXguZ2V0SW52ZXJzZSggcGFyZW50Um90YXRpb25NYXRyaXggKSApO1xuXG4gICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LnBvc2l0aW9uLmNvcHkoIG9sZFBvc2l0aW9uICk7XG4gICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LnBvc2l0aW9uLmFkZCggcG9pbnQgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIHNjb3BlLnRyYW5zbGF0aW9uU25hcCAhPT0gbnVsbCApIHtcblxuICAgICAgICAgICAgICAgIGlmICggc2NvcGUuc3BhY2UgPT09IFwibG9jYWxcIiApIHtcblxuICAgICAgICAgICAgICAgICAgICBzY29wZS5vYmplY3QucG9zaXRpb24uYXBwbHlNYXRyaXg0KCB0ZW1wTWF0cml4LmdldEludmVyc2UoIHdvcmxkUm90YXRpb25NYXRyaXggKSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5heGlzLnNlYXJjaCggXCJYXCIgKSAhPT0gLSAxICkgc2NvcGUub2JqZWN0LnBvc2l0aW9uLnggPSBNYXRoLnJvdW5kKCBzY29wZS5vYmplY3QucG9zaXRpb24ueCAvIHNjb3BlLnRyYW5zbGF0aW9uU25hcCApICogc2NvcGUudHJhbnNsYXRpb25TbmFwO1xuICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcy5zZWFyY2goIFwiWVwiICkgIT09IC0gMSApIHNjb3BlLm9iamVjdC5wb3NpdGlvbi55ID0gTWF0aC5yb3VuZCggc2NvcGUub2JqZWN0LnBvc2l0aW9uLnkgLyBzY29wZS50cmFuc2xhdGlvblNuYXAgKSAqIHNjb3BlLnRyYW5zbGF0aW9uU25hcDtcbiAgICAgICAgICAgICAgICBpZiAoIHNjb3BlLmF4aXMuc2VhcmNoKCBcIlpcIiApICE9PSAtIDEgKSBzY29wZS5vYmplY3QucG9zaXRpb24ueiA9IE1hdGgucm91bmQoIHNjb3BlLm9iamVjdC5wb3NpdGlvbi56IC8gc2NvcGUudHJhbnNsYXRpb25TbmFwICkgKiBzY29wZS50cmFuc2xhdGlvblNuYXA7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHNjb3BlLnNwYWNlID09PSBcImxvY2FsXCIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LnBvc2l0aW9uLmFwcGx5TWF0cml4NCggd29ybGRSb3RhdGlvbk1hdHJpeCApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIGlmICggX21vZGUgPT09IFwic2NhbGVcIiApIHtcblxuICAgICAgICAgICAgcG9pbnQuc3ViKCBvZmZzZXQgKTtcbiAgICAgICAgICAgIHBvaW50Lm11bHRpcGx5KCBwYXJlbnRTY2FsZSApO1xuXG4gICAgICAgICAgICBpZiAoIHNjb3BlLnNwYWNlID09PSBcImxvY2FsXCIgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHNjb3BlLmF4aXMgPT09IFwiWFlaXCIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NhbGUgPSAxICsgKCAoIHBvaW50LnkgKSAvIE1hdGgubWF4KCBvbGRTY2FsZS54LCBvbGRTY2FsZS55LCBvbGRTY2FsZS56ICkgKTtcblxuICAgICAgICAgICAgICAgICAgICBzY29wZS5vYmplY3Quc2NhbGUueCA9IG9sZFNjYWxlLnggKiBzY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LnNjYWxlLnkgPSBvbGRTY2FsZS55ICogc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLm9iamVjdC5zY2FsZS56ID0gb2xkU2NhbGUueiAqIHNjYWxlO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBwb2ludC5hcHBseU1hdHJpeDQoIHRlbXBNYXRyaXguZ2V0SW52ZXJzZSggd29ybGRSb3RhdGlvbk1hdHJpeCApICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBzY29wZS5heGlzID09PSBcIlhcIiApIHNjb3BlLm9iamVjdC5zY2FsZS54ID0gb2xkU2NhbGUueCAqICggMSArIHBvaW50LnggLyBvbGRTY2FsZS54ICk7XG4gICAgICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcyA9PT0gXCJZXCIgKSBzY29wZS5vYmplY3Quc2NhbGUueSA9IG9sZFNjYWxlLnkgKiAoIDEgKyBwb2ludC55IC8gb2xkU2NhbGUueSApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIHNjb3BlLmF4aXMgPT09IFwiWlwiICkgc2NvcGUub2JqZWN0LnNjYWxlLnogPSBvbGRTY2FsZS56ICogKCAxICsgcG9pbnQueiAvIG9sZFNjYWxlLnogKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSBpZiAoIF9tb2RlID09PSBcInJvdGF0ZVwiICkge1xuXG4gICAgICAgICAgICBwb2ludC5zdWIoIHdvcmxkUG9zaXRpb24gKTtcbiAgICAgICAgICAgIHBvaW50Lm11bHRpcGx5KCBwYXJlbnRTY2FsZSApO1xuICAgICAgICAgICAgdGVtcFZlY3Rvci5jb3B5KCBvZmZzZXQgKS5zdWIoIHdvcmxkUG9zaXRpb24gKTtcbiAgICAgICAgICAgIHRlbXBWZWN0b3IubXVsdGlwbHkoIHBhcmVudFNjYWxlICk7XG5cbiAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcyA9PT0gXCJFXCIgKSB7XG5cbiAgICAgICAgICAgICAgICBwb2ludC5hcHBseU1hdHJpeDQoIHRlbXBNYXRyaXguZ2V0SW52ZXJzZSggbG9va0F0TWF0cml4ICkgKTtcbiAgICAgICAgICAgICAgICB0ZW1wVmVjdG9yLmFwcGx5TWF0cml4NCggdGVtcE1hdHJpeC5nZXRJbnZlcnNlKCBsb29rQXRNYXRyaXggKSApO1xuXG4gICAgICAgICAgICAgICAgcm90YXRpb24uc2V0KCBNYXRoLmF0YW4yKCBwb2ludC56LCBwb2ludC55ICksIE1hdGguYXRhbjIoIHBvaW50LngsIHBvaW50LnogKSwgTWF0aC5hdGFuMiggcG9pbnQueSwgcG9pbnQueCApICk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0Um90YXRpb24uc2V0KCBNYXRoLmF0YW4yKCB0ZW1wVmVjdG9yLnosIHRlbXBWZWN0b3IueSApLCBNYXRoLmF0YW4yKCB0ZW1wVmVjdG9yLngsIHRlbXBWZWN0b3IueiApLCBNYXRoLmF0YW4yKCB0ZW1wVmVjdG9yLnksIHRlbXBWZWN0b3IueCApICk7XG5cbiAgICAgICAgICAgICAgICB0ZW1wUXVhdGVybmlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgoIHRlbXBNYXRyaXguZ2V0SW52ZXJzZSggcGFyZW50Um90YXRpb25NYXRyaXggKSApO1xuXG4gICAgICAgICAgICAgICAgcXVhdGVybmlvbkUuc2V0RnJvbUF4aXNBbmdsZSggZXllLCByb3RhdGlvbi56IC0gb2Zmc2V0Um90YXRpb24ueiApO1xuICAgICAgICAgICAgICAgIHF1YXRlcm5pb25YWVouc2V0RnJvbVJvdGF0aW9uTWF0cml4KCB3b3JsZFJvdGF0aW9uTWF0cml4ICk7XG5cbiAgICAgICAgICAgICAgICB0ZW1wUXVhdGVybmlvbi5tdWx0aXBseVF1YXRlcm5pb25zKCB0ZW1wUXVhdGVybmlvbiwgcXVhdGVybmlvbkUgKTtcbiAgICAgICAgICAgICAgICB0ZW1wUXVhdGVybmlvbi5tdWx0aXBseVF1YXRlcm5pb25zKCB0ZW1wUXVhdGVybmlvbiwgcXVhdGVybmlvblhZWiApO1xuXG4gICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LnF1YXRlcm5pb24uY29weSggdGVtcFF1YXRlcm5pb24gKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICggc2NvcGUuYXhpcyA9PT0gXCJYWVpFXCIgKSB7XG5cbiAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uRS5zZXRGcm9tRXVsZXIoIHBvaW50LmNsb25lKCkuY3Jvc3MoIHRlbXBWZWN0b3IgKS5ub3JtYWxpemUoKSApOyAvLyByb3RhdGlvbiBheGlzXG5cbiAgICAgICAgICAgICAgICB0ZW1wUXVhdGVybmlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgoIHRlbXBNYXRyaXguZ2V0SW52ZXJzZSggcGFyZW50Um90YXRpb25NYXRyaXggKSApO1xuICAgICAgICAgICAgICAgIHF1YXRlcm5pb25YLnNldEZyb21BeGlzQW5nbGUoIHF1YXRlcm5pb25FLCAtIHBvaW50LmNsb25lKCkuYW5nbGVUbyggdGVtcFZlY3RvciApICk7XG4gICAgICAgICAgICAgICAgcXVhdGVybmlvblhZWi5zZXRGcm9tUm90YXRpb25NYXRyaXgoIHdvcmxkUm90YXRpb25NYXRyaXggKTtcblxuICAgICAgICAgICAgICAgIHRlbXBRdWF0ZXJuaW9uLm11bHRpcGx5UXVhdGVybmlvbnMoIHRlbXBRdWF0ZXJuaW9uLCBxdWF0ZXJuaW9uWCApO1xuICAgICAgICAgICAgICAgIHRlbXBRdWF0ZXJuaW9uLm11bHRpcGx5UXVhdGVybmlvbnMoIHRlbXBRdWF0ZXJuaW9uLCBxdWF0ZXJuaW9uWFlaICk7XG5cbiAgICAgICAgICAgICAgICBzY29wZS5vYmplY3QucXVhdGVybmlvbi5jb3B5KCB0ZW1wUXVhdGVybmlvbiApO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCBzY29wZS5zcGFjZSA9PT0gXCJsb2NhbFwiICkge1xuXG4gICAgICAgICAgICAgICAgcG9pbnQuYXBwbHlNYXRyaXg0KCB0ZW1wTWF0cml4LmdldEludmVyc2UoIHdvcmxkUm90YXRpb25NYXRyaXggKSApO1xuXG4gICAgICAgICAgICAgICAgdGVtcFZlY3Rvci5hcHBseU1hdHJpeDQoIHRlbXBNYXRyaXguZ2V0SW52ZXJzZSggd29ybGRSb3RhdGlvbk1hdHJpeCApICk7XG5cbiAgICAgICAgICAgICAgICByb3RhdGlvbi5zZXQoIE1hdGguYXRhbjIoIHBvaW50LnosIHBvaW50LnkgKSwgTWF0aC5hdGFuMiggcG9pbnQueCwgcG9pbnQueiApLCBNYXRoLmF0YW4yKCBwb2ludC55LCBwb2ludC54ICkgKTtcbiAgICAgICAgICAgICAgICBvZmZzZXRSb3RhdGlvbi5zZXQoIE1hdGguYXRhbjIoIHRlbXBWZWN0b3IueiwgdGVtcFZlY3Rvci55ICksIE1hdGguYXRhbjIoIHRlbXBWZWN0b3IueCwgdGVtcFZlY3Rvci56ICksIE1hdGguYXRhbjIoIHRlbXBWZWN0b3IueSwgdGVtcFZlY3Rvci54ICkgKTtcblxuICAgICAgICAgICAgICAgIHF1YXRlcm5pb25YWVouc2V0RnJvbVJvdGF0aW9uTWF0cml4KCBvbGRSb3RhdGlvbk1hdHJpeCApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5yb3RhdGlvblNuYXAgIT09IG51bGwgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcXVhdGVybmlvblguc2V0RnJvbUF4aXNBbmdsZSggdW5pdFgsIE1hdGgucm91bmQoICggcm90YXRpb24ueCAtIG9mZnNldFJvdGF0aW9uLnggKSAvIHNjb3BlLnJvdGF0aW9uU25hcCApICogc2NvcGUucm90YXRpb25TbmFwICk7XG4gICAgICAgICAgICAgICAgICAgIHF1YXRlcm5pb25ZLnNldEZyb21BeGlzQW5nbGUoIHVuaXRZLCBNYXRoLnJvdW5kKCAoIHJvdGF0aW9uLnkgLSBvZmZzZXRSb3RhdGlvbi55ICkgLyBzY29wZS5yb3RhdGlvblNuYXAgKSAqIHNjb3BlLnJvdGF0aW9uU25hcCApO1xuICAgICAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uWi5zZXRGcm9tQXhpc0FuZ2xlKCB1bml0WiwgTWF0aC5yb3VuZCggKCByb3RhdGlvbi56IC0gb2Zmc2V0Um90YXRpb24ueiApIC8gc2NvcGUucm90YXRpb25TbmFwICkgKiBzY29wZS5yb3RhdGlvblNuYXAgKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcXVhdGVybmlvblguc2V0RnJvbUF4aXNBbmdsZSggdW5pdFgsIHJvdGF0aW9uLnggLSBvZmZzZXRSb3RhdGlvbi54ICk7XG4gICAgICAgICAgICAgICAgICAgIHF1YXRlcm5pb25ZLnNldEZyb21BeGlzQW5nbGUoIHVuaXRZLCByb3RhdGlvbi55IC0gb2Zmc2V0Um90YXRpb24ueSApO1xuICAgICAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uWi5zZXRGcm9tQXhpc0FuZ2xlKCB1bml0Wiwgcm90YXRpb24ueiAtIG9mZnNldFJvdGF0aW9uLnogKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcyA9PT0gXCJYXCIgKSBxdWF0ZXJuaW9uWFlaLm11bHRpcGx5UXVhdGVybmlvbnMoIHF1YXRlcm5pb25YWVosIHF1YXRlcm5pb25YICk7XG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5heGlzID09PSBcIllcIiApIHF1YXRlcm5pb25YWVoubXVsdGlwbHlRdWF0ZXJuaW9ucyggcXVhdGVybmlvblhZWiwgcXVhdGVybmlvblkgKTtcbiAgICAgICAgICAgICAgICBpZiAoIHNjb3BlLmF4aXMgPT09IFwiWlwiICkgcXVhdGVybmlvblhZWi5tdWx0aXBseVF1YXRlcm5pb25zKCBxdWF0ZXJuaW9uWFlaLCBxdWF0ZXJuaW9uWiApO1xuXG4gICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LnF1YXRlcm5pb24uY29weSggcXVhdGVybmlvblhZWiApO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCBzY29wZS5zcGFjZSA9PT0gXCJ3b3JsZFwiICkge1xuXG4gICAgICAgICAgICAgICAgcm90YXRpb24uc2V0KCBNYXRoLmF0YW4yKCBwb2ludC56LCBwb2ludC55ICksIE1hdGguYXRhbjIoIHBvaW50LngsIHBvaW50LnogKSwgTWF0aC5hdGFuMiggcG9pbnQueSwgcG9pbnQueCApICk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0Um90YXRpb24uc2V0KCBNYXRoLmF0YW4yKCB0ZW1wVmVjdG9yLnosIHRlbXBWZWN0b3IueSApLCBNYXRoLmF0YW4yKCB0ZW1wVmVjdG9yLngsIHRlbXBWZWN0b3IueiApLCBNYXRoLmF0YW4yKCB0ZW1wVmVjdG9yLnksIHRlbXBWZWN0b3IueCApICk7XG5cbiAgICAgICAgICAgICAgICB0ZW1wUXVhdGVybmlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgoIHRlbXBNYXRyaXguZ2V0SW52ZXJzZSggcGFyZW50Um90YXRpb25NYXRyaXggKSApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5yb3RhdGlvblNuYXAgIT09IG51bGwgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcXVhdGVybmlvblguc2V0RnJvbUF4aXNBbmdsZSggdW5pdFgsIE1hdGgucm91bmQoICggcm90YXRpb24ueCAtIG9mZnNldFJvdGF0aW9uLnggKSAvIHNjb3BlLnJvdGF0aW9uU25hcCApICogc2NvcGUucm90YXRpb25TbmFwICk7XG4gICAgICAgICAgICAgICAgICAgIHF1YXRlcm5pb25ZLnNldEZyb21BeGlzQW5nbGUoIHVuaXRZLCBNYXRoLnJvdW5kKCAoIHJvdGF0aW9uLnkgLSBvZmZzZXRSb3RhdGlvbi55ICkgLyBzY29wZS5yb3RhdGlvblNuYXAgKSAqIHNjb3BlLnJvdGF0aW9uU25hcCApO1xuICAgICAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uWi5zZXRGcm9tQXhpc0FuZ2xlKCB1bml0WiwgTWF0aC5yb3VuZCggKCByb3RhdGlvbi56IC0gb2Zmc2V0Um90YXRpb24ueiApIC8gc2NvcGUucm90YXRpb25TbmFwICkgKiBzY29wZS5yb3RhdGlvblNuYXAgKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcXVhdGVybmlvblguc2V0RnJvbUF4aXNBbmdsZSggdW5pdFgsIHJvdGF0aW9uLnggLSBvZmZzZXRSb3RhdGlvbi54ICk7XG4gICAgICAgICAgICAgICAgICAgIHF1YXRlcm5pb25ZLnNldEZyb21BeGlzQW5nbGUoIHVuaXRZLCByb3RhdGlvbi55IC0gb2Zmc2V0Um90YXRpb24ueSApO1xuICAgICAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uWi5zZXRGcm9tQXhpc0FuZ2xlKCB1bml0Wiwgcm90YXRpb24ueiAtIG9mZnNldFJvdGF0aW9uLnogKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHF1YXRlcm5pb25YWVouc2V0RnJvbVJvdGF0aW9uTWF0cml4KCB3b3JsZFJvdGF0aW9uTWF0cml4ICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHNjb3BlLmF4aXMgPT09IFwiWFwiICkgdGVtcFF1YXRlcm5pb24ubXVsdGlwbHlRdWF0ZXJuaW9ucyggdGVtcFF1YXRlcm5pb24sIHF1YXRlcm5pb25YICk7XG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5heGlzID09PSBcIllcIiApIHRlbXBRdWF0ZXJuaW9uLm11bHRpcGx5UXVhdGVybmlvbnMoIHRlbXBRdWF0ZXJuaW9uLCBxdWF0ZXJuaW9uWSApO1xuICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcyA9PT0gXCJaXCIgKSB0ZW1wUXVhdGVybmlvbi5tdWx0aXBseVF1YXRlcm5pb25zKCB0ZW1wUXVhdGVybmlvbiwgcXVhdGVybmlvblogKTtcblxuICAgICAgICAgICAgICAgIHRlbXBRdWF0ZXJuaW9uLm11bHRpcGx5UXVhdGVybmlvbnMoIHRlbXBRdWF0ZXJuaW9uLCBxdWF0ZXJuaW9uWFlaICk7XG5cbiAgICAgICAgICAgICAgICBzY29wZS5vYmplY3QucXVhdGVybmlvbi5jb3B5KCB0ZW1wUXVhdGVybmlvbiApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xuICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KCBjaGFuZ2VFdmVudCApO1xuICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KCBvYmplY3RDaGFuZ2VFdmVudCApO1xuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Qb2ludGVyVXAoIGV2ZW50ICkge1xuXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIFByZXZlbnQgTW91c2VFdmVudCBvbiBtb2JpbGVcblxuICAgICAgICBpZiAoIGV2ZW50LmJ1dHRvbiAhPT0gdW5kZWZpbmVkICYmIGV2ZW50LmJ1dHRvbiAhPT0gMCApIHJldHVybjtcblxuICAgICAgICBpZiAoIF9kcmFnZ2luZyAmJiAoIHNjb3BlLmF4aXMgIT09IG51bGwgKSApIHtcblxuICAgICAgICAgICAgbW91c2VVcEV2ZW50Lm1vZGUgPSBfbW9kZTtcbiAgICAgICAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoIG1vdXNlVXBFdmVudCApO1xuXG4gICAgICAgIH1cblxuICAgICAgICBfZHJhZ2dpbmcgPSBmYWxzZTtcblxuICAgICAgICBpZiAoICdUb3VjaEV2ZW50JyBpbiB3aW5kb3cgJiYgZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50ICkge1xuXG4gICAgICAgICAgICAvLyBGb3JjZSBcInJvbGxvdmVyXCJcblxuICAgICAgICAgICAgc2NvcGUuYXhpcyA9IG51bGw7XG4gICAgICAgICAgICBzY29wZS51cGRhdGUoKTtcbiAgICAgICAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoIGNoYW5nZUV2ZW50ICk7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgb25Qb2ludGVySG92ZXIoIGV2ZW50ICk7XG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW50ZXJzZWN0T2JqZWN0cyggcG9pbnRlciwgb2JqZWN0cyApIHtcblxuICAgICAgICB2YXIgcmVjdCA9IGRvbUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciB4ID0gKCBwb2ludGVyLmNsaWVudFggLSByZWN0LmxlZnQgKSAvIHJlY3Qud2lkdGg7XG4gICAgICAgIHZhciB5ID0gKCBwb2ludGVyLmNsaWVudFkgLSByZWN0LnRvcCApIC8gcmVjdC5oZWlnaHQ7XG5cbiAgICAgICAgcG9pbnRlclZlY3Rvci5zZXQoICggeCAqIDIgKSAtIDEsIC0gKCB5ICogMiApICsgMSApO1xuICAgICAgICByYXkuc2V0RnJvbUNhbWVyYSggcG9pbnRlclZlY3RvciwgY2FtZXJhICk7XG5cbiAgICAgICAgdmFyIGludGVyc2VjdGlvbnMgPSByYXkuaW50ZXJzZWN0T2JqZWN0cyggb2JqZWN0cywgdHJ1ZSApO1xuICAgICAgICByZXR1cm4gaW50ZXJzZWN0aW9uc1sgMCBdID8gaW50ZXJzZWN0aW9uc1sgMCBdIDogZmFsc2U7XG5cbiAgICB9XG5cbn1cblxuVHJhbnNmb3JtQ29udHJvbHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVEhSRUUuT2JqZWN0M0QucHJvdG90eXBlICk7XG5UcmFuc2Zvcm1Db250cm9scy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUcmFuc2Zvcm1Db250cm9scztcblxuZXhwb3J0IHsgVHJhbnNmb3JtQ29udHJvbHMgfVxuIl0sIm5hbWVzIjpbIkRlZmF1bHRIYW5kbGVzIiwiR2l6bW9NYXRlcmlhbCIsInBhcmFtZXRlcnMiLCJNZXNoQmFzaWNNYXRlcmlhbCIsImNhbGwiLCJkZXB0aFRlc3QiLCJkZXB0aFdyaXRlIiwic2lkZSIsIlRIUkVFIiwiRnJvbnRTaWRlIiwidHJhbnNwYXJlbnQiLCJzZXRWYWx1ZXMiLCJvbGRDb2xvciIsImNvbG9yIiwiY2xvbmUiLCJvbGRPcGFjaXR5Iiwib3BhY2l0eSIsImhpZ2hsaWdodCIsImhpZ2hsaWdodGVkIiwic2V0UkdCIiwiY29weSIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwiR2l6bW9MaW5lTWF0ZXJpYWwiLCJMaW5lQmFzaWNNYXRlcmlhbCIsImxpbmV3aWR0aCIsImludmlzaWJsZU1hdGVyaWFsIiwidmlzaWJsZSIsImdpem1vRnJvbU1hcCIsImdpem1vTWFwIiwiZ2l6bW8iLCJPYmplY3QzRCIsIm5hbWUiLCJpIiwibGVuZ3RoIiwib2JqZWN0IiwicG9zaXRpb24iLCJyb3RhdGlvbiIsInNldCIsImFkZCIsInRyYW5zbGF0ZUhhbmRsZXMiLCJhcnJvd0dlb21ldHJ5IiwiR2VvbWV0cnkiLCJtZXNoIiwiTWVzaCIsIkN5bGluZGVyR2VvbWV0cnkiLCJ5IiwidXBkYXRlTWF0cml4IiwibWVyZ2UiLCJnZW9tZXRyeSIsIm1hdHJpeCIsImxpbmVYR2VvbWV0cnkiLCJCdWZmZXJHZW9tZXRyeSIsImFkZEF0dHJpYnV0ZSIsIkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUiLCJsaW5lWUdlb21ldHJ5IiwibGluZVpHZW9tZXRyeSIsIk1hdGgiLCJQSSIsIkxpbmUiLCJDeWxpbmRlckJ1ZmZlckdlb21ldHJ5IiwiT2N0YWhlZHJvbkdlb21ldHJ5IiwiUGxhbmVCdWZmZXJHZW9tZXRyeSIsInJvdGF0ZUhhbmRsZXMiLCJDaXJjbGVHZW9tZXRyeSIsInJhZGl1cyIsImZhY2luZyIsImFyYyIsInZlcnRpY2VzIiwicHVzaCIsImNvcyIsInNpbiIsIlRvcnVzQnVmZmVyR2VvbWV0cnkiLCJzY2FsZUhhbmRsZXMiLCJCb3hHZW9tZXRyeSIsIkJveEJ1ZmZlckdlb21ldHJ5IiwiVHJhbnNmb3JtR2l6bW8iLCJoYW5kbGVzIiwiaW5pdCIsInBsYW5lcyIsInBsYW5lR2VvbWV0cnkiLCJwbGFuZU1hdGVyaWFsIiwiRG91YmxlU2lkZSIsImFjdGl2ZVBsYW5lIiwidHJhdmVyc2UiLCJjaGlsZCIsInRlbXBHZW9tZXRyeSIsImFwcGx5TWF0cml4Iiwic2NhbGUiLCJzZXRIYW5kbGVzIiwicmVtb3ZlIiwiYXhpcyIsIm1hdGVyaWFsIiwidXBkYXRlIiwiZXllIiwidmVjMSIsIlZlY3RvcjMiLCJ2ZWMyIiwibG9va0F0TWF0cml4IiwiTWF0cml4NCIsInNlYXJjaCIsInF1YXRlcm5pb24iLCJzZXRGcm9tUm90YXRpb25NYXRyaXgiLCJsb29rQXQiLCJzZXRGcm9tRXVsZXIiLCJUcmFuc2Zvcm1HaXptb1RyYW5zbGF0ZSIsInNldEFjdGl2ZVBsYW5lIiwidGVtcE1hdHJpeCIsImFwcGx5TWF0cml4NCIsImdldEludmVyc2UiLCJleHRyYWN0Um90YXRpb24iLCJtYXRyaXhXb3JsZCIsImFicyIsInoiLCJ4IiwiVHJhbnNmb3JtR2l6bW9Sb3RhdGUiLCJleWUyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJncm91cCIsIndvcmxkUm90YXRpb24iLCJFdWxlciIsInRlbXBRdWF0ZXJuaW9uIiwiUXVhdGVybmlvbiIsInVuaXRYIiwidW5pdFkiLCJ1bml0WiIsInF1YXRlcm5pb25YIiwicXVhdGVybmlvblkiLCJxdWF0ZXJuaW9uWiIsIm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uIiwic2V0RnJvbUF4aXNBbmdsZSIsImF0YW4yIiwibXVsdGlwbHlRdWF0ZXJuaW9ucyIsIlRyYW5zZm9ybUdpem1vU2NhbGUiLCJUcmFuc2Zvcm1Db250cm9scyIsImNhbWVyYSIsImRvbUVsZW1lbnQiLCJ1bmRlZmluZWQiLCJkb2N1bWVudCIsImRlZmF1bHRIYW5kbGVzIiwidHJhbnNsYXRpb25TbmFwIiwicm90YXRpb25TbmFwIiwic3BhY2UiLCJzaXplIiwiZHJhZ09iamVjdCIsInNjb3BlIiwiX21vZGUiLCJfZHJhZ2dpbmciLCJfcGxhbmUiLCJfZ2l6bW8iLCJ0eXBlIiwiZ2l6bW9PYmoiLCJjaGFuZ2VFdmVudCIsIm1vdXNlRG93bkV2ZW50IiwibW91c2VVcEV2ZW50IiwibW9kZSIsIm9iamVjdENoYW5nZUV2ZW50IiwicmF5IiwiUmF5Y2FzdGVyIiwibGluZVByZWNpc2lvbiIsInBvaW50ZXJWZWN0b3IiLCJWZWN0b3IyIiwicG9pbnQiLCJvZmZzZXQiLCJvZmZzZXRSb3RhdGlvbiIsInRlbXBWZWN0b3IiLCJxdWF0ZXJuaW9uWFlaIiwicXVhdGVybmlvbkUiLCJvbGRQb3NpdGlvbiIsIm9sZFNjYWxlIiwib2xkUm90YXRpb25NYXRyaXgiLCJwYXJlbnRSb3RhdGlvbk1hdHJpeCIsInBhcmVudFNjYWxlIiwid29ybGRQb3NpdGlvbiIsIndvcmxkUm90YXRpb25NYXRyaXgiLCJjYW1Qb3NpdGlvbiIsImNhbVJvdGF0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uUG9pbnRlckRvd24iLCJvblBvaW50ZXJIb3ZlciIsIm9uUG9pbnRlck1vdmUiLCJvblBvaW50ZXJVcCIsImRpc3Bvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYXR0YWNoIiwiZGV0YWNoIiwiZ2V0TW9kZSIsInNldE1vZGUiLCJkaXNwYXRjaEV2ZW50Iiwic2V0VHJhbnNsYXRpb25TbmFwIiwic2V0Um90YXRpb25TbmFwIiwic2V0U2l6ZSIsInNldFNwYWNlIiwidXBkYXRlTWF0cml4V29ybGQiLCJzZXRGcm9tTWF0cml4UG9zaXRpb24iLCJkaXN0YW5jZVRvIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJzdWIiLCJub3JtYWxpemUiLCJPcnRob2dyYXBoaWNDYW1lcmEiLCJldmVudCIsImJ1dHRvbiIsInBvaW50ZXIiLCJjaGFuZ2VkVG91Y2hlcyIsImludGVyc2VjdCIsImludGVyc2VjdE9iamVjdHMiLCJjaGlsZHJlbiIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwicGxhbmVJbnRlcnNlY3QiLCJwYXJlbnQiLCJzZXRGcm9tTWF0cml4U2NhbGUiLCJtdWx0aXBseSIsInJvdW5kIiwibWF4IiwiY3Jvc3MiLCJhbmdsZVRvIiwid2luZG93IiwiVG91Y2hFdmVudCIsIm9iamVjdHMiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xpZW50WCIsImxlZnQiLCJ3aWR0aCIsImNsaWVudFkiLCJ0b3AiLCJoZWlnaHQiLCJzZXRGcm9tQ2FtZXJhIiwiaW50ZXJzZWN0aW9ucyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7OztBQUlBLEFBRUEsQUFFQSxTQUFTQSxjQUFULEdBQTBCOztRQUVsQkMsZ0JBQWdCLFNBQWhCQSxhQUFnQixDQUFXQyxVQUFYLEVBQXdCOztjQUVsQ0MsaUJBQU4sQ0FBd0JDLElBQXhCLENBQThCLElBQTlCOzthQUVLQyxTQUFMLEdBQWlCLEtBQWpCO2FBQ0tDLFVBQUwsR0FBa0IsS0FBbEI7YUFDS0MsSUFBTCxHQUFZQyxNQUFNQyxTQUFsQjthQUNLQyxXQUFMLEdBQW1CLElBQW5COzthQUVLQyxTQUFMLENBQWdCVCxVQUFoQjs7YUFFS1UsUUFBTCxHQUFnQixLQUFLQyxLQUFMLENBQVdDLEtBQVgsRUFBaEI7YUFDS0MsVUFBTCxHQUFrQixLQUFLQyxPQUF2Qjs7YUFFS0MsU0FBTCxHQUFpQixVQUFVQyxXQUFWLEVBQXdCOztnQkFFaENBLFdBQUwsRUFBbUI7O3FCQUVWTCxLQUFMLENBQVdNLE1BQVgsQ0FBbUIsQ0FBbkIsRUFBc0IsQ0FBdEIsRUFBeUIsQ0FBekI7cUJBQ0tILE9BQUwsR0FBZSxDQUFmO2FBSEosTUFLTzs7cUJBRUVILEtBQUwsQ0FBV08sSUFBWCxDQUFpQixLQUFLUixRQUF0QjtxQkFDS0ksT0FBTCxHQUFlLEtBQUtELFVBQXBCOztTQVZSO0tBZEo7O2tCQWdDY00sU0FBZCxHQUEwQkMsT0FBT0MsTUFBUCxDQUFlZixNQUFNTCxpQkFBTixDQUF3QmtCLFNBQXZDLENBQTFCO2tCQUNjQSxTQUFkLENBQXdCRyxXQUF4QixHQUFzQ3ZCLGFBQXRDOztRQUdJd0Isb0JBQW9CLFNBQXBCQSxpQkFBb0IsQ0FBV3ZCLFVBQVgsRUFBd0I7O2NBRXRDd0IsaUJBQU4sQ0FBd0J0QixJ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\n","/**\n * @author kennethjiang / https://github.com/kennethjiang\n *\n *\n * Description: A THREE view port for STL models\n *\n * Usage:\n *  var viewPort = new THREE.STLViewPort(canvas, width, height, function() {\n *     //things to do when any model in the view port changes\n *  });\n *  viewPort.init();\n *  viewPort.loadSTL(url, fucntion(model) {\n *     viewPort.makeModelActive(model);\n *     //things to do when model is loaded\n *  });\n *  var scene = viewPort.scene; // direct access to the scene for to add THREE.Object\n *\n */\n\n\n'use strict';\n\nimport * as THREETK from '3tk';\n\nexport function STLViewPort( canvas, width, height, onChange, onNewModel ) {\n\n    var self = this;\n\n    self.canvas = canvas;\n    self.canvasWidth = width;\n    self.canvasHeight = height;\n    self.onChange = onChange;\n    self.onNewModel = onNewModel;\n\n    self.models = [];\n\n    self.effectController = {\n        metalness: 0.5,\n        roughness: 0.5,\n        modelInactiveColor: new THREE.Color(\"#60715b\"),\n        modelActiveColor: new THREE.Color(\"#34bf0d\"),\n        ambientLightColor: new THREE.Color(\"#2b2b2b\"),\n        directionalLightColor: new THREE.Color(\"#ffffff\"),\n    };\n\n    self.init = function() {\n\n        self.camera = new THREE.PerspectiveCamera( 45, 1.0, 0.1, 5000 );\n\n        self.camera.up.set( 0, 0, 1 );\n        self.camera.position.set( -100, -200, 250 );\n\n        self.scene = new THREE.Scene();\n\n        // Lights\n        var ambientLight = new THREE.AmbientLight( self.effectController.ambientLightColor );  // 0.2\n        self.scene.add( ambientLight );\n        var directionalLight = new THREE.DirectionalLight(self.effectController.directionalLightColor, 1.0);\n        directionalLight.position.set( 100, 100, 500 );\n        self.scene.add( directionalLight );\n        var directionalLight2= new THREE.DirectionalLight(self.effectController.directionalLightColor, 1.0);\n        directionalLight2.position.set( 100, 100, -500);\n        self.scene.add( directionalLight2);\n\n        self.renderer = new THREE.WebGLRenderer( { canvas: self.canvas, antialias: true } );\n\n        self.renderer.setClearColor( 0xd8d8d8 );\n        self.renderer.setSize( self.canvasWidth, self.canvasHeight );\n        self.renderer.setPixelRatio( window.devicePixelRatio );\n\n        self.renderer.gammaInput = true;\n        self.renderer.gammaOutput = true;\n\n        self.orbitControls = new THREE.OrbitControls(self.camera, self.renderer.domElement);\n\n        self.orbitControls.enableDamping = true;\n        self.orbitControls.dampingFactor = 0.25;\n        self.orbitControls.enablePan = false;\n        self.orbitControls.addEventListener(\"change\", self.render);\n\n        self.transformControls = new THREETK.TransformControls(self.camera, self.renderer.domElement);\n\n        self.transformControls.setRotationSnap( THREE.Math.degToRad( 15 ) )\n        self.transformControls.addEventListener(\"change\", self.render);\n        self.transformControls.addEventListener(\"mouseDown\", self.startTransform);\n        self.transformControls.addEventListener(\"mouseUp\", self.endTransform);\n        self.transformControls.addEventListener(\"change\", self.onChange);\n        self.scene.add(self.transformControls);\n\n        window.addEventListener( 'keydown', function ( event ) {\n            switch ( event.keyCode ) {\n                case 17: // Ctrl\n                    self.transformControls.setRotationSnap(null);\n                    break;\n            }\n        });\n\n        window.addEventListener( 'keyup', function ( event ) {\n            switch ( event.keyCode ) {\n                case 17: // Ctrl\n                    self.transformControls.setRotationSnap( THREE.Math.degToRad( 15 ) );\n                    break;\n            }\n        });\n\n        // Unforutnately built-in \"click\" event is fired when it's a drag. We need all these complexity to detect real click (no mousemoves between mousedown and mouseup)\n        self.canvas.addEventListener(\"mousedown\", function() { self.lastMouseEvent = \"mousedown\" });\n        self.canvas.addEventListener(\"mousemove\", function() { self.lastMouseEvent = \"mousemove\" });\n        self.canvas.addEventListener(\"mouseup\", function(e) { if (self.lastMouseEvent == \"mousedown\") self.pickActiveModel(e); });\n\n        self.render();\n    };\n\n    self.render = function() {\n        self.orbitControls.update();\n        self.transformControls.update();\n        self.renderer.render( self.scene, self.camera );\n    };\n\n\n    self.loadSTL = function ( url, onLoad ) {\n        new THREE.STLLoader().load(url, function ( geometry ) {\n            self.onNewModel([\n                self.addModelOfGeometry(geometry)\n            ]);\n        });\n    };\n\n    self.addModelOfGeometry = function( geometry, modelToCopyTransformFrom ) {\n        var material = new THREE.MeshStandardMaterial({\n            color: self.effectController.modelInactiveColor,  // We'll mark it active below.\n            shading: THREE.SmoothShading,\n            side: THREE.DoubleSide,\n            metalness: self.effectController.metalness,\n            roughness: self.effectController.roughness });\n\n        var stlModel = new THREE.Mesh( geometry, material );\n\n        // center model's origin\n        var center = new THREE.Box3().setFromObject(stlModel).center();\n        var model = new THREE.Object3D();\n        model.add(stlModel);\n        stlModel.position.copy(center.negate());\n        if (modelToCopyTransformFrom) {\n            model.rotation.copy(modelToCopyTransformFrom.rotation);\n            model.scale.copy(modelToCopyTransformFrom.scale);\n        }\n\n        self.scene.add(model);\n        self.render();\n\n        self.models.push(model);\n        return model;\n    };\n\n    self.activeModel = function() {\n        return self.transformControls.object;\n    }\n\n    self.pickActiveModel = function( event ) {\n        var rect = self.canvas.getBoundingClientRect();\n        var x = (event.clientX - rect.left) / rect.width;\n        var y = (event.clientY - rect.top) / rect.height;\n\n        var pointerVector = new THREE.Vector2();\n        pointerVector.set((x*2) - 1, -(y*2) + 1);\n        var ray = new THREE.Raycaster();\n        ray.setFromCamera(pointerVector, self.camera);\n\n        // Clicking should cycle through the stlFiles if there are multiple under the cursor.\n        var foundActiveModel = false;\n        var nextPointedModel = undefined;\n        var firstPointedModel = undefined;\n        for (var i = 0; i < self.models.length; i++) {\n            var model = self.models[i];\n            var intersections = ray.intersectObjects( model.children, true ); // Not sure why ray will intersect the children but not the model itself.\n            if (!intersections[0]) {\n                continue;\n            }\n            if (!firstPointedModel) {\n                firstPointedModel = model;\n            }\n            if (foundActiveModel && !nextPointedModel) {\n                nextPointedModel = model;\n            }\n            if (self.activeModel() == model) {\n                foundActiveModel = true;\n            }\n        }\n        if (nextPointedModel) {\n            self.makeModelActive(nextPointedModel);\n        } else if (firstPointedModel) {\n            self.makeModelActive(firstPointedModel);\n        }\n    };\n\n    /**\n     * params:\n     *    m: model to make active. Clear active model if m is undefined\n     *\n     */\n    self.makeModelActive = function(m) {\n        // Sets one file active and inactivates all the others.\n        if (m) {\n            self.transformControls.attach(m);\n        } else {\n            self.transformControls.detach();\n        }\n\n        for (var i = 0; i < self.models.length; i++) {\n            var model = self.models[i];\n            if (model == self.activeModel()) {\n                model.children[0].material.color.copy(self.effectController.modelActiveColor);\n            } else {\n                model.children[0].material.color.copy(self.effectController.modelInactiveColor);\n            }\n        }\n\n        self.render();\n        self.onChange();\n    };\n\n    self.removeActiveModel = function() {\n        if (!self.activeModel()) {\n            return undefined;\n        } else {\n            var model = self.activeModel();\n\n            var index = self.models.indexOf(model);\n            if (index > -1) {\n                self.models.splice(index, 1);\n            }\n\n            self.scene.remove(model);\n            self.makeModelActive(undefined);\n            return model;\n        }\n    };\n\n    self.removeAllModels = function() {\n        for (var i = 0; i < self.models.length; i++) {\n            self.scene.remove(self.models[i]);\n        }\n        self.models = [];\n        self.makeModelActive(undefined);\n    }\n\n    self.splitActiveModel = function() {\n        if (!self.activeModel()) {\n            return;\n        } else {\n            var originalModel = self.removeActiveModel()\n            var geometry = originalModel.children[0].geometry;\n            var newGeometries = GeometryUtils.split(geometry);\n            self.onNewModel(\n                newGeometries.map( function(geometry) {\n                    return self.addModelOfGeometry( geometry, originalModel );\n                })\n            );\n        }\n    };\n\n    self.onlyOneOriginalModel = function() {\n        return self.models.length == 1  &&\n            self.models[0].position.x == 0.0 &&\n            self.models[0].position.y == 0.0 &&\n            self.models[0].rotation.x == 0.0 &&\n            self.models[0].rotation.y == 0.0 &&\n            self.models[0].rotation.z == 0.0 &&\n            self.models[0].scale.x == 1.0 &&\n            self.models[0].scale.y == 1.0 &&\n            self.models[0].scale.z == 1.0\n    };\n\n    self.startTransform = function () {\n        // Disable orbit controls\n        self.orbitControls.enabled = false;\n    };\n\n    self.endTransform = function () {\n        // Enable orbit controls\n        self.orbitControls.enabled = true;\n    };\n\n}\n","/*\n * View model for OctoPrint-Slicer\n *\n * Author: Kenneth Jiang\n * License: AGPLv3\n */\nko.bindingHandlers.numericValue = {\n    init : function(element, valueAccessor, allBindings, data, context) {\n        var interceptor = ko.computed({\n            read: function() {\n                return ko.unwrap(valueAccessor());\n            },\n            write: function(value) {\n                if (!isNaN(value)) {\n                    valueAccessor()(parseFloat(value));\n                }\n            },\n            disposeWhenNodeIsRemoved: element\n        });\n\n        ko.applyBindingsToNode(element, { value: interceptor }, context);\n    }\n};\n\nexport function OverridesViewModel(parameters, array_keys, enum_keys, item_keys, boolean_keys) {\n    var self = this;\n    self.slicingViewModel = parameters[0];\n\n    var ARRAY_KEYS = [\n        \"print_temperature\",\n        \"start_gcode\",\n        \"end_gcode\",\n        \"filament_diameter\"\n    ],\n        ENUM_KEYS = {\n            \"support\" : ko.observableArray([\"none\", \"buildplate\", \"everywhere\"]),\n            \"platform_adhesion\" : ko.observableArray([\"none\", \"brim\", \"raft\"])\n        },\n        ITEM_KEYS = [\n            \"layer_height\",\n            \"temperature\",\n            \"bed_temperature\",\n            \"print_bed_temperature\",\n            \"fill_density\",\n            \"wall_thickness\",\n            \"print_speed\",\n            \"solid_layer_thickness\",\n            \"travel_speed\",\n            \"outer_shell_speed\",\n            \"inner_shell_speed\",\n            \"infill_speed\",\n            \"bottom_layer_speed\",\n            \"filament_flow\",\n            \"retraction_speed\",\n            \"retraction_amount\",\n            \"extrusion_multiplier\",\n        ],\n        BOOLEAN_KEYS = [\n            \"support_material\",\n            \"overhangs\",\n            \"retraction_enable\",\n            \"fan_enabled\",\n            \"cooling\"\n        ];\n    var ALL_KEYS = BOOLEAN_KEYS.concat(ITEM_KEYS).concat(ARRAY_KEYS).concat(Object.keys(ENUM_KEYS));\n\n    // initialize all observables\n    _.forEach(ALL_KEYS, function(k) { self[\"profile.\" + k] = ko.observable(); });\n\n    self.optionsForKey = function(key) {\n        return ENUM_KEYS[key];\n    };\n\n    self.updateOverridesFromProfile = function(profile) {\n\n        // Some options are numeric but might have a percent sign after them.\n        // Remove the percent and save it to replace later.\n        self.endings = {};\n        var stripEndings = function(m, k) {\n            if (_.isString(m[k]) && m[k].endsWith(\"%\")) {\n                self.endings[k] = \"%\";\n                return m[k].slice(0,-1);\n            } else {\n                return m[k];\n            }\n        }\n\n        // Some options are booleans but can be stored as 0/1 or false/true.\n        // Convert to native true/false and keep track of the style.\n        self.booleans = {};\n        var convertBoolean = function(m, k) {\n            var BOOLS = [\n                [\"false\", \"true\"],\n                [\"False\", \"True\"],\n                [\"0\", \"1\"],\n            ];\n            if (m[k] === undefined) {\n                return undefined;\n            }\n            for (var boolType = 0; boolType < BOOLS.length; boolType++) {\n                for (var b = 0; b < BOOLS[boolType].length; b++) {\n                    if (m[k] === BOOLS[boolType][b]) {\n                        self.booleans[k] = BOOLS[boolType];\n                        return !!b;  // Convert 0 to false and 1 to true.\n                    }\n                }\n            }\n            return !!m[k]; // Just take a guess if we can't figure it out.\n        }\n\n\n        // Some options are arrays in cura but not Slic3r.  Keep track of which.\n        self.isArray = [];\n\n        _.forEach(ITEM_KEYS, function(k) { self[\"profile.\" + k]( stripEndings(profile,k) ); });\n        _.forEach(BOOLEAN_KEYS, function(k) { self[\"profile.\" + k]( convertBoolean(profile,k) ); });\n        _.forEach(ENUM_KEYS, function(v, k) { self[\"profile.\" + k]( profile[k] ); });\n        _.forEach(ARRAY_KEYS, function(k) {\n            // Some config options are arrays in cura but not in Slic3r.\n            // Detect which ones are arrays and only convert those.\n            if (_.isArray(profile[k])) {\n                self.isArray.push(k);  // Remember this for later.\n                self[\"profile.\" + k](profile[k][0]);\n            } else {\n                self[\"profile.\" + k](profile[k]);\n            }});\n    };\n\n\n    self.onProfileChange = function(newValue) {\n        if (newValue === undefined) {  // For some reason KO would fire event with newValue=undefined,\n            return;  // in which case we should ignore it otherwise things get messed up\n        }\n\n        var slicing = self.slicingViewModel;\n\n        if( !slicing.slicer() || !slicing.profile() ) {\n            return;\n        }\n\n        self.fetchSlicingProfile( slicing.slicer(), slicing.profile() );\n    };\n\n    self.fetchSlicingProfile = function(slicer, profile) {\n        if (self.profileAjax) {\n            self.profileAjax.abort();\n            self.profileAjax = undefined;\n        }\n\n        self.profileAjax = $.ajax({\n            url: API_BASEURL + \"slicing/\" + slicer + \"/profiles/\" + profile,\n            type: \"GET\",\n            // On success\n            success: function(data) {\n                self.updateOverridesFromProfile(data.data);\n            }\n        });\n    };\n\n    self.slicingViewModel.profile.subscribe( self.onProfileChange );\n    //\n    //End of Profile-handling mess\n\n\n    self.toJS = function() {\n        var result = ko.mapping.toJS(self, {\n            ignore: [\"slicingViewModel\",\n                \"updateOverridesFromProfile\",\n                \"updateOverrides\",\n                \"toJS\",\n                \"optionsForKey\",\n                \"stripEndings\",\n                \"isArray\",\n                \"endings\"]\n        });\n        _.forEach(ITEM_KEYS, function(k) {\n            if(self.endings.hasOwnProperty(k)) {\n                result[\"profile.\" + k] += self.endings[k];\n            }});\n        _.forEach(BOOLEAN_KEYS, function(k) {\n            if(self.booleans.hasOwnProperty(k)) {\n                // Convert false/true to the correct string.\n                result[\"profile.\" + k] = self.booleans[k][result[\"profile.\" + k]?1:0];\n            }});\n\n        for (var key in result) {\n            var baseKey = key.replace(\"profile.\", \"\");\n            // Convert it back to an array if it was an array originally.\n            if (_.contains(ARRAY_KEYS, baseKey) && _.contains(self.isArray, baseKey)) {\n                result[key] = [result[key]];\n            }\n        }\n\n        _.forEach(result, function(k) {\n            // If the value is undefined, must not be valid for this slicer.\n            if (result[k] === undefined) {\n                delete result[k];\n            }\n        });\n        return result;\n    };\n}\n\n// view model class, parameters for constructor, container to bind to\nOCTOPRINT_VIEWMODELS.push([\n    OverridesViewModel,\n    [ \"slicingViewModel\" ],\n    [ \"#basic_overrides\", \"#advanced_overrides\" ]\n]);\n","/*\n * View model for OctoPrint-Slicer\n *\n * Author: Kenneth Jiang\n * License: AGPLv3\n */\n\n'use strict';\n\nimport { STLViewPort } from './STLViewPort';\nimport { OverridesViewModel } from './profile_overrides';\n\nif (window.location.hostname != \"localhost\") {\n    Raven.config('https://85bd9314656d40da9249aec5a32a2b52@sentry.io/141297', {\n        release: '0.9.6',\n        ignoreErrors: [\n            \"Failed to execute 'arc' on 'CanvasRenderingContext2D': The radius provided\",\n            \"Cannot read property 'highlightFill' of undefined\",\n            \"Argument 1 of SVGMatrix.translate is not a finite floating-point value\",\n            /_jp.*is not a function/,\n        ],\n    }).install();\n}\n\nfunction SlicerViewModel(parameters) {\n    mixpanel.track(\"App Loaded\");\n\n    var self = this;\n\n    self.canvas = document.getElementById( 'slicer-canvas' );\n\n    //check if webGL is present. If not disable Slicer plugin\n    if ( ! Detector.webgl ) {\n        $('#tab_plugin_slicer').empty().append(\"<h3>Slicer Plugin is disabled because your browser doesn't support WebGL</h3>\");\n        return;\n    }\n\n    // assign the injected parameters, e.g.:\n    self.slicingViewModel = parameters[0];\n    self.overridesViewModel = parameters[1];\n    self.printerStateViewModel = parameters[2];\n    self.printerProfilesViewModel = parameters[3];\n\n    self.lockScale = true;\n    self.selectedSTL = undefined;\n    self.newPrint = true;\n\n\n    // Override slicingViewModel.show to surpress default slicing behavior\n    self.slicingViewModel.show = function(target, file, force) {\n        if (!self.slicingViewModel.enableSlicingDialog() && !force) {\n            return;\n        }\n        mixpanel.track(\"Load STL\");\n\n        $('a[href=\"#tab_plugin_slicer\"]').tab('show');\n\n        self.selectedSTL = {target: target, file: file};\n        if (self.newPrint) {\n            self.addToNewPrint();\n        } else {\n            $(\"#plugin-slicer-load-model\").modal(\"show\");\n        }\n    };\n\n    self.addToNewPrint = function() {\n        self.clearPrint();\n        self.addToExistingPrint();\n    };\n\n    self.addToExistingPrint = function() {\n        self.setSlicingViewModel(self.selectedSTL.target, self.selectedSTL.file);\n        self.addSTL(self.selectedSTL.target, self.selectedSTL.file);\n        self.selectedSTL = undefined;\n\n        $(\"#plugin-slicer-load-model\").modal(\"hide\");\n    };\n\n    self.clearPrint = function() {\n        self.resetSlicingViewModel();\n        self.stlViewPort.removeAllModels();\n        self.newPrint = true;\n    }\n\n    self.addSTL = function(target, file) {\n        self.newPrint = false;\n        self.stlViewPort.loadSTL(BASEURL + \"downloads/files/\" + target + \"/\" + file);\n    }\n\n    self.onModelAdd = function(models) {\n\n        self.stlViewPort.makeModelActive(models[0]);\n\n        models.forEach( function( model ) {\n            self.fixZPosition(model);\n        });\n\n        if (self.stlViewPort.models.length > 1) {\n            ModelArranger.arrange(self.stlViewPort.models);\n        }\n        self.stlViewPort.render();\n\n        $('#tab_plugin_slicer > div.translucent-blocker').hide();\n\n    };\n\n    self.onModelRemove = function(model) {\n        if (self.stlViewPort.models.length == 0) {\n            self.clearPrint();\n        }\n    };\n\n    self.updatePrinterBed = function(profileName) {\n        if ( profileName) {\n            var profile = self.printerProfilesViewModel.profiles.items().find(function(p) { return p.id == profileName })\n\n            var dim = profile.volume\n            self.BEDSIZE_X_MM = dim.width;\n            self.BEDSIZE_Y_MM = dim.depth;\n            self.BEDSIZE_Z_MM = dim.height;\n            if (dim.origin == \"lowerleft\" ) {\n                self.ORIGIN_OFFSET_X_MM = self.BEDSIZE_X_MM/2.0;\n                self.ORIGIN_OFFSET_Y_MM = self.BEDSIZE_Y_MM/2.0;\n            } else {\n                self.ORIGIN_OFFSET_X_MM = 0;\n                self.ORIGIN_OFFSET_Y_MM = 0;\n            }\n        }\n        self.drawBedFloor(self.BEDSIZE_X_MM, self.BEDSIZE_Y_MM);\n        self.drawWalls(self.BEDSIZE_X_MM, self.BEDSIZE_Y_MM, self.BEDSIZE_Z_MM);\n        self.stlViewPort.render();\n    }\n\n    self.slicingViewModel.printerProfile.subscribe( self.updatePrinterBed );\n\n    self.BEDSIZE_X_MM = 200;\n    self.BEDSIZE_Y_MM = 200;\n    self.BEDSIZE_Z_MM = 200;\n    self.ORIGIN_OFFSET_X_MM = 0;\n    self.ORIGIN_OFFSET_Y_MM = 0;\n\n    var CANVAS_WIDTH = 588,\n        CANVAS_HEIGHT = 588;\n\n\n    self.init = function() {\n\n        self.slicingViewModel.requestData();\n\n        self.stlViewPort = new STLViewPort(self.canvas, CANVAS_WIDTH, CANVAS_HEIGHT, self.onModelChange, self.onModelAdd)\n        self.stlViewPort.init();\n\n        //Walls and Floor\n        self.walls = new THREE.Object3D();\n        self.floor = new THREE.Object3D();\n        self.stlViewPort.scene.add(self.walls);\n        self.stlViewPort.scene.add(self.floor);\n\n        self.updatePrinterBed();\n\n        ko.applyBindings(self.slicingViewModel, $('#slicing-settings')[0]);\n\n        // Buttons on the canvas, and their behaviors.\n        // TODO: it's not DRY. mix of prez code and logics. need to figure out a better way\n        $(\"#slicer-viewport\").empty().append('<div class=\"report\"><span>Got issues or suggestions? <a target=\"_blank\" href=\"https://github.com/kennethjiang/OctoPrint-Slicer/issues/new\">Click here!</a></span></div>\\\n                  <div class=\"model\">\\\n                    <button class=\"translate disabled\" title=\"Move\"><img src=\"'\n            + PLUGIN_BASEURL\n            + 'slicer/static/img/translate.png\"></button>\\\n                    <button class=\"rotate disabled\" title=\"Rotate\"><img src=\"'\n            + PLUGIN_BASEURL\n            + 'slicer/static/img/rotate.png\"></button>\\\n                    <button class=\"scale disabled\" title=\"Scale\"><img src=\"'\n            + PLUGIN_BASEURL\n            + 'slicer/static/img/scale.png\"></button>\\\n                    <button class=\"remove disabled\" title=\"Remove\"><img src=\"'\n            + PLUGIN_BASEURL\n            + 'slicer/static/img/remove.png\"></button>\\\n                    <button class=\"split disabled\" title=\"Split\"><img src=\"'\n            + PLUGIN_BASEURL\n            + 'slicer/static/img/split.png\"></button>\\\n                </div>\\\n                <div class=\"values translate\">\\\n                    <div>\\\n                        <p><span class=\"axis x\">X</span><input type=\"number\" step=\"any\" name=\"x\"><span title=\"\">mm</span></p>\\\n                        <p><span class=\"axis y\">Y</span><input type=\"number\" step=\"any\" name=\"y\"><span title=\"\">mm</span></p>\\\n                        <span></span>\\\n                    </div>\\\n               </div>\\\n                <div class=\"values rotate\">\\\n                    <div>\\\n                        <p><span class=\"axis x\">X</span><input type=\"number\" step=\"any\" name=\"x\"><span title=\"\"></span></p>\\\n                        <p><span class=\"axis y\">Y</span><input type=\"number\" step=\"any\" name=\"y\"><span title=\"\"></span></p>\\\n                        <p><span class=\"axis z\">Z</span><input type=\"number\" step=\"any\" name=\"z\"><span title=\"\"></span></p>\\\n                        <span></span>\\\n                    </div>\\\n               </div>\\\n                <div class=\"values scale\">\\\n                    <div>\\\n                        <p><span class=\"axis x\">X</span><input type=\"number\" step=\"0.001\" name=\"x\" min=\"0.001\"></p>\\\n                        <p><span class=\"axis y\">Y</span><input type=\"number\" step=\"0.001\" name=\"y\" min=\"0.001\"></p>\\\n                        <p><span class=\"axis z\">Z</span><input type=\"number\" step=\"0.001\" name=\"z\" min=\"0.001\"></p>\\\n                        <p class=\"checkbox\"><label><input type=\"checkbox\" checked>Lock</label></p>\\\n                        <span></span>\\\n                    </div>\\\n               </div>');\n\n        $(\"#slicer-viewport\").append(self.stlViewPort.renderer.domElement);\n\n        $(\"#slicer-viewport button.translate\").click(function(event) {\n            self.stlViewPort.transformControls.setMode(\"translate\");\n            self.stlViewPort.transformControls.space = \"world\";\n            self.toggleValueInputs($(\"#slicer-viewport .translate.values div\"));\n        });\n        $(\"#slicer-viewport button.rotate\").click(function(event) {\n            self.stlViewPort.transformControls.setMode(\"rotate\");\n            self.stlViewPort.transformControls.space = \"world\";\n            self.toggleValueInputs($(\"#slicer-viewport .rotate.values div\"));\n        });\n        $(\"#slicer-viewport button.scale\").click(function(event) {\n            self.stlViewPort.transformControls.setMode(\"scale\");\n            self.stlViewPort.transformControls.space = \"local\";\n            self.toggleValueInputs($(\"#slicer-viewport .scale.values div\"));\n        });\n        $(\"#slicer-viewport button.remove\").click(function(event) {\n            self.onModelRemove( self.stlViewPort.removeActiveModel() );\n        });\n        $(\"#slicer-viewport button.split\").click(function(event) {\n            self.onModelRemove( self.stlViewPort.splitActiveModel() );\n        });\n        $(\"#slicer-viewport .values input\").change(function() {\n            self.applyValueInputs($(this));\n        });\n\n    };\n\n    self.toggleValueInputs = function(parentDiv) {\n        if ( parentDiv.hasClass(\"show\") ) {\n            parentDiv.removeClass(\"show\").children('p').removeClass(\"show\");\n        } else if (self.stlViewPort.activeModel()) {\n            $(\"#slicer-viewport .values div\").removeClass(\"show\");\n            parentDiv.addClass(\"show\").children('p').addClass(\"show\");\n        }\n    };\n\n    self.applyValueInputs = function(input) {\n        input.blur();\n        if(input[0].type == \"checkbox\") {\n            self.lockScale = input[0].checked;\n        }\n        else if(input[0].type == \"number\" && !isNaN(parseFloat(input.val()))) {\n            input.val(parseFloat(input.val()).toFixed(3));\n            var model = self.stlViewPort.activeModel();\n\n            if (input.closest(\".values\").hasClass(\"scale\") && self.lockScale) {\n                $(\"#slicer-viewport .scale.values input\").val(input.val());\n                console.log($(\"#slicer-viewport .scale.values input[name=\\\"x\\\"]\").val());\n            }\n\n            model.position.x =  parseFloat($(\"#slicer-viewport .translate.values input[name=\\\"x\\\"]\").val())\n            model.position.y =  parseFloat($(\"#slicer-viewport .translate.values input[name=\\\"y\\\"]\").val())\n            model.rotation.x =  THREE.Math.degToRad($(\"#slicer-viewport .rotate.values input[name=\\\"x\\\"]\").val());\n            model.rotation.y =  THREE.Math.degToRad($(\"#slicer-viewport .rotate.values input[name=\\\"y\\\"]\").val());\n            model.rotation.z =  THREE.Math.degToRad($(\"#slicer-viewport .rotate.values input[name=\\\"z\\\"]\").val());\n            model.scale.x =  parseFloat($(\"#slicer-viewport .scale.values input[name=\\\"x\\\"]\").val())\n            model.scale.y =  parseFloat($(\"#slicer-viewport .scale.values input[name=\\\"y\\\"]\").val())\n            model.scale.z =  parseFloat($(\"#slicer-viewport .scale.values input[name=\\\"z\\\"]\").val())\n            self.fixZPosition(model);\n            self.stlViewPort.render();\n        }\n    };\n\n    self.fixZPosition = function ( model ) {\n        var bedLowMinZ = 0.0;\n        var boundaryBox = new THREE.Box3().setFromObject(model);\n        boundaryBox.min.sub(model.position);\n        boundaryBox.max.sub(model.position);\n        model.position.z -= model.position.z + boundaryBox.min.z - bedLowMinZ;\n    }\n\n    // callback function when models are changed by TransformControls\n    self.onModelChange = function() {\n        var model = self.stlViewPort.activeModel();\n        if (model) {\n            $(\"#slicer-viewport .translate.values input[name=\\\"x\\\"]\").val(model.position.x.toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .translate.values input[name=\\\"y\\\"]\").val(model.position.y.toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .rotate.values input[name=\\\"x\\\"]\").val((model.rotation.x * 180 / Math.PI).toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .rotate.values input[name=\\\"y\\\"]\").val((model.rotation.y * 180 / Math.PI).toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .rotate.values input[name=\\\"z\\\"]\").val((model.rotation.z * 180 / Math.PI).toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .scale.values input[name=\\\"x\\\"]\").val(model.scale.x.toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .scale.values input[name=\\\"y\\\"]\").val(model.scale.y.toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .scale.values input[name=\\\"z\\\"]\").val(model.scale.z.toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .scale.values input[type=\\\"checkbox\\\"]\").checked = self.lockScale;\n            self.fixZPosition(model);\n            self.stlViewPort.render();\n        }\n\n        if (!self.stlViewPort.activeModel()) {\n            $(\"#slicer-viewport .values div\").removeClass(\"show\")\n            $(\"#slicer-viewport button\").addClass(\"disabled\");\n        } else {\n            $(\"#slicer-viewport button\").removeClass(\"disabled\");\n        }\n    };\n\n    // Slicing\n    //\n    self.tempFiles = {};\n    self.removeTempFilesAfterSlicing = function (event) {\n        if ($.inArray(event.data.type, [\"SlicingDone\", \"SlicingFailed\"]) >= 0 &&\n            event.data.payload.stl in self.tempFiles) {\n            OctoPrint.files.delete(event.data.payload.stl_location,\n                event.data.payload.stl);\n            delete self.tempFiles[event.data.payload.stl];\n        }\n    }\n\n    OctoPrint.socket.onMessage(\"event\", self.removeTempFilesAfterSlicing);\n\n    self.sliceRequestData = function(slicingVM, group) {\n        var destinationFilename = slicingVM._sanitize(slicingVM.destinationFilename());\n\n        var destinationExtensions = slicingVM.data[slicingVM.slicer()] && slicingVM.data[slicingVM.slicer()].extensions && slicingVM.data[slicingVM.slicer()].extensions.destination\n            ? slicingVM.data[slicingVM.slicer()].extensions.destination\n            : [\"???\"];\n        if (!_.any(destinationExtensions, function(extension) {\n            return _.endsWith(destinationFilename.toLowerCase(), \".\" + extension.toLowerCase());\n        })) {\n            destinationFilename = destinationFilename + \".\" + destinationExtensions[0];\n        }\n        var groupCenter = new THREE.Vector3(0,0,0);\n        if (group) {\n            groupCenter = new THREE.Box3().setFromObject(group).center();\n        }\n        var data = {\n            command: \"slice\",\n            slicer: slicingVM.slicer(),\n            profile: slicingVM.profile(),\n            printerProfile: slicingVM.printerProfile(),\n            destination: destinationFilename,\n            position: { \"x\": self.ORIGIN_OFFSET_X_MM + groupCenter.x,\n                \"y\": self.ORIGIN_OFFSET_Y_MM + groupCenter.y}\n        };\n        _.extend(data, self.overridesViewModel.toJS());\n\n        if (slicingVM.afterSlicing() == \"print\") {\n            data[\"print\"] = true;\n        } else if (slicingVM.afterSlicing() == \"select\") {\n            data[\"select\"] = true;\n        }\n        return data;\n    };\n\n    self.sendSliceRequest = function(target, filename, data) {\n        $.ajax({\n            url: API_BASEURL + \"files/\" + target + \"/\" + filename,\n            type: \"POST\",\n            dataType: \"json\",\n            contentType: \"application/json; charset=UTF-8\",\n            data: JSON.stringify(data),\n            error: function(jqXHR, textStatus) {\n                new PNotify({title: \"Slicing failed\", text: textStatus, type: \"error\", hide: false});\n            }\n        });\n    };\n\n    self.slice = function() {\n        mixpanel.track(\"Slice Model\");\n\n        var target = self.slicingViewModel.target;\n        var sliceRequestData;\n\n        if (self.stlViewPort.onlyOneOriginalModel()) {\n\n            sliceRequestData = self.sliceRequestData(self.slicingViewModel);\n            self.sendSliceRequest(self.slicingViewModel.target, self.slicingViewModel.file(), sliceRequestData);\n\n        } else {\n\n            var form = new FormData();\n            var group = new THREE.Group();\n            _.forEach(self.stlViewPort.models, function (model) {\n                group.add(model.clone(true));\n            });\n\n            sliceRequestData = self.sliceRequestData(self.slicingViewModel, group);\n\n            var tempFilename = self.tempSTLFilename();\n            form.append(\"file\", self.blobFromModel(group), tempFilename);\n            $.ajax({\n                url: API_BASEURL + \"files/local\",\n                type: \"POST\",\n                data: form,\n                processData: false,\n                contentType: false,\n                // On success\n                success: function(_) {\n                    self.tempFiles[tempFilename] = 1;\n                    self.sendSliceRequest(target, tempFilename, sliceRequestData);\n                },\n                error: function(jqXHR, textStatus) {\n                    new PNotify({title: \"Slicing failed\", text: textStatus, type: \"error\", hide: false});\n                }\n            });\n\n        }\n    };\n\n    self.blobFromModel = function( model ) {\n        var exporter = new THREE.STLBinaryExporter();\n        return new Blob([exporter.parse(model)], {type: \"text/plain\"});\n    };\n\n    self.isPrinting = ko.computed(function () {\n        return self.printerStateViewModel.isPrinting() ||\n            self.printerStateViewModel.isPaused();\n    });\n\n    self.canSliceNow = ko.computed(function () {\n        // TODO: We should be checking for same_device here, too.\n        return self.slicingViewModel.enableSliceButton() &&\n            !self.isPrinting();\n    });\n    // END: Slicing\n\n    // Helpers for drawing walls and floor\n    //\n    self.createText = function(font, text, width, depth, parentObj) {\n        var textGeometry = new THREE.TextGeometry( text, {\n            font: font,\n            size: 10,\n            height: 0.1,\n            material: 0, extrudeMaterial: 1\n        });\n        var materialFront = new THREE.MeshBasicMaterial( { color: 0x048e06} );\n        var materialSide = new THREE.MeshBasicMaterial( { color: 0x8A8A8A} );\n        var materialArray = [ materialFront, materialSide ];\n        var textMaterial = new THREE.MeshFaceMaterial(materialArray);\n\n        var mesh = new THREE.Mesh( textGeometry, textMaterial );\n        textGeometry.computeBoundingBox();\n        var textWidth = textGeometry.boundingBox.max.x - textGeometry.boundingBox.min.x;\n        var textHeight = textGeometry.boundingBox.max.y - textGeometry.boundingBox.min.y;\n        switch (text) {\n            case \"Front\":\n                mesh.position.set(-textWidth/2, -depth/2 - textHeight - 4, 1.0);\n                break;\n            case \"Back\":\n                mesh.position.set(textWidth/2, depth/2 + textHeight + 4, 1.0);\n                mesh.rotation.set(0, 0, Math.PI);\n                break;\n            case \"Left\":\n                mesh.position.set(-width/2 - textHeight - 4, textWidth/2, 1.0);\n                mesh.rotation.set(0, 0, -Math.PI / 2);\n                break;\n            case \"Right\":\n                mesh.position.set(width/2 + textHeight, -textWidth/2, 1.0);\n                mesh.rotation.set(0, 0, Math.PI / 2);\n                break;\n        }\n        parentObj.add(mesh);\n    };\n\n    self.drawBedFloor = function ( width, depth, segments ) {\n        for(var i = self.floor.children.length - 1; i >= 0; i--) {\n            var obj = self.floor.children[i];\n            self.floor.remove(obj);\n        }\n\n        segments = segments || 20;\n        var geometry = new THREE.PlaneGeometry(width, depth, segments, segments);\n        var materialEven = new THREE.MeshBasicMaterial({color: 0xccccfc});\n        var materialOdd = new THREE.MeshBasicMaterial({color: 0x444464});\n        var materials = [materialEven, materialOdd];\n        for (var x = 0; x < segments; x++) {\n            for (var y = 0; y < segments; y++) {\n                var i = x * segments + y;\n                var j = 2 * i;\n                geometry.faces[ j ].materialIndex = geometry.faces[ j + 1 ].materialIndex = (x + y) % 2;\n            }\n        }\n        var mesh = new THREE.Mesh(geometry, new THREE.MeshFaceMaterial(materials));\n        mesh.receiveShadow = true;\n        self.floor.add(mesh);\n\n        //Add text to indicate front/back of print bed\n        var loader = new THREE.FontLoader();\n        loader.load( PLUGIN_BASEURL + \"slicer/static/js/optimer_bold.typeface.json\", function ( font ) {\n            self.createText(font, \"Front\", width, depth, self.floor);\n            self.createText(font, \"Back\", width, depth, self.floor);\n            self.createText(font, \"Left\", width, depth, self.floor);\n            self.createText(font, \"Right\", width, depth, self.floor);\n            self.stlViewPort.render();\n        } );\n    };\n\n    self.drawWalls = function ( width, depth, height ) {\n        for(var i = self.walls.children.length - 1; i >= 0; i--) {\n            var obj = self.walls.children[i];\n            self.walls.remove(obj);\n        }\n\n        var wall1 = self.rectShape( width, height, 0x8888fc );\n        wall1.rotation.x = Math.PI / 2;\n        wall1.position.set(0, depth/2, height/2);\n        self.walls.add(wall1);\n\n        var wall2 = self.rectShape( height, depth, 0x8888dc );\n        wall2.rotation.y = Math.PI / 2;\n        wall2.position.set(-width/2, 0, height/2);\n        self.walls.add(wall2);\n\n        var wall3 = self.rectShape( width, height, 0x8888fc );\n        wall3.rotation.x = -Math.PI / 2;\n        wall3.position.set(0, -depth/2, height/2);\n        self.walls.add(wall3);\n\n        var wall4 = self.rectShape( height, depth, 0x8888dc );\n        wall4.rotation.y = -Math.PI / 2;\n        wall4.position.set(width/2, 0, height/2);\n        self.walls.add(wall4);\n    };\n\n    self.rectShape = function ( rectLength, rectWidth, color ) {\n        var rectShape = new THREE.Shape();\n        rectShape.moveTo( -rectLength/2,-rectWidth/2 );\n        rectShape.lineTo( -rectLength/2, rectWidth/2 );\n        rectShape.lineTo( rectLength/2, rectWidth/2 );\n        rectShape.lineTo( rectLength/2, -rectWidth/2 );\n        rectShape.lineTo( -rectLength/2, -rectWidth/2 );\n        var rectGeom = new THREE.ShapeGeometry( rectShape );\n        return new THREE.Mesh( rectGeom, new THREE.MeshBasicMaterial( { color: color } ) ) ;\n    };\n    // END: Helpers for drawing walls and floor\n\n    self.resetSlicingViewModel = function() {\n        self.slicingViewModel.target = undefined;\n        self.slicingViewModel.file(undefined);\n        self.slicingViewModel.destinationFilename(undefined);\n    };\n\n    self.setSlicingViewModel = function(target, filename) {\n        if (!self.slicingViewModel.destinationFilename()) {  // A model is added to an empty bed\n            self.slicingViewModel.target = target;\n            self.slicingViewModel.file(filename);\n            self.slicingViewModel.destinationFilename(self.computeDestinationFilename(filename));\n        }\n    };\n\n    // Returns the destination filename based on which models are loaded.\n    // The destination filename is without the final .gco on it because\n    // that will depend on the slicer.\n    self.computeDestinationFilename = function(inputFilename) {\n        // TODO: For now, just use the first model's name.\n        var destinationFilename = inputFilename.substr(0, inputFilename.lastIndexOf(\".\"));\n        if (destinationFilename.lastIndexOf(\"/\") != 0) {\n            destinationFilename = destinationFilename.substr(destinationFilename.lastIndexOf(\"/\") + 1);\n        }\n        return destinationFilename;\n    };\n\n    self.tempSTLFilename = function() {\n        var pos = self.slicingViewModel.file().lastIndexOf(\".\")\n        return [self.slicingViewModel.file().slice(0, pos),\n            \".tmp.\" + (+ new Date()),\n            self.slicingViewModel.file().slice(pos)].join('');\n    };\n\n    self.init();\n}\n\n\n// view model class, parameters for constructor, container to bind to\nOCTOPRINT_VIEWMODELS.push([\n    SlicerViewModel,\n\n    // e.g. loginStateViewModel, settingsViewModel, ...\n    [ \"slicingViewModel\", \"overridesViewModel\", \"printerStateViewModel\", \"printerProfilesViewModel\" ],\n\n    // e.g. #settings_plugin_slicer, #tab_plugin_slicer, ...\n    [ \"#slicer\" ]\n]);\n"],"names":["THREE","STLViewPort","canvas","width","height","onChange","onNewModel","self","canvasWidth","canvasHeight","models","effectController","Color","init","camera","PerspectiveCamera","up","set","position","scene","Scene","ambientLight","AmbientLight","ambientLightColor","add","directionalLight","DirectionalLight","directionalLightColor","directionalLight2","renderer","WebGLRenderer","antialias","setClearColor","setSize","setPixelRatio","window","devicePixelRatio","gammaInput","gammaOutput","orbitControls","OrbitControls","domElement","enableDamping","dampingFactor","enablePan","addEventListener","render","transformControls","THREETK","setRotationSnap","Math","degToRad","startTransform","endTransform","event","keyCode","lastMouseEvent","e","pickActiveModel","update","loadSTL","url","onLoad","STLLoader","load","geometry","addModelOfGeometry","modelToCopyTransformFrom","material","MeshStandardMaterial","modelInactiveColor","SmoothShading","DoubleSide","metalness","roughness","stlModel","Mesh","center","Box3","setFromObject","model","Object3D","copy","negate","rotation","scale","push","activeModel","object","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","pointerVector","Vector2","ray","Raycaster","setFromCamera","foundActiveModel","nextPointedModel","undefined","firstPointedModel","i","length","intersections","intersectObjects","children","makeModelActive","m","attach","detach","color","modelActiveColor","removeActiveModel","index","indexOf","splice","remove","removeAllModels","splitActiveModel","originalModel","newGeometries","GeometryUtils","split","map","onlyOneOriginalModel","z","enabled","ko","bindingHandlers","numericValue","element","valueAccessor","allBindings","data","context","interceptor","computed","unwrap","value","isNaN","parseFloat","applyBindingsToNode","OverridesViewModel","parameters","array_keys","enum_keys","item_keys","boolean_keys","slicingViewModel","ARRAY_KEYS","ENUM_KEYS","observableArray","ITEM_KEYS","BOOLEAN_KEYS","ALL_KEYS","concat","Object","keys","forEach","k","observable","optionsForKey","key","updateOverridesFromProfile","profile","endings","stripEndings","_","isString","endsWith","slice","booleans","convertBoolean","BOOLS","boolType","b","isArray","v","onProfileChange","newValue","slicing","slicer","fetchSlicingProfile","profileAjax","abort","$","ajax","API_BASEURL","subscribe","toJS","result","mapping","hasOwnProperty","baseKey","replace","contains","OCTOPRINT_VIEWMODELS","location","hostname","config","install","SlicerViewModel","track","document","getElementById","Detector","webgl","empty","append","overridesViewModel","printerStateViewModel","printerProfilesViewModel","lockScale","selectedSTL","newPrint","show","target","file","force","enableSlicingDialog","tab","addToNewPrint","modal","clearPrint","addToExistingPrint","setSlicingViewModel","addSTL","resetSlicingViewModel","stlViewPort","BASEURL","onModelAdd","fixZPosition","arrange","hide","onModelRemove","updatePrinterBed","profileName","profiles","items","find","p","id","dim","volume","BEDSIZE_X_MM","BEDSIZE_Y_MM","depth","BEDSIZE_Z_MM","origin","ORIGIN_OFFSET_X_MM","ORIGIN_OFFSET_Y_MM","drawBedFloor","drawWalls","printerProfile","CANVAS_WIDTH","CANVAS_HEIGHT","requestData","onModelChange","walls","floor","applyBindings","PLUGIN_BASEURL","click","setMode","space","toggleValueInputs","change","applyValueInputs","parentDiv","hasClass","removeClass","addClass","input","blur","type","checked","val","toFixed","closest","log","bedLowMinZ","boundaryBox","min","sub","max","attr","PI","tempFiles","removeTempFilesAfterSlicing","inArray","payload","stl","files","delete","stl_location","socket","onMessage","sliceRequestData","slicingVM","group","destinationFilename","_sanitize","destinationExtensions","extensions","destination","any","extension","toLowerCase","groupCenter","Vector3","extend","afterSlicing","sendSliceRequest","filename","JSON","stringify","jqXHR","textStatus","PNotify","title","text","form","FormData","Group","clone","tempFilename","tempSTLFilename","blobFromModel","exporter","STLBinaryExporter","Blob","parse","isPrinting","isPaused","canSliceNow","enableSliceButton","createText","font","parentObj","textGeometry","TextGeometry","extrudeMaterial","materialFront","MeshBasicMaterial","materialSide","materialArray","textMaterial","MeshFaceMaterial","mesh","computeBoundingBox","textWidth","boundingBox","textHeight","segments","obj","PlaneGeometry","materialEven","materialOdd","materials","j","faces","materialIndex","receiveShadow","loader","FontLoader","wall1","rectShape","wall2","wall3","wall4","rectLength","rectWidth","Shape","moveTo","lineTo","rectGeom","ShapeGeometry","computeDestinationFilename","inputFilename","substr","lastIndexOf","pos","Date","join"],"mappings":"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"}