{"version":3,"file":null,"sources":["../../../node_modules/3tk/dist/3tk.module.js","../../../src/STLViewPort.js","../../../src/profile_overrides.js","../../../src/ModelArranger.js","../../../src/slicer.js"],"sourcesContent":["import { BoxBufferGeometry, BoxGeometry, BufferAttribute, BufferGeometry, CylinderBufferGeometry, CylinderGeometry, DefaultLoadingManager, DoubleSide, Euler, EventDispatcher, FileLoader, Float32BufferAttribute, FrontSide, Geometry, Line, LineBasicMaterial, MOUSE, Matrix3, Matrix4, Mesh, MeshBasicMaterial, Object3D, OctahedronGeometry, OrbitControls, OrthographicCamera, PerspectiveCamera, PlaneBufferGeometry, Quaternion, Raycaster, Spherical, TorusBufferGeometry, TransformGizmo, Vector2, Vector3 } from 'three';\nimport * as THREE from 'three';\n\n/**\n * @author arodic / https://github.com/arodic\n */\n\nfunction DefaultHandles() {\n\n    var GizmoMaterial = function GizmoMaterial(parameters) {\n\n        MeshBasicMaterial.call(this);\n\n        this.depthTest = false;\n        this.depthWrite = false;\n        this.side = FrontSide;\n        this.transparent = true;\n\n        this.setValues(parameters);\n\n        this.oldColor = this.color.clone();\n        this.oldOpacity = this.opacity;\n\n        this.highlight = function (highlighted) {\n\n            if (highlighted) {\n\n                this.color.setRGB(1, 1, 0);\n                this.opacity = 1;\n            } else {\n\n                this.color.copy(this.oldColor);\n                this.opacity = this.oldOpacity;\n            }\n        };\n    };\n\n    GizmoMaterial.prototype = Object.create(MeshBasicMaterial.prototype);\n    GizmoMaterial.prototype.constructor = GizmoMaterial;\n\n    var GizmoLineMaterial = function GizmoLineMaterial(parameters) {\n\n        LineBasicMaterial.call(this);\n\n        this.depthTest = false;\n        this.depthWrite = false;\n        this.transparent = true;\n        this.linewidth = 1;\n\n        this.setValues(parameters);\n\n        this.oldColor = this.color.clone();\n        this.oldOpacity = this.opacity;\n\n        this.highlight = function (highlighted) {\n\n            if (highlighted) {\n\n                this.color.setRGB(1, 1, 0);\n                this.opacity = 1;\n            } else {\n\n                this.color.copy(this.oldColor);\n                this.opacity = this.oldOpacity;\n            }\n        };\n    };\n\n    GizmoLineMaterial.prototype = Object.create(LineBasicMaterial.prototype);\n    GizmoLineMaterial.prototype.constructor = GizmoLineMaterial;\n\n    var invisibleMaterial = new GizmoMaterial({ visible: false, transparent: false });\n\n    var gizmoFromMap = function gizmoFromMap(gizmoMap) {\n\n        var gizmo = new Object3D();\n\n        for (var name in gizmoMap) {\n\n            for (var i = gizmoMap[name].length; i--;) {\n\n                var object = gizmoMap[name][i][0];\n                var position = gizmoMap[name][i][1];\n                var rotation = gizmoMap[name][i][2];\n\n                object.name = name;\n\n                if (position) object.position.set(position[0], position[1], position[2]);\n                if (rotation) object.rotation.set(rotation[0], rotation[1], rotation[2]);\n\n                gizmo.add(object);\n            }\n        }\n\n        return gizmo;\n    };\n\n    this.translateHandles = function () {\n        var arrowGeometry = new Geometry();\n        var mesh = new Mesh(new CylinderGeometry(0, 0.05, 0.2, 12, 1, false));\n        mesh.position.y = 0.5;\n        mesh.updateMatrix();\n\n        arrowGeometry.merge(mesh.geometry, mesh.matrix);\n\n        var lineXGeometry = new BufferGeometry();\n        lineXGeometry.addAttribute('position', new Float32BufferAttribute([0, 0, 0, 1, 0, 0], 3));\n\n        var lineYGeometry = new BufferGeometry();\n        lineYGeometry.addAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 1, 0], 3));\n\n        var lineZGeometry = new BufferGeometry();\n        lineZGeometry.addAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 0, 1], 3));\n\n        return gizmoFromMap({\n            X: [[new Mesh(arrowGeometry, new GizmoMaterial({ color: 0xff0000 })), [0.5, 0, 0], [0, 0, -Math.PI / 2]], [new Line(lineXGeometry, new GizmoLineMaterial({ color: 0xff0000 }))], [new Mesh(new CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), invisibleMaterial), [0.6, 0, 0], [0, 0, -Math.PI / 2]]],\n\n            Y: [[new Mesh(arrowGeometry, new GizmoMaterial({ color: 0x00ff00 })), [0, 0.5, 0]], [new Line(lineYGeometry, new GizmoLineMaterial({ color: 0x00ff00 }))], [new Mesh(new CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), invisibleMaterial), [0, 0.6, 0]]],\n\n            Z: [[new Mesh(arrowGeometry, new GizmoMaterial({ color: 0x0000ff })), [0, 0, 0.5], [Math.PI / 2, 0, 0]], [new Line(lineZGeometry, new GizmoLineMaterial({ color: 0x0000ff }))], [new Mesh(new CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), invisibleMaterial), [0, 0, 0.6], [Math.PI / 2, 0, 0]]],\n\n            XYZ: [[new Mesh(new OctahedronGeometry(0.1, 0), new GizmoMaterial({ color: 0xffffff, opacity: 0.25 })), [0, 0, 0], [0, 0, 0]], [new Mesh(new OctahedronGeometry(0.2, 0), invisibleMaterial)]],\n\n            XY: [[new Mesh(new PlaneBufferGeometry(0.29, 0.29), new GizmoMaterial({ color: 0xffff00, opacity: 0.25 })), [0.15, 0.15, 0]], [new Mesh(new PlaneBufferGeometry(0.4, 0.4), invisibleMaterial), [0.2, 0.2, 0]]],\n\n            YZ: [[new Mesh(new PlaneBufferGeometry(0.29, 0.29), new GizmoMaterial({ color: 0x00ffff, opacity: 0.25 })), [0, 0.15, 0.15], [0, Math.PI / 2, 0]], [new Mesh(new PlaneBufferGeometry(0.4, 0.4), invisibleMaterial), [0, 0.2, 0.2], [0, Math.PI / 2, 0]]],\n\n            XZ: [[new Mesh(new PlaneBufferGeometry(0.29, 0.29), new GizmoMaterial({ color: 0xff00ff, opacity: 0.25 })), [0.15, 0, 0.15], [-Math.PI / 2, 0, 0]], [new Mesh(new PlaneBufferGeometry(0.4, 0.4), invisibleMaterial), [0.2, 0, 0.2], [-Math.PI / 2, 0, 0]]]\n\n        });\n    };\n\n    this.rotateHandles = function () {\n\n        var CircleGeometry = function CircleGeometry(radius, facing, arc) {\n\n            var geometry = new BufferGeometry();\n            var vertices = [];\n            arc = arc ? arc : 1;\n\n            for (var i = 0; i <= 64 * arc; ++i) {\n\n                if (facing === 'x') vertices.push(0, Math.cos(i / 32 * Math.PI) * radius, Math.sin(i / 32 * Math.PI) * radius);\n                if (facing === 'y') vertices.push(Math.cos(i / 32 * Math.PI) * radius, 0, Math.sin(i / 32 * Math.PI) * radius);\n                if (facing === 'z') vertices.push(Math.sin(i / 32 * Math.PI) * radius, Math.cos(i / 32 * Math.PI) * radius, 0);\n            }\n\n            geometry.addAttribute('position', new Float32BufferAttribute(vertices, 3));\n            return geometry;\n        };\n\n        return gizmoFromMap({\n            X: [[new Line(new CircleGeometry(1, 'x', 0.5), new GizmoLineMaterial({ color: 0xff0000 }))], [new Mesh(new TorusBufferGeometry(1, 0.12, 4, 12, Math.PI), invisibleMaterial), [0, 0, 0], [0, -Math.PI / 2, -Math.PI / 2]]],\n\n            Y: [[new Line(new CircleGeometry(1, 'y', 0.5), new GizmoLineMaterial({ color: 0x00ff00 }))], [new Mesh(new TorusBufferGeometry(1, 0.12, 4, 12, Math.PI), invisibleMaterial), [0, 0, 0], [Math.PI / 2, 0, 0]]],\n\n            Z: [[new Line(new CircleGeometry(1, 'z', 0.5), new GizmoLineMaterial({ color: 0x0000ff }))], [new Mesh(new TorusBufferGeometry(1, 0.12, 4, 12, Math.PI), invisibleMaterial), [0, 0, 0], [0, 0, -Math.PI / 2]]],\n\n            E: [[new Line(new CircleGeometry(1.25, 'z', 1), new GizmoLineMaterial({ color: 0xcccc00 }))], [new Mesh(new TorusBufferGeometry(1.25, 0.12, 2, 24), invisibleMaterial)]],\n\n            XYZE: [[new Line(new CircleGeometry(1, 'z', 1), new GizmoLineMaterial({ color: 0x787878 }))], [new Mesh()] // TODO\n            ]\n        });\n    };\n\n    this.scaleHandles = function () {\n        var arrowGeometry = new Geometry();\n        var mesh = new Mesh(new BoxGeometry(0.125, 0.125, 0.125));\n        mesh.position.y = 0.5;\n        mesh.updateMatrix();\n\n        arrowGeometry.merge(mesh.geometry, mesh.matrix);\n\n        var lineXGeometry = new BufferGeometry();\n        lineXGeometry.addAttribute('position', new Float32BufferAttribute([0, 0, 0, 1, 0, 0], 3));\n\n        var lineYGeometry = new BufferGeometry();\n        lineYGeometry.addAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 1, 0], 3));\n\n        var lineZGeometry = new BufferGeometry();\n        lineZGeometry.addAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 0, 1], 3));\n\n        return gizmoFromMap({\n            X: [[new Mesh(arrowGeometry, new GizmoMaterial({ color: 0xff0000 })), [0.5, 0, 0], [0, 0, -Math.PI / 2]], [new Line(lineXGeometry, new GizmoLineMaterial({ color: 0xff0000 }))], [new Mesh(new CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), invisibleMaterial), [0.6, 0, 0], [0, 0, -Math.PI / 2]]],\n\n            Y: [[new Mesh(arrowGeometry, new GizmoMaterial({ color: 0x00ff00 })), [0, 0.5, 0]], [new Line(lineYGeometry, new GizmoLineMaterial({ color: 0x00ff00 }))], [new Mesh(new CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), invisibleMaterial), [0, 0.6, 0]]],\n\n            Z: [[new Mesh(arrowGeometry, new GizmoMaterial({ color: 0x0000ff })), [0, 0, 0.5], [Math.PI / 2, 0, 0]], [new Line(lineZGeometry, new GizmoLineMaterial({ color: 0x0000ff }))], [new Mesh(new CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), invisibleMaterial), [0, 0, 0.6], [Math.PI / 2, 0, 0]]],\n\n            XYZ: [[new Mesh(new BoxBufferGeometry(0.125, 0.125, 0.125), new GizmoMaterial({ color: 0xffffff, opacity: 0.25 }))], [new Mesh(new BoxBufferGeometry(0.4, 0.4, 0.4), invisibleMaterial)]]\n        });\n    };\n}\n\nfunction TransformGizmo$1(handles) {\n\n    this.handles = handles;\n\n    this.init = function () {\n\n        Object3D.call(this);\n\n        this.add(this.handles);\n\n        this.planes = new Object3D();\n        this.add(this.planes);\n\n        //// PLANES\n\n        var planeGeometry = new PlaneBufferGeometry(50, 50, 2, 2);\n        var planeMaterial = new MeshBasicMaterial({ visible: false, side: DoubleSide });\n\n        var planes = {\n            \"XY\": new Mesh(planeGeometry, planeMaterial),\n            \"YZ\": new Mesh(planeGeometry, planeMaterial),\n            \"XZ\": new Mesh(planeGeometry, planeMaterial),\n            \"XYZE\": new Mesh(planeGeometry, planeMaterial)\n        };\n\n        this.activePlane = planes[\"XYZE\"];\n\n        planes[\"YZ\"].rotation.set(0, Math.PI / 2, 0);\n        planes[\"XZ\"].rotation.set(-Math.PI / 2, 0, 0);\n\n        for (var i in planes) {\n\n            planes[i].name = i;\n            this.planes.add(planes[i]);\n            this.planes[i] = planes[i];\n        }\n\n        // reset Transformations\n\n        this.traverse(function (child) {\n\n            if (child instanceof Mesh) {\n\n                child.updateMatrix();\n\n                var tempGeometry = child.geometry.clone();\n                tempGeometry.applyMatrix(child.matrix);\n                child.geometry = tempGeometry;\n\n                child.position.set(0, 0, 0);\n                child.rotation.set(0, 0, 0);\n                child.scale.set(1, 1, 1);\n            }\n        });\n    };\n\n    this.setHandles = function (handles) {\n\n        this.remove(this.handles);\n        this.handles = handles;\n        if (this.handles !== null) {\n            this.add(this.handles);\n        }\n    };\n\n    this.highlight = function (axis) {\n\n        this.traverse(function (child) {\n\n            if (child.material && child.material.highlight) {\n\n                if (child.name === axis) {\n\n                    child.material.highlight(true);\n                } else {\n\n                    child.material.highlight(false);\n                }\n            }\n        });\n    };\n}\n\nTransformGizmo$1.prototype = Object.create(Object3D.prototype);\nTransformGizmo$1.prototype.constructor = TransformGizmo;\n\nTransformGizmo$1.prototype.update = function (rotation, eye) {\n\n    var vec1 = new Vector3(0, 0, 0);\n    var vec2 = new Vector3(0, 1, 0);\n    var lookAtMatrix = new Matrix4();\n\n    this.traverse(function (child) {\n\n        if (child.name.search(\"E\") !== -1) {\n\n            child.quaternion.setFromRotationMatrix(lookAtMatrix.lookAt(eye, vec1, vec2));\n        } else if (child.name.search(\"X\") !== -1 || child.name.search(\"Y\") !== -1 || child.name.search(\"Z\") !== -1) {\n\n            child.quaternion.setFromEuler(rotation);\n        }\n    });\n};\n\nfunction TransformGizmoTranslate(handles) {\n\n    TransformGizmo$1.call(this, handles);\n\n    this.setActivePlane = function (axis, eye) {\n\n        var tempMatrix = new Matrix4();\n        eye.applyMatrix4(tempMatrix.getInverse(tempMatrix.extractRotation(this.planes[\"XY\"].matrixWorld)));\n\n        if (axis === \"X\") {\n\n            this.activePlane = this.planes[\"XY\"];\n\n            if (Math.abs(eye.y) > Math.abs(eye.z)) this.activePlane = this.planes[\"XZ\"];\n        }\n\n        if (axis === \"Y\") {\n\n            this.activePlane = this.planes[\"XY\"];\n\n            if (Math.abs(eye.x) > Math.abs(eye.z)) this.activePlane = this.planes[\"YZ\"];\n        }\n\n        if (axis === \"Z\") {\n\n            this.activePlane = this.planes[\"XZ\"];\n\n            if (Math.abs(eye.x) > Math.abs(eye.y)) this.activePlane = this.planes[\"YZ\"];\n        }\n\n        if (axis === \"XYZ\") this.activePlane = this.planes[\"XYZE\"];\n\n        if (axis === \"XY\") this.activePlane = this.planes[\"XY\"];\n\n        if (axis === \"YZ\") this.activePlane = this.planes[\"YZ\"];\n\n        if (axis === \"XZ\") this.activePlane = this.planes[\"XZ\"];\n    };\n\n    this.init();\n}\n\nTransformGizmoTranslate.prototype = Object.create(TransformGizmo$1.prototype);\nTransformGizmoTranslate.prototype.constructor = TransformGizmoTranslate;\n\nfunction TransformGizmoRotate(handles) {\n\n    TransformGizmo$1.call(this, handles);\n\n    this.setActivePlane = function (axis) {\n\n        if (axis === \"E\") this.activePlane = this.planes[\"XYZE\"];\n\n        if (axis === \"X\") this.activePlane = this.planes[\"YZ\"];\n\n        if (axis === \"Y\") this.activePlane = this.planes[\"XZ\"];\n\n        if (axis === \"Z\") this.activePlane = this.planes[\"XY\"];\n    };\n\n    this.update = function (rotation, eye2) {\n\n        TransformGizmo$1.prototype.update.apply(this, arguments);\n\n        var group = {\n\n            handles: this[\"handles\"]\n\n        };\n\n        var tempMatrix = new Matrix4();\n        var worldRotation = new Euler(0, 0, 1);\n        var tempQuaternion = new Quaternion();\n        var unitX = new Vector3(1, 0, 0);\n        var unitY = new Vector3(0, 1, 0);\n        var unitZ = new Vector3(0, 0, 1);\n        var quaternionX = new Quaternion();\n        var quaternionY = new Quaternion();\n        var quaternionZ = new Quaternion();\n        var eye = eye2.clone();\n\n        worldRotation.copy(this.planes[\"XY\"].rotation);\n        tempQuaternion.setFromEuler(worldRotation);\n\n        tempMatrix.makeRotationFromQuaternion(tempQuaternion).getInverse(tempMatrix);\n        eye.applyMatrix4(tempMatrix);\n\n        this.traverse(function (child) {\n\n            tempQuaternion.setFromEuler(worldRotation);\n\n            if (child.name === \"X\") {\n\n                quaternionX.setFromAxisAngle(unitX, Math.atan2(-eye.y, eye.z));\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionX);\n                child.quaternion.copy(tempQuaternion);\n            }\n\n            if (child.name === \"Y\") {\n\n                quaternionY.setFromAxisAngle(unitY, Math.atan2(eye.x, eye.z));\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionY);\n                child.quaternion.copy(tempQuaternion);\n            }\n\n            if (child.name === \"Z\") {\n\n                quaternionZ.setFromAxisAngle(unitZ, Math.atan2(eye.y, eye.x));\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionZ);\n                child.quaternion.copy(tempQuaternion);\n            }\n        });\n    };\n\n    this.init();\n}\n\nTransformGizmoRotate.prototype = Object.create(TransformGizmo$1.prototype);\nTransformGizmoRotate.prototype.constructor = TransformGizmoRotate;\n\nfunction TransformGizmoScale(handles) {\n\n    TransformGizmo$1.call(this, handles);\n\n    this.setActivePlane = function (axis, eye) {\n\n        var tempMatrix = new Matrix4();\n        eye.applyMatrix4(tempMatrix.getInverse(tempMatrix.extractRotation(this.planes[\"XY\"].matrixWorld)));\n\n        if (axis === \"X\") {\n\n            this.activePlane = this.planes[\"XY\"];\n            if (Math.abs(eye.y) > Math.abs(eye.z)) this.activePlane = this.planes[\"XZ\"];\n        }\n\n        if (axis === \"Y\") {\n\n            this.activePlane = this.planes[\"XY\"];\n            if (Math.abs(eye.x) > Math.abs(eye.z)) this.activePlane = this.planes[\"YZ\"];\n        }\n\n        if (axis === \"Z\") {\n\n            this.activePlane = this.planes[\"XZ\"];\n            if (Math.abs(eye.x) > Math.abs(eye.y)) this.activePlane = this.planes[\"YZ\"];\n        }\n\n        if (axis === \"XYZ\") this.activePlane = this.planes[\"XYZE\"];\n    };\n\n    this.init();\n}\n\nTransformGizmoScale.prototype = Object.create(TransformGizmo$1.prototype);\nTransformGizmoScale.prototype.constructor = TransformGizmoScale;\n\nfunction TransformControls(camera, domElement) {\n\n    // TODO: Make non-uniform scale and rotate play nice in hierarchies\n    // TODO: ADD RXYZ contol\n\n    Object3D.call(this);\n\n    domElement = domElement !== undefined ? domElement : document;\n\n    this.defaultHandles = new DefaultHandles();\n\n    this.object = undefined;\n    this.visible = false;\n    this.translationSnap = null;\n    this.rotationSnap = null;\n    this.space = \"world\";\n    this.size = 1;\n    this.axis = null;\n    this.dragObject = false;\n\n    var scope = this;\n\n    var _mode = \"translate\";\n    var _dragging = false;\n    var _plane = \"XY\";\n    var _gizmo = {\n        \"translate\": new TransformGizmoTranslate(scope.defaultHandles.translateHandles()),\n        \"rotate\": new TransformGizmoRotate(scope.defaultHandles.rotateHandles()),\n        \"scale\": new TransformGizmoScale(scope.defaultHandles.scaleHandles())\n    };\n\n    for (var type in _gizmo) {\n\n        var gizmoObj = _gizmo[type];\n\n        gizmoObj.visible = type === _mode;\n        this.add(gizmoObj);\n    }\n\n    var changeEvent = { type: \"change\" };\n    var mouseDownEvent = { type: \"mouseDown\" };\n    var mouseUpEvent = { type: \"mouseUp\", mode: _mode };\n    var objectChangeEvent = { type: \"objectChange\" };\n\n    var ray = new Raycaster();\n    ray.linePrecision = 0.01;\n    var pointerVector = new Vector2();\n\n    var point = new Vector3();\n    var offset = new Vector3();\n\n    var rotation = new Vector3();\n    var offsetRotation = new Vector3();\n    var scale = 1;\n\n    var lookAtMatrix = new Matrix4();\n    var eye = new Vector3();\n\n    var tempMatrix = new Matrix4();\n    var tempVector = new Vector3();\n    var tempQuaternion = new Quaternion();\n    var unitX = new Vector3(1, 0, 0);\n    var unitY = new Vector3(0, 1, 0);\n    var unitZ = new Vector3(0, 0, 1);\n\n    var quaternionXYZ = new Quaternion();\n    var quaternionX = new Quaternion();\n    var quaternionY = new Quaternion();\n    var quaternionZ = new Quaternion();\n    var quaternionE = new Quaternion();\n\n    var oldPosition = new Vector3();\n    var oldScale = new Vector3();\n    var oldRotationMatrix = new Matrix4();\n\n    var parentRotationMatrix = new Matrix4();\n    var parentScale = new Vector3();\n\n    var worldPosition = new Vector3();\n    var worldRotation = new Euler();\n    var worldRotationMatrix = new Matrix4();\n    var camPosition = new Vector3();\n    var camRotation = new Euler();\n\n    domElement.addEventListener(\"mousedown\", onPointerDown, false);\n    domElement.addEventListener(\"touchstart\", onPointerDown, false);\n\n    domElement.addEventListener(\"mousemove\", onPointerHover, false);\n    domElement.addEventListener(\"touchmove\", onPointerHover, false);\n\n    domElement.addEventListener(\"mousemove\", onPointerMove, false);\n    domElement.addEventListener(\"touchmove\", onPointerMove, false);\n\n    domElement.addEventListener(\"mouseup\", onPointerUp, false);\n    domElement.addEventListener(\"mouseout\", onPointerUp, false);\n    domElement.addEventListener(\"touchend\", onPointerUp, false);\n    domElement.addEventListener(\"touchcancel\", onPointerUp, false);\n    domElement.addEventListener(\"touchleave\", onPointerUp, false);\n\n    this.dispose = function () {\n\n        domElement.removeEventListener(\"mousedown\", onPointerDown);\n        domElement.removeEventListener(\"touchstart\", onPointerDown);\n\n        domElement.removeEventListener(\"mousemove\", onPointerHover);\n        domElement.removeEventListener(\"touchmove\", onPointerHover);\n\n        domElement.removeEventListener(\"mousemove\", onPointerMove);\n        domElement.removeEventListener(\"touchmove\", onPointerMove);\n\n        domElement.removeEventListener(\"mouseup\", onPointerUp);\n        domElement.removeEventListener(\"mouseout\", onPointerUp);\n        domElement.removeEventListener(\"touchend\", onPointerUp);\n        domElement.removeEventListener(\"touchcancel\", onPointerUp);\n        domElement.removeEventListener(\"touchleave\", onPointerUp);\n    };\n\n    this.attach = function (object) {\n\n        this.object = object;\n        this.visible = true;\n        this.update();\n    };\n\n    this.detach = function () {\n\n        this.object = undefined;\n        this.visible = false;\n        this.axis = null;\n    };\n\n    this.getMode = function () {\n\n        return _mode;\n    };\n\n    this.setMode = function (mode) {\n\n        _mode = mode ? mode : _mode;\n\n        if (_mode === \"scale\") scope.space = \"local\";\n\n        for (var type in _gizmo) {\n            _gizmo[type].visible = type === _mode;\n        }this.update();\n        scope.dispatchEvent(changeEvent);\n    };\n\n    this.setTranslationSnap = function (translationSnap) {\n\n        scope.translationSnap = translationSnap;\n    };\n\n    this.setRotationSnap = function (rotationSnap) {\n\n        scope.rotationSnap = rotationSnap;\n    };\n\n    this.setSize = function (size) {\n\n        scope.size = size;\n        this.update();\n        scope.dispatchEvent(changeEvent);\n    };\n\n    this.setSpace = function (space) {\n\n        scope.space = space;\n        this.update();\n        scope.dispatchEvent(changeEvent);\n    };\n\n    this.setHandles = function (mode, handles) {\n\n        _gizmo[mode].setHandles(handles);\n        scope.update();\n        scope.dispatchEvent(changeEvent);\n    };\n\n    this.update = function () {\n\n        if (scope.object === undefined) return;\n\n        scope.object.updateMatrixWorld();\n        worldPosition.setFromMatrixPosition(scope.object.matrixWorld);\n        worldRotation.setFromRotationMatrix(tempMatrix.extractRotation(scope.object.matrixWorld));\n\n        camera.updateMatrixWorld();\n        camPosition.setFromMatrixPosition(camera.matrixWorld);\n        camRotation.setFromRotationMatrix(tempMatrix.extractRotation(camera.matrixWorld));\n\n        scale = worldPosition.distanceTo(camPosition) / 6 * scope.size;\n        this.position.copy(worldPosition);\n        this.scale.set(scale, scale, scale);\n\n        if (camera instanceof PerspectiveCamera) {\n\n            eye.copy(camPosition).sub(worldPosition).normalize();\n        } else if (camera instanceof OrthographicCamera) {\n\n            eye.copy(camPosition).normalize();\n        }\n\n        if (scope.space === \"local\") {\n\n            _gizmo[_mode].update(worldRotation, eye);\n        } else if (scope.space === \"world\") {\n\n            _gizmo[_mode].update(new Euler(), eye);\n        }\n\n        _gizmo[_mode].highlight(scope.axis);\n    };\n\n    function onPointerHover(event) {\n\n        if (scope.object === undefined || _dragging === true || _gizmo[_mode].handles === null || event.button !== undefined && event.button !== 0) return;\n\n        var pointer = event.changedTouches ? event.changedTouches[0] : event;\n\n        var intersect = intersectObjects(pointer, _gizmo[_mode].handles.children);\n\n        var axis = null;\n\n        if (intersect) {\n\n            axis = intersect.object.name;\n\n            event.preventDefault();\n        }\n\n        if (scope.axis !== axis) {\n\n            scope.axis = axis;\n            scope.update();\n            scope.dispatchEvent(changeEvent);\n        }\n    }\n\n    function onPointerDown(event) {\n\n        if (scope.object === undefined || _dragging === true || event.button !== undefined && event.button !== 0) return;\n\n        var pointer = event.changedTouches ? event.changedTouches[0] : event;\n\n        if (pointer.button === 0 || pointer.button === undefined) {\n\n            if (_gizmo[_mode].handles !== null) {\n\n                var intersect = intersectObjects(pointer, _gizmo[_mode].handles.children);\n\n                if (!intersect) return;\n\n                event.preventDefault();\n                event.stopPropagation();\n\n                scope.dispatchEvent(mouseDownEvent);\n\n                scope.axis = intersect.object.name;\n            }\n\n            if (!scope.axis) return;\n\n            scope.update();\n\n            eye.copy(camPosition).sub(worldPosition).normalize();\n\n            _gizmo[_mode].setActivePlane(scope.axis, eye);\n\n            var planeIntersect = intersectObjects(pointer, [_gizmo[_mode].activePlane]);\n\n            if (planeIntersect) {\n\n                oldPosition.copy(scope.object.position);\n                oldScale.copy(scope.object.scale);\n\n                oldRotationMatrix.extractRotation(scope.object.matrix);\n                worldRotationMatrix.extractRotation(scope.object.matrixWorld);\n\n                parentRotationMatrix.extractRotation(scope.object.parent.matrixWorld);\n                parentScale.setFromMatrixScale(tempMatrix.getInverse(scope.object.parent.matrixWorld));\n\n                offset.copy(planeIntersect.point);\n            }\n        }\n\n        _dragging = true;\n    }\n\n    function onPointerMove(event) {\n\n        if (scope.object === undefined || scope.axis === null || _dragging === false || event.button !== undefined && event.button !== 0) return;\n\n        var pointer = event.changedTouches ? event.changedTouches[0] : event;\n\n        var planeIntersect = intersectObjects(pointer, [_gizmo[_mode].activePlane]);\n\n        if (planeIntersect === false) return;\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        point.copy(planeIntersect.point);\n\n        if (_mode === \"translate\") {\n\n            point.sub(offset);\n            point.multiply(parentScale);\n\n            if (scope.space === \"local\") {\n\n                point.applyMatrix4(tempMatrix.getInverse(worldRotationMatrix));\n\n                if (scope.axis.search(\"X\") === -1) point.x = 0;\n                if (scope.axis.search(\"Y\") === -1) point.y = 0;\n                if (scope.axis.search(\"Z\") === -1) point.z = 0;\n\n                point.applyMatrix4(oldRotationMatrix);\n\n                scope.object.position.copy(oldPosition);\n                scope.object.position.add(point);\n            }\n\n            if (scope.space === \"world\" || scope.axis.search(\"XYZ\") !== -1) {\n\n                if (scope.axis.search(\"X\") === -1) point.x = 0;\n                if (scope.axis.search(\"Y\") === -1) point.y = 0;\n                if (scope.axis.search(\"Z\") === -1) point.z = 0;\n\n                point.applyMatrix4(tempMatrix.getInverse(parentRotationMatrix));\n\n                scope.object.position.copy(oldPosition);\n                scope.object.position.add(point);\n            }\n\n            if (scope.translationSnap !== null) {\n\n                if (scope.space === \"local\") {\n\n                    scope.object.position.applyMatrix4(tempMatrix.getInverse(worldRotationMatrix));\n                }\n\n                if (scope.axis.search(\"X\") !== -1) scope.object.position.x = Math.round(scope.object.position.x / scope.translationSnap) * scope.translationSnap;\n                if (scope.axis.search(\"Y\") !== -1) scope.object.position.y = Math.round(scope.object.position.y / scope.translationSnap) * scope.translationSnap;\n                if (scope.axis.search(\"Z\") !== -1) scope.object.position.z = Math.round(scope.object.position.z / scope.translationSnap) * scope.translationSnap;\n\n                if (scope.space === \"local\") {\n\n                    scope.object.position.applyMatrix4(worldRotationMatrix);\n                }\n            }\n        } else if (_mode === \"scale\") {\n\n            point.sub(offset);\n            point.multiply(parentScale);\n\n            if (scope.space === \"local\") {\n\n                if (scope.axis === \"XYZ\") {\n\n                    scale = 1 + point.y / Math.max(oldScale.x, oldScale.y, oldScale.z);\n\n                    scope.object.scale.x = oldScale.x * scale;\n                    scope.object.scale.y = oldScale.y * scale;\n                    scope.object.scale.z = oldScale.z * scale;\n                } else {\n\n                    point.applyMatrix4(tempMatrix.getInverse(worldRotationMatrix));\n\n                    if (scope.axis === \"X\") scope.object.scale.x = oldScale.x * (1 + point.x / oldScale.x);\n                    if (scope.axis === \"Y\") scope.object.scale.y = oldScale.y * (1 + point.y / oldScale.y);\n                    if (scope.axis === \"Z\") scope.object.scale.z = oldScale.z * (1 + point.z / oldScale.z);\n                }\n            }\n        } else if (_mode === \"rotate\") {\n\n            point.sub(worldPosition);\n            point.multiply(parentScale);\n            tempVector.copy(offset).sub(worldPosition);\n            tempVector.multiply(parentScale);\n\n            if (scope.axis === \"E\") {\n\n                point.applyMatrix4(tempMatrix.getInverse(lookAtMatrix));\n                tempVector.applyMatrix4(tempMatrix.getInverse(lookAtMatrix));\n\n                rotation.set(Math.atan2(point.z, point.y), Math.atan2(point.x, point.z), Math.atan2(point.y, point.x));\n                offsetRotation.set(Math.atan2(tempVector.z, tempVector.y), Math.atan2(tempVector.x, tempVector.z), Math.atan2(tempVector.y, tempVector.x));\n\n                tempQuaternion.setFromRotationMatrix(tempMatrix.getInverse(parentRotationMatrix));\n\n                quaternionE.setFromAxisAngle(eye, rotation.z - offsetRotation.z);\n                quaternionXYZ.setFromRotationMatrix(worldRotationMatrix);\n\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionE);\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionXYZ);\n\n                scope.object.quaternion.copy(tempQuaternion);\n            } else if (scope.axis === \"XYZE\") {\n\n                quaternionE.setFromEuler(point.clone().cross(tempVector).normalize()); // rotation axis\n\n                tempQuaternion.setFromRotationMatrix(tempMatrix.getInverse(parentRotationMatrix));\n                quaternionX.setFromAxisAngle(quaternionE, -point.clone().angleTo(tempVector));\n                quaternionXYZ.setFromRotationMatrix(worldRotationMatrix);\n\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionX);\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionXYZ);\n\n                scope.object.quaternion.copy(tempQuaternion);\n            } else if (scope.space === \"local\") {\n\n                point.applyMatrix4(tempMatrix.getInverse(worldRotationMatrix));\n\n                tempVector.applyMatrix4(tempMatrix.getInverse(worldRotationMatrix));\n\n                rotation.set(Math.atan2(point.z, point.y), Math.atan2(point.x, point.z), Math.atan2(point.y, point.x));\n                offsetRotation.set(Math.atan2(tempVector.z, tempVector.y), Math.atan2(tempVector.x, tempVector.z), Math.atan2(tempVector.y, tempVector.x));\n\n                quaternionXYZ.setFromRotationMatrix(oldRotationMatrix);\n\n                if (scope.rotationSnap !== null) {\n\n                    quaternionX.setFromAxisAngle(unitX, Math.round((rotation.x - offsetRotation.x) / scope.rotationSnap) * scope.rotationSnap);\n                    quaternionY.setFromAxisAngle(unitY, Math.round((rotation.y - offsetRotation.y) / scope.rotationSnap) * scope.rotationSnap);\n                    quaternionZ.setFromAxisAngle(unitZ, Math.round((rotation.z - offsetRotation.z) / scope.rotationSnap) * scope.rotationSnap);\n                } else {\n\n                    quaternionX.setFromAxisAngle(unitX, rotation.x - offsetRotation.x);\n                    quaternionY.setFromAxisAngle(unitY, rotation.y - offsetRotation.y);\n                    quaternionZ.setFromAxisAngle(unitZ, rotation.z - offsetRotation.z);\n                }\n\n                if (scope.axis === \"X\") quaternionXYZ.multiplyQuaternions(quaternionXYZ, quaternionX);\n                if (scope.axis === \"Y\") quaternionXYZ.multiplyQuaternions(quaternionXYZ, quaternionY);\n                if (scope.axis === \"Z\") quaternionXYZ.multiplyQuaternions(quaternionXYZ, quaternionZ);\n\n                scope.object.quaternion.copy(quaternionXYZ);\n            } else if (scope.space === \"world\") {\n\n                rotation.set(Math.atan2(point.z, point.y), Math.atan2(point.x, point.z), Math.atan2(point.y, point.x));\n                offsetRotation.set(Math.atan2(tempVector.z, tempVector.y), Math.atan2(tempVector.x, tempVector.z), Math.atan2(tempVector.y, tempVector.x));\n\n                tempQuaternion.setFromRotationMatrix(tempMatrix.getInverse(parentRotationMatrix));\n\n                if (scope.rotationSnap !== null) {\n\n                    quaternionX.setFromAxisAngle(unitX, Math.round((rotation.x - offsetRotation.x) / scope.rotationSnap) * scope.rotationSnap);\n                    quaternionY.setFromAxisAngle(unitY, Math.round((rotation.y - offsetRotation.y) / scope.rotationSnap) * scope.rotationSnap);\n                    quaternionZ.setFromAxisAngle(unitZ, Math.round((rotation.z - offsetRotation.z) / scope.rotationSnap) * scope.rotationSnap);\n                } else {\n\n                    quaternionX.setFromAxisAngle(unitX, rotation.x - offsetRotation.x);\n                    quaternionY.setFromAxisAngle(unitY, rotation.y - offsetRotation.y);\n                    quaternionZ.setFromAxisAngle(unitZ, rotation.z - offsetRotation.z);\n                }\n\n                quaternionXYZ.setFromRotationMatrix(worldRotationMatrix);\n\n                if (scope.axis === \"X\") tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionX);\n                if (scope.axis === \"Y\") tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionY);\n                if (scope.axis === \"Z\") tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionZ);\n\n                tempQuaternion.multiplyQuaternions(tempQuaternion, quaternionXYZ);\n\n                scope.object.quaternion.copy(tempQuaternion);\n            }\n        }\n\n        scope.update();\n        scope.dispatchEvent(changeEvent);\n        scope.dispatchEvent(objectChangeEvent);\n    }\n\n    function onPointerUp(event) {\n\n        event.preventDefault(); // Prevent MouseEvent on mobile\n\n        if (event.button !== undefined && event.button !== 0) return;\n\n        if (_dragging && scope.axis !== null) {\n\n            mouseUpEvent.mode = _mode;\n            scope.dispatchEvent(mouseUpEvent);\n        }\n\n        _dragging = false;\n\n        if ('TouchEvent' in window && event instanceof TouchEvent) {\n\n            // Force \"rollover\"\n\n            scope.axis = null;\n            scope.update();\n            scope.dispatchEvent(changeEvent);\n        } else {\n\n            onPointerHover(event);\n        }\n    }\n\n    function intersectObjects(pointer, objects) {\n\n        var rect = domElement.getBoundingClientRect();\n        var x = (pointer.clientX - rect.left) / rect.width;\n        var y = (pointer.clientY - rect.top) / rect.height;\n\n        pointerVector.set(x * 2 - 1, -(y * 2) + 1);\n        ray.setFromCamera(pointerVector, camera);\n\n        var intersections = ray.intersectObjects(objects, true);\n        return intersections[0] ? intersections[0] : false;\n    }\n}\n\nTransformControls.prototype = Object.create(Object3D.prototype);\nTransformControls.prototype.constructor = TransformControls;\n\n/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one finger move\n//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n//    Pan - right mouse, or arrow keys / touch: three finger swipe\n\nfunction OrbitControls$1(object, domElement) {\n\n\tthis.object = object;\n\n\tthis.domElement = domElement !== undefined ? domElement : document;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\tthis.minAzimuthAngle = -Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.25;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = true;\n\tthis.keyPanSpeed = 7.0; // pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// Set to false to disable use of the keys\n\tthis.enableKeys = true;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { ORBIT: MOUSE.LEFT, ZOOM: MOUSE.MIDDLE, PAN: MOUSE.RIGHT };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t//\n\t// public methods\n\t//\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\t};\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy(scope.target);\n\t\tscope.position0.copy(scope.object.position);\n\t\tscope.zoom0 = scope.object.zoom;\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy(scope.target0);\n\t\tscope.object.position.copy(scope.position0);\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent(changeEvent);\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new Quaternion().setFromUnitVectors(object.up, new Vector3(0, 1, 0));\n\t\tvar quatInverse = quat.clone().inverse();\n\n\t\tvar lastPosition = new Vector3();\n\t\tvar lastQuaternion = new Quaternion();\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy(position).sub(scope.target);\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion(quat);\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3(offset);\n\n\t\t\tif (scope.autoRotate && state === STATE.NONE) {\n\n\t\t\t\trotateLeft(getAutoRotationAngle());\n\t\t\t}\n\n\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t// restrict theta to be between desired limits\n\t\t\tspherical.theta = Math.max(scope.minAzimuthAngle, Math.min(scope.maxAzimuthAngle, spherical.theta));\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n\n\t\t\tspherical.makeSafe();\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius));\n\n\t\t\t// move target to panned location\n\t\t\tscope.target.add(panOffset);\n\n\t\t\toffset.setFromSpherical(spherical);\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion(quatInverse);\n\n\t\t\tposition.copy(scope.target).add(offset);\n\n\t\t\tscope.object.lookAt(scope.target);\n\n\t\t\tif (scope.enableDamping === true) {\n\n\t\t\t\tsphericalDelta.theta *= 1 - scope.dampingFactor;\n\t\t\t\tsphericalDelta.phi *= 1 - scope.dampingFactor;\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set(0, 0, 0);\n\t\t\t}\n\n\t\t\tscale = 1;\n\t\t\tpanOffset.set(0, 0, 0);\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n\n\t\t\t\tscope.dispatchEvent(changeEvent);\n\n\t\t\t\tlastPosition.copy(scope.object.position);\n\t\t\t\tlastQuaternion.copy(scope.object.quaternion);\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener('contextmenu', onContextMenu, false);\n\t\tscope.domElement.removeEventListener('mousedown', onMouseDown, false);\n\t\tscope.domElement.removeEventListener('wheel', onMouseWheel, false);\n\n\t\tscope.domElement.removeEventListener('touchstart', onTouchStart, false);\n\t\tscope.domElement.removeEventListener('touchend', onTouchEnd, false);\n\t\tscope.domElement.removeEventListener('touchmove', onTouchMove, false);\n\n\t\tdocument.removeEventListener('mousemove', onMouseMove, false);\n\t\tdocument.removeEventListener('mouseup', onMouseUp, false);\n\n\t\twindow.removeEventListener('keydown', onKeyDown, false);\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = { NONE: -1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new Spherical();\n\tvar sphericalDelta = new Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new Vector2();\n\tvar rotateEnd = new Vector2();\n\tvar rotateDelta = new Vector2();\n\n\tvar panStart = new Vector2();\n\tvar panEnd = new Vector2();\n\tvar panDelta = new Vector2();\n\n\tvar dollyStart = new Vector2();\n\tvar dollyEnd = new Vector2();\n\tvar dollyDelta = new Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow(0.95, scope.zoomSpeed);\n\t}\n\n\tfunction rotateLeft(angle) {\n\n\t\tsphericalDelta.theta -= angle;\n\t}\n\n\tfunction rotateUp(angle) {\n\n\t\tsphericalDelta.phi -= angle;\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panLeft(distance, objectMatrix) {\n\n\t\t\tv.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\t\t\tv.multiplyScalar(-distance);\n\n\t\t\tpanOffset.add(v);\n\t\t};\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panUp(distance, objectMatrix) {\n\n\t\t\tv.setFromMatrixColumn(objectMatrix, 1); // get Y column of objectMatrix\n\t\t\tv.multiplyScalar(distance);\n\n\t\t\tpanOffset.add(v);\n\t\t};\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\treturn function pan(deltaX, deltaY) {\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tif (scope.object instanceof PerspectiveCamera) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy(position).sub(scope.target);\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0);\n\n\t\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\n\t\t\t\tpanLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n\t\t\t\tpanUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n\t\t\t} else if (scope.object instanceof OrthographicCamera) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n\t\t\t\tpanUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n\t\t\t\tscope.enablePan = false;\n\t\t\t}\n\t\t};\n\t}();\n\n\tfunction dollyIn(dollyScale) {\n\n\t\tif (scope.object instanceof PerspectiveCamera) {\n\n\t\t\tscale /= dollyScale;\n\t\t} else if (scope.object instanceof OrthographicCamera) {\n\n\t\t\tscope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\t\t} else {\n\n\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n\t\t\tscope.enableZoom = false;\n\t\t}\n\t}\n\n\tfunction dollyOut(dollyScale) {\n\n\t\tif (scope.object instanceof PerspectiveCamera) {\n\n\t\t\tscale *= dollyScale;\n\t\t} else if (scope.object instanceof OrthographicCamera) {\n\n\t\t\tscope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\t\t} else {\n\n\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n\t\t\tscope.enableZoom = false;\n\t\t}\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate(event) {\n\n\t\t//console.log( 'handleMouseDownRotate' );\n\n\t\trotateStart.set(event.clientX, event.clientY);\n\t}\n\n\tfunction handleMouseDownDolly(event) {\n\n\t\t//console.log( 'handleMouseDownDolly' );\n\n\t\tdollyStart.set(event.clientX, event.clientY);\n\t}\n\n\tfunction handleMouseDownPan(event) {\n\n\t\t//console.log( 'handleMouseDownPan' );\n\n\t\tpanStart.set(event.clientX, event.clientY);\n\t}\n\n\tfunction handleMouseMoveRotate(event) {\n\n\t\t//console.log( 'handleMouseMoveRotate' );\n\n\t\trotateEnd.set(event.clientX, event.clientY);\n\t\trotateDelta.subVectors(rotateEnd, rotateStart);\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t// rotating across whole screen goes 360 degrees around\n\t\trotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\trotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n\t\trotateStart.copy(rotateEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleMouseMoveDolly(event) {\n\n\t\t//console.log( 'handleMouseMoveDolly' );\n\n\t\tdollyEnd.set(event.clientX, event.clientY);\n\n\t\tdollyDelta.subVectors(dollyEnd, dollyStart);\n\n\t\tif (dollyDelta.y > 0) {\n\n\t\t\tdollyIn(getZoomScale());\n\t\t} else if (dollyDelta.y < 0) {\n\n\t\t\tdollyOut(getZoomScale());\n\t\t}\n\n\t\tdollyStart.copy(dollyEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleMouseMovePan(event) {\n\n\t\t//console.log( 'handleMouseMovePan' );\n\n\t\tpanEnd.set(event.clientX, event.clientY);\n\n\t\tpanDelta.subVectors(panEnd, panStart);\n\n\t\tpan(panDelta.x, panDelta.y);\n\n\t\tpanStart.copy(panEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleMouseUp(event) {\n\n\t\t// console.log( 'handleMouseUp' );\n\n\t}\n\n\tfunction handleMouseWheel(event) {\n\n\t\t// console.log( 'handleMouseWheel' );\n\n\t\tif (event.deltaY < 0) {\n\n\t\t\tdollyOut(getZoomScale());\n\t\t} else if (event.deltaY > 0) {\n\n\t\t\tdollyIn(getZoomScale());\n\t\t}\n\n\t\tscope.update();\n\t}\n\n\tfunction handleKeyDown(event) {\n\n\t\t//console.log( 'handleKeyDown' );\n\n\t\tswitch (event.keyCode) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan(0, scope.keyPanSpeed);\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan(0, -scope.keyPanSpeed);\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan(scope.keyPanSpeed, 0);\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan(-scope.keyPanSpeed, 0);\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n\n\tfunction handleTouchStartRotate(event) {\n\n\t\t//console.log( 'handleTouchStartRotate' );\n\n\t\trotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\t}\n\n\tfunction handleTouchStartDolly(event) {\n\n\t\t//console.log( 'handleTouchStartDolly' );\n\n\t\tvar dx = event.touches[0].pageX - event.touches[1].pageX;\n\t\tvar dy = event.touches[0].pageY - event.touches[1].pageY;\n\n\t\tvar distance = Math.sqrt(dx * dx + dy * dy);\n\n\t\tdollyStart.set(0, distance);\n\t}\n\n\tfunction handleTouchStartPan(event) {\n\n\t\t//console.log( 'handleTouchStartPan' );\n\n\t\tpanStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\t}\n\n\tfunction handleTouchMoveRotate(event) {\n\n\t\t//console.log( 'handleTouchMoveRotate' );\n\n\t\trotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\t\trotateDelta.subVectors(rotateEnd, rotateStart);\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t// rotating across whole screen goes 360 degrees around\n\t\trotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\trotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n\t\trotateStart.copy(rotateEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleTouchMoveDolly(event) {\n\n\t\t//console.log( 'handleTouchMoveDolly' );\n\n\t\tvar dx = event.touches[0].pageX - event.touches[1].pageX;\n\t\tvar dy = event.touches[0].pageY - event.touches[1].pageY;\n\n\t\tvar distance = Math.sqrt(dx * dx + dy * dy);\n\n\t\tdollyEnd.set(0, distance);\n\n\t\tdollyDelta.subVectors(dollyEnd, dollyStart);\n\n\t\tif (dollyDelta.y > 0) {\n\n\t\t\tdollyOut(getZoomScale());\n\t\t} else if (dollyDelta.y < 0) {\n\n\t\t\tdollyIn(getZoomScale());\n\t\t}\n\n\t\tdollyStart.copy(dollyEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleTouchMovePan(event) {\n\n\t\t//console.log( 'handleTouchMovePan' );\n\n\t\tpanEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\n\t\tpanDelta.subVectors(panEnd, panStart);\n\n\t\tpan(panDelta.x, panDelta.y);\n\n\t\tpanStart.copy(panEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleTouchEnd(event) {}\n\n\t//console.log( 'handleTouchEnd' );\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onMouseDown(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tevent.preventDefault();\n\n\t\tif (event.button === scope.mouseButtons.ORBIT) {\n\n\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\thandleMouseDownRotate(event);\n\n\t\t\tstate = STATE.ROTATE;\n\t\t} else if (event.button === scope.mouseButtons.ZOOM) {\n\n\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\thandleMouseDownDolly(event);\n\n\t\t\tstate = STATE.DOLLY;\n\t\t} else if (event.button === scope.mouseButtons.PAN) {\n\n\t\t\tif (scope.enablePan === false) return;\n\n\t\t\thandleMouseDownPan(event);\n\n\t\t\tstate = STATE.PAN;\n\t\t}\n\n\t\tif (state !== STATE.NONE) {\n\n\t\t\tdocument.addEventListener('mousemove', onMouseMove, false);\n\t\t\tdocument.addEventListener('mouseup', onMouseUp, false);\n\n\t\t\tscope.dispatchEvent(startEvent);\n\t\t}\n\t}\n\n\tfunction onMouseMove(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tevent.preventDefault();\n\n\t\tif (state === STATE.ROTATE) {\n\n\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\thandleMouseMoveRotate(event);\n\t\t} else if (state === STATE.DOLLY) {\n\n\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\thandleMouseMoveDolly(event);\n\t\t} else if (state === STATE.PAN) {\n\n\t\t\tif (scope.enablePan === false) return;\n\n\t\t\thandleMouseMovePan(event);\n\t\t}\n\t}\n\n\tfunction onMouseUp(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\thandleMouseUp(event);\n\n\t\tdocument.removeEventListener('mousemove', onMouseMove, false);\n\t\tdocument.removeEventListener('mouseup', onMouseUp, false);\n\n\t\tscope.dispatchEvent(endEvent);\n\n\t\tstate = STATE.NONE;\n\t}\n\n\tfunction onMouseWheel(event) {\n\n\t\tif (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\thandleMouseWheel(event);\n\n\t\tscope.dispatchEvent(startEvent); // not sure why these are here...\n\t\tscope.dispatchEvent(endEvent);\n\t}\n\n\tfunction onKeyDown(event) {\n\n\t\tif (scope.enabled === false || scope.enableKeys === false || scope.enablePan === false) return;\n\n\t\thandleKeyDown(event);\n\t}\n\n\tfunction onTouchStart(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tswitch (event.touches.length) {\n\n\t\t\tcase 1:\n\t\t\t\t// one-fingered touch: rotate\n\n\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\thandleTouchStartRotate(event);\n\n\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\t// two-fingered touch: dolly\n\n\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\thandleTouchStartDolly(event);\n\n\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\t// three-fingered touch: pan\n\n\t\t\t\tif (scope.enablePan === false) return;\n\n\t\t\t\thandleTouchStartPan(event);\n\n\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif (state !== STATE.NONE) {\n\n\t\t\tscope.dispatchEvent(startEvent);\n\t\t}\n\t}\n\n\tfunction onTouchMove(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tswitch (event.touches.length) {\n\n\t\t\tcase 1:\n\t\t\t\t// one-fingered touch: rotate\n\n\t\t\t\tif (scope.enableRotate === false) return;\n\t\t\t\tif (state !== STATE.TOUCH_ROTATE) return; // is this needed?...\n\n\t\t\t\thandleTouchMoveRotate(event);\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\t// two-fingered touch: dolly\n\n\t\t\t\tif (scope.enableZoom === false) return;\n\t\t\t\tif (state !== STATE.TOUCH_DOLLY) return; // is this needed?...\n\n\t\t\t\thandleTouchMoveDolly(event);\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\t// three-fingered touch: pan\n\n\t\t\t\tif (scope.enablePan === false) return;\n\t\t\t\tif (state !== STATE.TOUCH_PAN) return; // is this needed?...\n\n\t\t\t\thandleTouchMovePan(event);\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\t}\n\n\tfunction onTouchEnd(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\thandleTouchEnd(event);\n\n\t\tscope.dispatchEvent(endEvent);\n\n\t\tstate = STATE.NONE;\n\t}\n\n\tfunction onContextMenu(event) {\n\n\t\tevent.preventDefault();\n\t}\n\n\t//\n\n\tscope.domElement.addEventListener('contextmenu', onContextMenu, false);\n\n\tscope.domElement.addEventListener('mousedown', onMouseDown, false);\n\tscope.domElement.addEventListener('wheel', onMouseWheel, false);\n\n\tscope.domElement.addEventListener('touchstart', onTouchStart, false);\n\tscope.domElement.addEventListener('touchend', onTouchEnd, false);\n\tscope.domElement.addEventListener('touchmove', onTouchMove, false);\n\n\twindow.addEventListener('keydown', onKeyDown, false);\n\n\t// force an update at start\n\n\tthis.update();\n}\n\nOrbitControls$1.prototype = Object.create(EventDispatcher.prototype);\nOrbitControls$1.prototype.constructor = OrbitControls;\n\nObject.defineProperties(OrbitControls$1.prototype, {\n\n\tcenter: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .center has been renamed to .target');\n\t\t\treturn this.target;\n\t\t}\n\n\t},\n\n\t// backward compatibility\n\n\tnoZoom: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n\t\t\treturn !this.enableZoom;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n\t\t\tthis.enableZoom = !value;\n\t\t}\n\n\t},\n\n\tnoRotate: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n\t\t\treturn !this.enableRotate;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n\t\t\tthis.enableRotate = !value;\n\t\t}\n\n\t},\n\n\tnoPan: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n\t\t\treturn !this.enablePan;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n\t\t\tthis.enablePan = !value;\n\t\t}\n\n\t},\n\n\tnoKeys: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n\t\t\treturn !this.enableKeys;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n\t\t\tthis.enableKeys = !value;\n\t\t}\n\n\t},\n\n\tstaticMoving: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n\t\t\treturn !this.enableDamping;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n\t\t\tthis.enableDamping = !value;\n\t\t}\n\n\t},\n\n\tdynamicDampingFactor: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n\t\t\treturn this.dampingFactor;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n\t\t\tthis.dampingFactor = value;\n\t\t}\n\n\t}\n\n});\n\n/**\n * @author aleeper / http://adamleeper.com/\n * @author mrdoob / http://mrdoob.com/\n * @author gero3 / https://github.com/gero3\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Description: A THREE loader for STL ASCII files, as created by Solidworks and other CAD programs.\n *\n * Supports both binary and ASCII encoded files, with automatic detection of type.\n *\n * The loader returns a non-indexed buffer geometry.\n *\n * Limitations:\n *  Binary decoding supports \"Magics\" color format (http://en.wikipedia.org/wiki/STL_(file_format)#Color_in_binary_STL).\n *  There is perhaps some question as to how valid it is to always assume little-endian-ness.\n *  ASCII decoding assumes file is UTF-8.\n *\n * Usage:\n *  var loader = new THREE.STLLoader();\n *  loader.load( './models/stl/slotted_disk.stl', function ( geometry ) {\n *    scene.add( new THREE.Mesh( geometry ) );\n *  });\n *\n * For binary STLs geometry might contain colors for vertices. To use it:\n *  // use the same code to load STL as above\n *  if (geometry.hasColors) {\n *    material = new THREE.MeshPhongMaterial({ opacity: geometry.alpha, vertexColors: THREE.VertexColors });\n *  } else { .... }\n *  var mesh = new THREE.Mesh( geometry, material );\n */\n\nfunction STLLoader(manager) {\n\n    this.manager = manager !== undefined ? manager : DefaultLoadingManager;\n}\n\nSTLLoader.prototype = {\n\n    constructor: STLLoader,\n\n    load: function load(url, onLoad, onProgress, onError) {\n\n        var scope = this;\n\n        var loader = new FileLoader(scope.manager);\n        loader.setResponseType('arraybuffer');\n        loader.load(url, function (text) {\n\n            onLoad(scope.parse(text));\n        }, onProgress, onError);\n    },\n\n    parse: function parse(data) {\n\n        var isBinary = function isBinary() {\n\n            var expect, face_size, n_faces, reader;\n            reader = new DataView(binData);\n            face_size = 32 / 8 * 3 + 32 / 8 * 3 * 3 + 16 / 8;\n            n_faces = reader.getUint32(80, true);\n            expect = 80 + 32 / 8 + n_faces * face_size;\n\n            if (expect === reader.byteLength) {\n\n                return true;\n            }\n\n            // An ASCII STL data must begin with 'solid ' as the first six bytes.\n            // However, ASCII STLs lacking the SPACE after the 'd' are known to be\n            // plentiful.  So, check the first 5 bytes for 'solid'.\n\n            // US-ASCII ordinal values for 's', 'o', 'l', 'i', 'd'\n            var solid = [115, 111, 108, 105, 100];\n\n            for (var i = 0; i < 5; i++) {\n\n                // If solid[ i ] does not match the i-th byte, then it is not an\n                // ASCII STL; hence, it is binary and return true.\n\n                if (solid[i] != reader.getUint8(i, false)) return true;\n            }\n\n            // First 5 bytes read \"solid\"; declare it to be an ASCII STL\n            return false;\n        };\n\n        var binData = this.ensureBinary(data);\n\n        return isBinary() ? this.parseBinary(binData) : this.parseASCII(this.ensureString(data));\n    },\n\n    parseBinary: function parseBinary(data) {\n\n        var reader = new DataView(data);\n        var faces = reader.getUint32(80, true);\n\n        var r,\n            g,\n            b,\n            hasColors = false,\n            colors;\n        var defaultR, defaultG, defaultB, alpha;\n\n        // process STL header\n        // check for default color in header (\"COLOR=rgba\" sequence).\n\n        for (var index = 0; index < 80 - 10; index++) {\n\n            if (reader.getUint32(index, false) == 0x434F4C4F /*COLO*/ && reader.getUint8(index + 4) == 0x52 /*'R'*/ && reader.getUint8(index + 5) == 0x3D /*'='*/) {\n\n                hasColors = true;\n                colors = [];\n\n                defaultR = reader.getUint8(index + 6) / 255;\n                defaultG = reader.getUint8(index + 7) / 255;\n                defaultB = reader.getUint8(index + 8) / 255;\n                alpha = reader.getUint8(index + 9) / 255;\n            }\n        }\n\n        var dataOffset = 84;\n        var faceLength = 12 * 4 + 2;\n\n        var geometry = new BufferGeometry();\n\n        var vertices = [];\n        var normals = [];\n\n        for (var face = 0; face < faces; face++) {\n\n            var start = dataOffset + face * faceLength;\n            var normalX = reader.getFloat32(start, true);\n            var normalY = reader.getFloat32(start + 4, true);\n            var normalZ = reader.getFloat32(start + 8, true);\n\n            if (hasColors) {\n\n                var packedColor = reader.getUint16(start + 48, true);\n\n                if ((packedColor & 0x8000) === 0) {\n\n                    // facet has its own unique color\n\n                    r = (packedColor & 0x1F) / 31;\n                    g = (packedColor >> 5 & 0x1F) / 31;\n                    b = (packedColor >> 10 & 0x1F) / 31;\n                } else {\n\n                    r = defaultR;\n                    g = defaultG;\n                    b = defaultB;\n                }\n            }\n\n            for (var i = 1; i <= 3; i++) {\n\n                var vertexstart = start + i * 12;\n\n                vertices.push(reader.getFloat32(vertexstart, true));\n                vertices.push(reader.getFloat32(vertexstart + 4, true));\n                vertices.push(reader.getFloat32(vertexstart + 8, true));\n\n                normals.push(normalX, normalY, normalZ);\n\n                if (hasColors) {\n\n                    colors.push(r, g, b);\n                }\n            }\n        }\n\n        geometry.addAttribute('position', new BufferAttribute(new Float32Array(vertices), 3));\n        geometry.addAttribute('normal', new BufferAttribute(new Float32Array(normals), 3));\n\n        if (hasColors) {\n\n            geometry.addAttribute('color', new BufferAttribute(new Float32Array(colors), 3));\n            geometry.hasColors = true;\n            geometry.alpha = alpha;\n        }\n\n        return geometry;\n    },\n\n    parseASCII: function parseASCII(data) {\n\n        var geometry, length, patternFace, patternNormal, patternVertex, result, text;\n        geometry = new BufferGeometry();\n        patternFace = /facet([\\s\\S]*?)endfacet/g;\n\n        var vertices = [];\n        var normals = [];\n\n        var normal = new Vector3();\n\n        while ((result = patternFace.exec(data)) !== null) {\n\n            text = result[0];\n            patternNormal = /normal[\\s]+([\\-+]?[0-9]+\\.?[0-9]*([eE][\\-+]?[0-9]+)?)+[\\s]+([\\-+]?[0-9]*\\.?[0-9]+([eE][\\-+]?[0-9]+)?)+[\\s]+([\\-+]?[0-9]*\\.?[0-9]+([eE][\\-+]?[0-9]+)?)+/g;\n\n            while ((result = patternNormal.exec(text)) !== null) {\n\n                normal.x = parseFloat(result[1]);\n                normal.y = parseFloat(result[3]);\n                normal.z = parseFloat(result[5]);\n            }\n\n            patternVertex = /vertex[\\s]+([\\-+]?[0-9]+\\.?[0-9]*([eE][\\-+]?[0-9]+)?)+[\\s]+([\\-+]?[0-9]*\\.?[0-9]+([eE][\\-+]?[0-9]+)?)+[\\s]+([\\-+]?[0-9]*\\.?[0-9]+([eE][\\-+]?[0-9]+)?)+/g;\n\n            while ((result = patternVertex.exec(text)) !== null) {\n\n                vertices.push(parseFloat(result[1]), parseFloat(result[3]), parseFloat(result[5]));\n                normals.push(normal.x, normal.y, normal.z);\n            }\n        }\n\n        geometry.addAttribute('position', new BufferAttribute(new Float32Array(vertices), 3));\n        geometry.addAttribute('normal', new BufferAttribute(new Float32Array(normals), 3));\n\n        return geometry;\n    },\n\n    ensureString: function ensureString(buf) {\n\n        if (typeof buf !== \"string\") {\n\n            var array_buffer = new Uint8Array(buf);\n            var strArray = [];\n            for (var i = 0; i < buf.byteLength; i++) {\n\n                strArray.push(String.fromCharCode(array_buffer[i])); // implicitly assumes little-endian\n            }\n            return strArray.join('');\n        } else {\n\n            return buf;\n        }\n    },\n\n    ensureBinary: function ensureBinary(buf) {\n\n        if (typeof buf === \"string\") {\n\n            var array_buffer = new Uint8Array(buf.length);\n            for (var i = 0; i < buf.length; i++) {\n\n                array_buffer[i] = buf.charCodeAt(i) & 0xff; // implicitly assumes little-endian\n            }\n            return array_buffer.buffer || array_buffer;\n        } else {\n\n            return buf;\n        }\n    }\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mr.doob / http://mrdoob.com/\n */\n\nvar Detector = {\n\n\tcanvas: !!window.CanvasRenderingContext2D,\n\twebgl: function () {\n\n\t\ttry {\n\n\t\t\tvar canvas = document.createElement('canvas');return !!(window.WebGLRenderingContext && (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));\n\t\t} catch (e) {\n\n\t\t\treturn false;\n\t\t}\n\t}(),\n\tworkers: !!window.Worker,\n\tfileapi: window.File && window.FileReader && window.FileList && window.Blob,\n\n\tgetWebGLErrorMessage: function getWebGLErrorMessage() {\n\n\t\tvar element = document.createElement('div');\n\t\telement.id = 'webgl-error-message';\n\t\telement.style.fontFamily = 'monospace';\n\t\telement.style.fontSize = '13px';\n\t\telement.style.fontWeight = 'normal';\n\t\telement.style.textAlign = 'center';\n\t\telement.style.background = '#fff';\n\t\telement.style.color = '#000';\n\t\telement.style.padding = '1.5em';\n\t\telement.style.width = '400px';\n\t\telement.style.margin = '5em auto 0';\n\n\t\tif (!this.webgl) {\n\n\t\t\telement.innerHTML = window.WebGLRenderingContext ? ['Your graphics card does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">WebGL</a>.<br />', 'Find out how to get it <a href=\"http://get.webgl.org/\" style=\"color:#000\">here</a>.'].join('\\n') : ['Your browser does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">WebGL</a>.<br/>', 'Find out how to get it <a href=\"http://get.webgl.org/\" style=\"color:#000\">here</a>.'].join('\\n');\n\t\t}\n\n\t\treturn element;\n\t},\n\n\taddGetWebGLMessage: function addGetWebGLMessage(parameters) {\n\n\t\tvar parent, id, element;\n\n\t\tparameters = parameters || {};\n\n\t\tparent = parameters.parent !== undefined ? parameters.parent : document.body;\n\t\tid = parameters.id !== undefined ? parameters.id : 'oldie';\n\n\t\telement = Detector.getWebGLErrorMessage();\n\t\telement.id = id;\n\n\t\tparent.appendChild(element);\n\t}\n\n};\n\n/**\n * @author kennethjiang / https://github.com/kennethjiang\n *\n *\n * Description: Seperator Geometry with unconnected islands into their own Geometries\n *\n */\n\nfunction VertexNode(posIndex) {\n    var self = this;\n    self.neighbors = new Set();\n    self.island = undefined;\n\n    self.addNeighbor = function (vertexNode) {\n        if (vertexNode === self) {\n            return;\n        }\n\n        self.neighbors.add(vertexNode);\n        vertexNode.neighbors.add(self);\n    };\n}\n\nfunction VertexGraph(positions, precisionPoints) {\n    var self = this;\n    self.positions = positions;\n    self.precisionPoints = precisionPoints;\n\n    self.verticesMap = new Map(); // map of { vertexKey -> vertexNode }\n\n    self.vertexKeyForPosition = function (posIndex) {\n\n        // 0 -> x; 1 -> y; 2 -> z\n        var _ref = [self.positions[posIndex], self.positions[posIndex + 1], self.positions[posIndex + 2]],\n            x = _ref[0],\n            y = _ref[1],\n            z = _ref[2];\n\n\n        var precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n        var precision = Math.pow(10, precisionPoints);\n        return Math.round(x * precision) + '_' + Math.round(y * precision) + '_' + Math.round(z * precision);\n    };\n\n    self.vertexForPosition = function (posIndex) {\n        return self.verticesMap.get(self.vertexKeyForPosition(posIndex));\n    };\n\n    for (var faceIndex = 0; faceIndex < positions.length; faceIndex += 9) {\n        // a face is 9 positions - 3 vertex x 3 positions\n\n        var verticesOfCurrentFace = [];\n        for (var v = 0; v < 3; v++) {\n            var key = self.vertexKeyForPosition(faceIndex + v * 3);\n\n            if (!self.verticesMap.has(key)) {\n                self.verticesMap.set(key, new VertexNode());\n            }\n\n            verticesOfCurrentFace.push(self.verticesMap.get(key));\n        }\n\n        // Since these 3 vertices are on the same face, they are neighbors on the graph\n        verticesOfCurrentFace[0].addNeighbor(verticesOfCurrentFace[1]);\n        verticesOfCurrentFace[0].addNeighbor(verticesOfCurrentFace[2]);\n    }\n\n    self.islands = function () {\n        var allIslands = [];\n\n        self.verticesMap.forEach(function (vertexNode) {\n\n            if (vertexNode.island) {\n                return;\n            }\n\n            var newIsland = {};\n            self.floodFill(vertexNode, newIsland);\n            allIslands.push(newIsland);\n        });\n\n        return allIslands;\n    };\n\n    self.floodFill = function (start, island) {\n\n        // Breadth-first traversal\n        var queue = [];\n\n        // Mark the source node as visited and enqueue it\n        queue.unshift(start);\n        start.island = island;\n\n        while (queue.length > 0) {\n\n            // Dequeue a vertex from queue and print it\n            var v = queue.pop(0);\n\n            // Get all adjacent vertices of the dequeued\n            // vertex s. If a adjacent has not been visited,\n            // then mark it visited and enqueue it\n            v.neighbors.forEach(function (nextV) {\n\n                if (!nextV.island) {\n                    queue.unshift(nextV);\n                    nextV.island = island;\n                }\n            });\n        }\n    };\n}\n\n/**\n * parameters:\n *   - precisionPoints: number of decimal points, e.g. 4 for epsilon of 0.0001. 2 vertices are considered \"the same\" when they are with the distance defined by precisionPoints\n */\n\nfunction IslandSeparator() {\n    var precisionPoints = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 4;\n\n\n    var self = this;\n\n    self.separate = function (geometry) {\n\n        var originalPositions = geometry.attributes.position.array;\n        var originalNormals = geometry.attributes.normal !== undefined ? geometry.attributes.normal.array : undefined;\n        var originalColors = geometry.attributes.color !== undefined ? geometry.attributes.color.array : undefined;\n\n        var graph = new VertexGraph(originalPositions, precisionPoints);\n        var islands = graph.islands();\n        var verticesMap = graph.verticesMap;\n\n        islands.forEach(function (island) {\n            island.faceIndices = []; // List of position indices the faces (the same as position index of 1st vertex of the face) on this island\n        });\n\n        for (var faceIndex = 0; faceIndex < originalPositions.length; faceIndex += 9) {\n            // a face is 9 positions - 3 vertex x 3 positions\n            var islandOfCurrentFace = graph.vertexForPosition(faceIndex).island;\n            islandOfCurrentFace.faceIndices.push(faceIndex);\n        }\n\n        var geometries = islands.map(function (island) {\n\n            // Adopted from STLLoader.js\n            var geometry = new BufferGeometry();\n\n            var vertices = [];\n            var normals = [];\n            var colors = [];\n\n            island.faceIndices.forEach(function (faceIndex) {\n\n                for (var i = 0; i < 9; i++) {\n\n                    vertices.push(originalPositions[faceIndex + i]);\n\n                    if (originalNormals) {\n                        normals.push(originalNormals[faceIndex + i]);\n                    }\n\n                    if (originalColors) {\n                        colors.push(originalColors[faceIndex + i]);\n                    }\n                }\n            });\n\n            geometry.addAttribute('position', new BufferAttribute(new Float32Array(vertices), 3));\n\n            if (originalNormals) {\n                geometry.addAttribute('normal', new BufferAttribute(new Float32Array(normals), 3));\n            }\n\n            if (originalColors) {\n                geometry.addAttribute('color', new BufferAttribute(new Float32Array(colors), 3));\n            }\n\n            return geometry;\n        });\n\n        return geometries;\n    };\n}\n\n/**\n * @author kovacsv / http://kovacsv.hu/\n * @author mrdoob / http://mrdoob.com/\n * @author mudcube / http://mudcu.be/\n */\n\nfunction STLBinaryExporter() {}\n\nSTLBinaryExporter.prototype = {\n\n\tconstructor: STLBinaryExporter,\n\n\tparse: function () {\n\n\t\tvar vector = new Vector3();\n\t\tvar normalMatrixWorld = new Matrix3();\n\n\t\treturn function parse(scene) {\n\n\t\t\t// We collect objects first, as we may need to convert from BufferGeometry to Geometry\n\t\t\tvar objects = [];\n\t\t\tvar triangles = 0;\n\t\t\tscene.traverse(function (object) {\n\n\t\t\t\tif (!(object instanceof Mesh)) return;\n\n\t\t\t\tvar geometry = object.geometry;\n\t\t\t\tif (geometry instanceof BufferGeometry) {\n\n\t\t\t\t\tgeometry = new Geometry().fromBufferGeometry(geometry);\n\t\t\t\t}\n\n\t\t\t\tif (!(geometry instanceof Geometry)) return;\n\t\t\t\ttriangles += geometry.faces.length;\n\n\t\t\t\tobjects.push({\n\n\t\t\t\t\tgeometry: geometry,\n\t\t\t\t\tmatrix: object.matrixWorld\n\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tvar offset = 80; // skip header\n\t\t\tvar bufferLength = triangles * 2 + triangles * 3 * 4 * 4 + 80 + 4;\n\t\t\tvar arrayBuffer = new ArrayBuffer(bufferLength);\n\t\t\tvar output = new DataView(arrayBuffer);\n\t\t\toutput.setUint32(offset, triangles, true);offset += 4;\n\n\t\t\t// Traversing our collected objects\n\t\t\tobjects.forEach(function (object) {\n\n\t\t\t\tvar vertices = object.geometry.vertices;\n\t\t\t\tvar faces = object.geometry.faces;\n\n\t\t\t\tnormalMatrixWorld.getNormalMatrix(object.matrix);\n\n\t\t\t\tfor (var i = 0, l = faces.length; i < l; i++) {\n\n\t\t\t\t\tvar face = faces[i];\n\n\t\t\t\t\tvector.copy(face.normal).applyMatrix3(normalMatrixWorld).normalize();\n\n\t\t\t\t\toutput.setFloat32(offset, vector.x, true);offset += 4; // normal\n\t\t\t\t\toutput.setFloat32(offset, vector.y, true);offset += 4;\n\t\t\t\t\toutput.setFloat32(offset, vector.z, true);offset += 4;\n\n\t\t\t\t\tvar indices = [face.a, face.b, face.c];\n\n\t\t\t\t\tfor (var j = 0; j < 3; j++) {\n\n\t\t\t\t\t\tvector.copy(vertices[indices[j]]).applyMatrix4(object.matrix);\n\n\t\t\t\t\t\toutput.setFloat32(offset, vector.x, true);offset += 4; // vertices\n\t\t\t\t\t\toutput.setFloat32(offset, vector.y, true);offset += 4;\n\t\t\t\t\t\toutput.setFloat32(offset, vector.z, true);offset += 4;\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.setUint16(offset, 0, true);offset += 2; // attribute byte count\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn output;\n\t\t};\n\t}()\n\n};\n\nexport { TransformControls, OrbitControls$1 as OrbitControls, STLLoader, Detector, IslandSeparator, STLBinaryExporter };\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi4uL3NyYy9jb250cm9scy9UcmFuc2Zvcm1Db250cm9scy5qcyIsIi4uL3NyYy9jb250cm9scy9PcmJpdENvbnRyb2xzLmpzIiwiLi4vc3JjL2xvYWRlcnMvU1RMTG9hZGVyLmpzIiwiLi4vc3JjL2hlbHBlcnMvRGV0ZWN0b3IuanMiLCIuLi9zcmMvbW9kaWZpZXJzL0lzbGFuZFNlcGFyYXRvci5qcyIsIi4uL3NyYy9leHBvcnRlcnMvU1RMQmluYXJ5RXhwb3J0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAYXV0aG9yIGFyb2RpYyAvIGh0dHBzOi8vZ2l0aHViLmNvbS9hcm9kaWNcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJ1xuXG5mdW5jdGlvbiBEZWZhdWx0SGFuZGxlcygpIHtcblxuICAgIHZhciBHaXptb01hdGVyaWFsID0gZnVuY3Rpb24gKCBwYXJhbWV0ZXJzICkge1xuXG4gICAgICAgIFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsLmNhbGwoIHRoaXMgKTtcblxuICAgICAgICB0aGlzLmRlcHRoVGVzdCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRlcHRoV3JpdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zaWRlID0gVEhSRUUuRnJvbnRTaWRlO1xuICAgICAgICB0aGlzLnRyYW5zcGFyZW50ID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLnNldFZhbHVlcyggcGFyYW1ldGVycyApO1xuXG4gICAgICAgIHRoaXMub2xkQ29sb3IgPSB0aGlzLmNvbG9yLmNsb25lKCk7XG4gICAgICAgIHRoaXMub2xkT3BhY2l0eSA9IHRoaXMub3BhY2l0eTtcblxuICAgICAgICB0aGlzLmhpZ2hsaWdodCA9IGZ1bmN0aW9uKCBoaWdobGlnaHRlZCApIHtcblxuICAgICAgICAgICAgaWYgKCBoaWdobGlnaHRlZCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3Iuc2V0UkdCKCAxLCAxLCAwICk7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGFjaXR5ID0gMTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IuY29weSggdGhpcy5vbGRDb2xvciApO1xuICAgICAgICAgICAgICAgIHRoaXMub3BhY2l0eSA9IHRoaXMub2xkT3BhY2l0eTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH07XG5cbiAgICB9O1xuXG4gICAgR2l6bW9NYXRlcmlhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbC5wcm90b3R5cGUgKTtcbiAgICBHaXptb01hdGVyaWFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdpem1vTWF0ZXJpYWw7XG5cblxuICAgIHZhciBHaXptb0xpbmVNYXRlcmlhbCA9IGZ1bmN0aW9uICggcGFyYW1ldGVycyApIHtcblxuICAgICAgICBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbC5jYWxsKCB0aGlzICk7XG5cbiAgICAgICAgdGhpcy5kZXB0aFRlc3QgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZXB0aFdyaXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMudHJhbnNwYXJlbnQgPSB0cnVlO1xuICAgICAgICB0aGlzLmxpbmV3aWR0aCA9IDE7XG5cbiAgICAgICAgdGhpcy5zZXRWYWx1ZXMoIHBhcmFtZXRlcnMgKTtcblxuICAgICAgICB0aGlzLm9sZENvbG9yID0gdGhpcy5jb2xvci5jbG9uZSgpO1xuICAgICAgICB0aGlzLm9sZE9wYWNpdHkgPSB0aGlzLm9wYWNpdHk7XG5cbiAgICAgICAgdGhpcy5oaWdobGlnaHQgPSBmdW5jdGlvbiggaGlnaGxpZ2h0ZWQgKSB7XG5cbiAgICAgICAgICAgIGlmICggaGlnaGxpZ2h0ZWQgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yLnNldFJHQiggMSwgMSwgMCApO1xuICAgICAgICAgICAgICAgIHRoaXMub3BhY2l0eSA9IDE7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yLmNvcHkoIHRoaXMub2xkQ29sb3IgKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9wYWNpdHkgPSB0aGlzLm9sZE9wYWNpdHk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9O1xuXG4gICAgfVxuXG4gICAgR2l6bW9MaW5lTWF0ZXJpYWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVEhSRUUuTGluZUJhc2ljTWF0ZXJpYWwucHJvdG90eXBlICk7XG4gICAgR2l6bW9MaW5lTWF0ZXJpYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2l6bW9MaW5lTWF0ZXJpYWw7XG5cbiAgICB2YXIgaW52aXNpYmxlTWF0ZXJpYWwgPSBuZXcgR2l6bW9NYXRlcmlhbCggeyB2aXNpYmxlOiBmYWxzZSwgdHJhbnNwYXJlbnQ6IGZhbHNlIH0gKTtcblxuICAgIHZhciBnaXptb0Zyb21NYXAgPSBmdW5jdGlvbiggZ2l6bW9NYXAgKSB7XG5cbiAgICAgICAgdmFyIGdpem1vID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG5cbiAgICAgICAgZm9yICggdmFyIG5hbWUgaW4gZ2l6bW9NYXAgKSB7XG5cbiAgICAgICAgICAgIGZvciAoIHZhciBpID0gZ2l6bW9NYXBbIG5hbWUgXS5sZW5ndGg7IGkgLS07ICkge1xuXG4gICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IGdpem1vTWFwWyBuYW1lIF1bIGkgXVsgMCBdO1xuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IGdpem1vTWFwWyBuYW1lIF1bIGkgXVsgMSBdO1xuICAgICAgICAgICAgICAgIHZhciByb3RhdGlvbiA9IGdpem1vTWFwWyBuYW1lIF1bIGkgXVsgMiBdO1xuXG4gICAgICAgICAgICAgICAgb2JqZWN0Lm5hbWUgPSBuYW1lO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBwb3NpdGlvbiApIG9iamVjdC5wb3NpdGlvbi5zZXQoIHBvc2l0aW9uWyAwIF0sIHBvc2l0aW9uWyAxIF0sIHBvc2l0aW9uWyAyIF0gKTtcbiAgICAgICAgICAgICAgICBpZiAoIHJvdGF0aW9uICkgb2JqZWN0LnJvdGF0aW9uLnNldCggcm90YXRpb25bIDAgXSwgcm90YXRpb25bIDEgXSwgcm90YXRpb25bIDIgXSApO1xuXG4gICAgICAgICAgICAgICAgZ2l6bW8uYWRkKCBvYmplY3QgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2l6bW87XG4gICAgfTtcblxuICAgIHRoaXMudHJhbnNsYXRlSGFuZGxlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJyb3dHZW9tZXRyeSA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xuICAgICAgICB2YXIgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSggMCwgMC4wNSwgMC4yLCAxMiwgMSwgZmFsc2UgKSApO1xuICAgICAgICBtZXNoLnBvc2l0aW9uLnkgPSAwLjU7XG4gICAgICAgIG1lc2gudXBkYXRlTWF0cml4KCk7XG5cbiAgICAgICAgYXJyb3dHZW9tZXRyeS5tZXJnZSggbWVzaC5nZW9tZXRyeSwgbWVzaC5tYXRyaXggKTtcblxuICAgICAgICB2YXIgbGluZVhHZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xuICAgICAgICBsaW5lWEdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoIFsgMCwgMCwgMCwgIDEsIDAsIDAgXSwgMyApICk7XG5cbiAgICAgICAgdmFyIGxpbmVZR2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcbiAgICAgICAgbGluZVlHZW9tZXRyeS5hZGRBdHRyaWJ1dGUoICdwb3NpdGlvbicsIG5ldyBUSFJFRS5GbG9hdDMyQnVmZmVyQXR0cmlidXRlKCBbIDAsIDAsIDAsICAwLCAxLCAwIF0sIDMgKSApO1xuXG4gICAgICAgIHZhciBsaW5lWkdlb21ldHJ5ID0gbmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5KCk7XG4gICAgICAgIGxpbmVaR2VvbWV0cnkuYWRkQXR0cmlidXRlKCAncG9zaXRpb24nLCBuZXcgVEhSRUUuRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSggWyAwLCAwLCAwLCAgMCwgMCwgMSBdLCAzICkgKTtcblxuICAgICAgICByZXR1cm4gZ2l6bW9Gcm9tTWFwKHtcbiAgICAgICAgICAgIFg6IFtcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBhcnJvd0dlb21ldHJ5LCBuZXcgR2l6bW9NYXRlcmlhbCggeyBjb2xvcjogMHhmZjAwMDAgfSApICksIFsgMC41LCAwLCAwIF0sIFsgMCwgMCwgLSBNYXRoLlBJIC8gMiBdIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTGluZSggbGluZVhHZW9tZXRyeSwgbmV3IEdpem1vTGluZU1hdGVyaWFsKCB7IGNvbG9yOiAweGZmMDAwMCB9ICkgKSBdLFxuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5DeWxpbmRlckJ1ZmZlckdlb21ldHJ5KCAwLjIsIDAsIDEsIDQsIDEsIGZhbHNlICksIGludmlzaWJsZU1hdGVyaWFsICksIFsgMC42LCAwLCAwIF0sIFsgMCwgMCwgLSBNYXRoLlBJIC8gMiBdIF1cbiAgICAgICAgICAgIF0sXG5cbiAgICAgICAgICAgIFk6IFtcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBhcnJvd0dlb21ldHJ5LCBuZXcgR2l6bW9NYXRlcmlhbCggeyBjb2xvcjogMHgwMGZmMDAgfSApICksIFsgMCwgMC41LCAwIF0gXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5MaW5lKCBsaW5lWUdlb21ldHJ5LCBuZXcgR2l6bW9MaW5lTWF0ZXJpYWwoIHsgY29sb3I6IDB4MDBmZjAwIH0gKSApIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLkN5bGluZGVyQnVmZmVyR2VvbWV0cnkoIDAuMiwgMCwgMSwgNCwgMSwgZmFsc2UgKSwgaW52aXNpYmxlTWF0ZXJpYWwgKSwgWyAwLCAwLjYsIDAgXSBdXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBaOiBbXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggYXJyb3dHZW9tZXRyeSwgbmV3IEdpem1vTWF0ZXJpYWwoIHsgY29sb3I6IDB4MDAwMGZmIH0gKSApLCBbIDAsIDAsIDAuNSBdLCBbIE1hdGguUEkgLyAyLCAwLCAwIF0gXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5MaW5lKCBsaW5lWkdlb21ldHJ5LCBuZXcgR2l6bW9MaW5lTWF0ZXJpYWwoIHsgY29sb3I6IDB4MDAwMGZmIH0gKSApIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLkN5bGluZGVyQnVmZmVyR2VvbWV0cnkoIDAuMiwgMCwgMSwgNCwgMSwgZmFsc2UgKSwgaW52aXNpYmxlTWF0ZXJpYWwgKSwgWyAwLCAwLCAwLjYgXSwgWyBNYXRoLlBJIC8gMiwgMCwgMCBdIF1cbiAgICAgICAgICAgIF0sXG5cbiAgICAgICAgICAgIFhZWjogW1xuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5PY3RhaGVkcm9uR2VvbWV0cnkoIDAuMSwgMCApLCBuZXcgR2l6bW9NYXRlcmlhbCggeyBjb2xvcjogMHhmZmZmZmYsIG9wYWNpdHk6IDAuMjUgfSApICksIFsgMCwgMCwgMCBdLCBbIDAsIDAsIDAgXSBdLFxuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5PY3RhaGVkcm9uR2VvbWV0cnkoIDAuMiwgMCApLCBpbnZpc2libGVNYXRlcmlhbCApIF1cbiAgICAgICAgICAgIF0sXG5cbiAgICAgICAgICAgIFhZOiBbXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoIDAuMjksIDAuMjkgKSwgbmV3IEdpem1vTWF0ZXJpYWwoIHsgY29sb3I6IDB4ZmZmZjAwLCBvcGFjaXR5OiAwLjI1IH0gKSApLCBbIDAuMTUsIDAuMTUsIDAgXSBdLFxuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5KCAwLjQsIDAuNCApLCBpbnZpc2libGVNYXRlcmlhbCApLCBbIDAuMiwgMC4yLCAwIF0gXVxuICAgICAgICAgICAgXSxcblxuICAgICAgICAgICAgWVo6IFtcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeSggMC4yOSwgMC4yOSApLCBuZXcgR2l6bW9NYXRlcmlhbCggeyBjb2xvcjogMHgwMGZmZmYsIG9wYWNpdHk6IDAuMjUgfSApICksIFsgMCwgMC4xNSwgMC4xNSBdLCBbIDAsIE1hdGguUEkgLyAyLCAwIF0gXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeSggMC40LCAwLjQgKSwgaW52aXNpYmxlTWF0ZXJpYWwgKSwgWyAwLCAwLjIsIDAuMiBdLCBbIDAsIE1hdGguUEkgLyAyLCAwIF0gXVxuICAgICAgICAgICAgXSxcblxuICAgICAgICAgICAgWFo6IFtcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeSggMC4yOSwgMC4yOSApLCBuZXcgR2l6bW9NYXRlcmlhbCggeyBjb2xvcjogMHhmZjAwZmYsIG9wYWNpdHk6IDAuMjUgfSApICksIFsgMC4xNSwgMCwgMC4xNSBdLCBbIC0gTWF0aC5QSSAvIDIsIDAsIDAgXSBdLFxuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5KCAwLjQsIDAuNCApLCBpbnZpc2libGVNYXRlcmlhbCApLCBbIDAuMiwgMCwgMC4yIF0sIFsgLSBNYXRoLlBJIC8gMiwgMCwgMCBdIF1cbiAgICAgICAgICAgIF1cblxuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICB0aGlzLnJvdGF0ZUhhbmRsZXMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgQ2lyY2xlR2VvbWV0cnkgPSBmdW5jdGlvbiAoIHJhZGl1cywgZmFjaW5nLCBhcmMgKSB7XG5cbiAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xuICAgICAgICAgICAgdmFyIHZlcnRpY2VzID0gW107XG4gICAgICAgICAgICBhcmMgPSBhcmMgPyBhcmMgOiAxO1xuXG4gICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPD0gNjQgKiBhcmM7ICsrIGkgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIGZhY2luZyA9PT0gJ3gnICkgdmVydGljZXMucHVzaCggMCwgTWF0aC5jb3MoIGkgLyAzMiAqIE1hdGguUEkgKSAqIHJhZGl1cywgTWF0aC5zaW4oIGkgLyAzMiAqIE1hdGguUEkgKSAqIHJhZGl1cyApO1xuICAgICAgICAgICAgICAgIGlmICggZmFjaW5nID09PSAneScgKSB2ZXJ0aWNlcy5wdXNoKCBNYXRoLmNvcyggaSAvIDMyICogTWF0aC5QSSApICogcmFkaXVzLCAwLCBNYXRoLnNpbiggaSAvIDMyICogTWF0aC5QSSApICogcmFkaXVzICk7XG4gICAgICAgICAgICAgICAgaWYgKCBmYWNpbmcgPT09ICd6JyApIHZlcnRpY2VzLnB1c2goIE1hdGguc2luKCBpIC8gMzIgKiBNYXRoLlBJICkgKiByYWRpdXMsIE1hdGguY29zKCBpIC8gMzIgKiBNYXRoLlBJICkgKiByYWRpdXMsIDAgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoICdwb3NpdGlvbicsIG5ldyBUSFJFRS5GbG9hdDMyQnVmZmVyQXR0cmlidXRlKCB2ZXJ0aWNlcywgMyApICk7XG4gICAgICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XG5cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZ2l6bW9Gcm9tTWFwKHtcbiAgICAgICAgICAgIFg6IFtcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5MaW5lKCBuZXcgQ2lyY2xlR2VvbWV0cnkoIDEsICd4JywgMC41ICksIG5ldyBHaXptb0xpbmVNYXRlcmlhbCggeyBjb2xvcjogMHhmZjAwMDAgfSApICkgXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuVG9ydXNCdWZmZXJHZW9tZXRyeSggMSwgMC4xMiwgNCwgMTIsIE1hdGguUEkgKSwgaW52aXNpYmxlTWF0ZXJpYWwgKSwgWyAwLCAwLCAwIF0sIFsgMCwgLSBNYXRoLlBJIC8gMiwgLSBNYXRoLlBJIC8gMiBdIF1cbiAgICAgICAgICAgIF0sXG5cbiAgICAgICAgICAgIFk6IFtcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5MaW5lKCBuZXcgQ2lyY2xlR2VvbWV0cnkoIDEsICd5JywgMC41ICksIG5ldyBHaXptb0xpbmVNYXRlcmlhbCggeyBjb2xvcjogMHgwMGZmMDAgfSApICkgXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuVG9ydXNCdWZmZXJHZW9tZXRyeSggMSwgMC4xMiwgNCwgMTIsIE1hdGguUEkgKSwgaW52aXNpYmxlTWF0ZXJpYWwgKSwgWyAwLCAwLCAwIF0sIFsgTWF0aC5QSSAvIDIsIDAsIDAgXSBdXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBaOiBbXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTGluZSggbmV3IENpcmNsZUdlb21ldHJ5KCAxLCAneicsIDAuNSApLCBuZXcgR2l6bW9MaW5lTWF0ZXJpYWwoIHsgY29sb3I6IDB4MDAwMGZmIH0gKSApIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLlRvcnVzQnVmZmVyR2VvbWV0cnkoIDEsIDAuMTIsIDQsIDEyLCBNYXRoLlBJICksIGludmlzaWJsZU1hdGVyaWFsICksIFsgMCwgMCwgMCBdLCBbIDAsIDAsIC0gTWF0aC5QSSAvIDIgXSBdXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBFOiBbXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTGluZSggbmV3IENpcmNsZUdlb21ldHJ5KCAxLjI1LCAneicsIDEgKSwgbmV3IEdpem1vTGluZU1hdGVyaWFsKCB7IGNvbG9yOiAweGNjY2MwMCB9ICkgKSBdLFxuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5Ub3J1c0J1ZmZlckdlb21ldHJ5KCAxLjI1LCAwLjEyLCAyLCAyNCApLCBpbnZpc2libGVNYXRlcmlhbCApIF1cbiAgICAgICAgICAgIF0sXG5cbiAgICAgICAgICAgIFhZWkU6IFtcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5MaW5lKCBuZXcgQ2lyY2xlR2VvbWV0cnkoIDEsICd6JywgMSApLCBuZXcgR2l6bW9MaW5lTWF0ZXJpYWwoIHsgY29sb3I6IDB4Nzg3ODc4IH0gKSApIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCgpIF0vLyBUT0RPXG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnNjYWxlSGFuZGxlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJyb3dHZW9tZXRyeSA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xuICAgICAgICB2YXIgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuQm94R2VvbWV0cnkoIDAuMTI1LCAwLjEyNSwgMC4xMjUgKSApO1xuICAgICAgICBtZXNoLnBvc2l0aW9uLnkgPSAwLjU7XG4gICAgICAgIG1lc2gudXBkYXRlTWF0cml4KCk7XG5cbiAgICAgICAgYXJyb3dHZW9tZXRyeS5tZXJnZSggbWVzaC5nZW9tZXRyeSwgbWVzaC5tYXRyaXggKTtcblxuICAgICAgICB2YXIgbGluZVhHZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xuICAgICAgICBsaW5lWEdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoIFsgMCwgMCwgMCwgIDEsIDAsIDAgXSwgMyApICk7XG5cbiAgICAgICAgdmFyIGxpbmVZR2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcbiAgICAgICAgbGluZVlHZW9tZXRyeS5hZGRBdHRyaWJ1dGUoICdwb3NpdGlvbicsIG5ldyBUSFJFRS5GbG9hdDMyQnVmZmVyQXR0cmlidXRlKCBbIDAsIDAsIDAsICAwLCAxLCAwIF0sIDMgKSApO1xuXG4gICAgICAgIHZhciBsaW5lWkdlb21ldHJ5ID0gbmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5KCk7XG4gICAgICAgIGxpbmVaR2VvbWV0cnkuYWRkQXR0cmlidXRlKCAncG9zaXRpb24nLCBuZXcgVEhSRUUuRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSggWyAwLCAwLCAwLCAgMCwgMCwgMSBdLCAzICkgKTtcblxuICAgICAgICByZXR1cm4gZ2l6bW9Gcm9tTWFwKHtcbiAgICAgICAgICAgIFg6IFtcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBhcnJvd0dlb21ldHJ5LCBuZXcgR2l6bW9NYXRlcmlhbCggeyBjb2xvcjogMHhmZjAwMDAgfSApICksIFsgMC41LCAwLCAwIF0sIFsgMCwgMCwgLSBNYXRoLlBJIC8gMiBdIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTGluZSggbGluZVhHZW9tZXRyeSwgbmV3IEdpem1vTGluZU1hdGVyaWFsKCB7IGNvbG9yOiAweGZmMDAwMCB9ICkgKSBdLFxuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5DeWxpbmRlckJ1ZmZlckdlb21ldHJ5KCAwLjIsIDAsIDEsIDQsIDEsIGZhbHNlICksIGludmlzaWJsZU1hdGVyaWFsICksIFsgMC42LCAwLCAwIF0sIFsgMCwgMCwgLSBNYXRoLlBJIC8gMiBdIF1cbiAgICAgICAgICAgIF0sXG5cbiAgICAgICAgICAgIFk6IFtcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBhcnJvd0dlb21ldHJ5LCBuZXcgR2l6bW9NYXRlcmlhbCggeyBjb2xvcjogMHgwMGZmMDAgfSApICksIFsgMCwgMC41LCAwIF0gXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5MaW5lKCBsaW5lWUdlb21ldHJ5LCBuZXcgR2l6bW9MaW5lTWF0ZXJpYWwoIHsgY29sb3I6IDB4MDBmZjAwIH0gKSApIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLkN5bGluZGVyQnVmZmVyR2VvbWV0cnkoIDAuMiwgMCwgMSwgNCwgMSwgZmFsc2UgKSwgaW52aXNpYmxlTWF0ZXJpYWwgKSwgWyAwLCAwLjYsIDAgXSBdXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBaOiBbXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggYXJyb3dHZW9tZXRyeSwgbmV3IEdpem1vTWF0ZXJpYWwoIHsgY29sb3I6IDB4MDAwMGZmIH0gKSApLCBbIDAsIDAsIDAuNSBdLCBbIE1hdGguUEkgLyAyLCAwLCAwIF0gXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5MaW5lKCBsaW5lWkdlb21ldHJ5LCBuZXcgR2l6bW9MaW5lTWF0ZXJpYWwoIHsgY29sb3I6IDB4MDAwMGZmIH0gKSApIF0sXG4gICAgICAgICAgICAgICAgWyBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLkN5bGluZGVyQnVmZmVyR2VvbWV0cnkoIDAuMiwgMCwgMSwgNCwgMSwgZmFsc2UgKSwgaW52aXNpYmxlTWF0ZXJpYWwgKSwgWyAwLCAwLCAwLjYgXSwgWyBNYXRoLlBJIC8gMiwgMCwgMCBdIF1cbiAgICAgICAgICAgIF0sXG5cbiAgICAgICAgICAgIFhZWjogW1xuICAgICAgICAgICAgICAgIFsgbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5Cb3hCdWZmZXJHZW9tZXRyeSggMC4xMjUsIDAuMTI1LCAwLjEyNSApLCBuZXcgR2l6bW9NYXRlcmlhbCggeyBjb2xvcjogMHhmZmZmZmYsIG9wYWNpdHk6IDAuMjUgfSApICkgXSxcbiAgICAgICAgICAgICAgICBbIG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuQm94QnVmZmVyR2VvbWV0cnkoIDAuNCwgMC40LCAwLjQgKSwgaW52aXNpYmxlTWF0ZXJpYWwgKSBdXG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxufVxuXG5mdW5jdGlvbiBUcmFuc2Zvcm1HaXptbyggaGFuZGxlcyApIHtcblxuICAgIHRoaXMuaGFuZGxlcyA9IGhhbmRsZXM7XG5cbiAgICB0aGlzLmluaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgVEhSRUUuT2JqZWN0M0QuY2FsbCggdGhpcyApO1xuXG4gICAgICAgIHRoaXMuYWRkKCB0aGlzLmhhbmRsZXMgKTtcblxuICAgICAgICB0aGlzLnBsYW5lcyA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgICAgICB0aGlzLmFkZCggdGhpcy5wbGFuZXMgKTtcblxuICAgICAgICAvLy8vIFBMQU5FU1xuXG4gICAgICAgIHZhciBwbGFuZUdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoIDUwLCA1MCwgMiwgMiApO1xuICAgICAgICB2YXIgcGxhbmVNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyB2aXNpYmxlOiBmYWxzZSwgc2lkZTogVEhSRUUuRG91YmxlU2lkZSB9ICk7XG5cbiAgICAgICAgdmFyIHBsYW5lcyA9IHtcbiAgICAgICAgICAgIFwiWFlcIjogICBuZXcgVEhSRUUuTWVzaCggcGxhbmVHZW9tZXRyeSwgcGxhbmVNYXRlcmlhbCApLFxuICAgICAgICAgICAgXCJZWlwiOiAgIG5ldyBUSFJFRS5NZXNoKCBwbGFuZUdlb21ldHJ5LCBwbGFuZU1hdGVyaWFsICksXG4gICAgICAgICAgICBcIlhaXCI6ICAgbmV3IFRIUkVFLk1lc2goIHBsYW5lR2VvbWV0cnksIHBsYW5lTWF0ZXJpYWwgKSxcbiAgICAgICAgICAgIFwiWFlaRVwiOiBuZXcgVEhSRUUuTWVzaCggcGxhbmVHZW9tZXRyeSwgcGxhbmVNYXRlcmlhbCApXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5hY3RpdmVQbGFuZSA9IHBsYW5lc1sgXCJYWVpFXCIgXTtcblxuICAgICAgICBwbGFuZXNbIFwiWVpcIiBdLnJvdGF0aW9uLnNldCggMCwgTWF0aC5QSSAvIDIsIDAgKTtcbiAgICAgICAgcGxhbmVzWyBcIlhaXCIgXS5yb3RhdGlvbi5zZXQoIC0gTWF0aC5QSSAvIDIsIDAsIDAgKTtcblxuICAgICAgICBmb3IgKCB2YXIgaSBpbiBwbGFuZXMgKSB7XG5cbiAgICAgICAgICAgIHBsYW5lc1sgaSBdLm5hbWUgPSBpO1xuICAgICAgICAgICAgdGhpcy5wbGFuZXMuYWRkKCBwbGFuZXNbIGkgXSApO1xuICAgICAgICAgICAgdGhpcy5wbGFuZXNbIGkgXSA9IHBsYW5lc1sgaSBdO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNldCBUcmFuc2Zvcm1hdGlvbnNcblxuICAgICAgICB0aGlzLnRyYXZlcnNlKCBmdW5jdGlvbiAoIGNoaWxkICkge1xuXG4gICAgICAgICAgICBpZiAoIGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaCApIHtcblxuICAgICAgICAgICAgICAgIGNoaWxkLnVwZGF0ZU1hdHJpeCgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBHZW9tZXRyeSA9IGNoaWxkLmdlb21ldHJ5LmNsb25lKCk7XG4gICAgICAgICAgICAgICAgdGVtcEdlb21ldHJ5LmFwcGx5TWF0cml4KCBjaGlsZC5tYXRyaXggKTtcbiAgICAgICAgICAgICAgICBjaGlsZC5nZW9tZXRyeSA9IHRlbXBHZW9tZXRyeTtcblxuICAgICAgICAgICAgICAgIGNoaWxkLnBvc2l0aW9uLnNldCggMCwgMCwgMCApO1xuICAgICAgICAgICAgICAgIGNoaWxkLnJvdGF0aW9uLnNldCggMCwgMCwgMCApO1xuICAgICAgICAgICAgICAgIGNoaWxkLnNjYWxlLnNldCggMSwgMSwgMSApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSApO1xuXG4gICAgfTtcblxuICAgIHRoaXMuc2V0SGFuZGxlcyA9IGZ1bmN0aW9uICggaGFuZGxlcyApIHtcblxuICAgICAgICB0aGlzLnJlbW92ZSggdGhpcy5oYW5kbGVzICk7XG4gICAgICAgIHRoaXMuaGFuZGxlcyA9IGhhbmRsZXM7XG4gICAgICAgIGlmICggdGhpcy5oYW5kbGVzICE9PSBudWxsICkge1xuICAgICAgICAgICAgdGhpcy5hZGQoIHRoaXMuaGFuZGxlcyApO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgdGhpcy5oaWdobGlnaHQgPSBmdW5jdGlvbiAoIGF4aXMgKSB7XG5cbiAgICAgICAgdGhpcy50cmF2ZXJzZSggZnVuY3Rpb24oIGNoaWxkICkge1xuXG4gICAgICAgICAgICBpZiAoIGNoaWxkLm1hdGVyaWFsICYmIGNoaWxkLm1hdGVyaWFsLmhpZ2hsaWdodCApIHtcblxuICAgICAgICAgICAgICAgIGlmICggY2hpbGQubmFtZSA9PT0gYXhpcyApIHtcblxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5tYXRlcmlhbC5oaWdobGlnaHQoIHRydWUgKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwuaGlnaGxpZ2h0KCBmYWxzZSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSApO1xuXG4gICAgfTtcblxufVxuXG5UcmFuc2Zvcm1HaXptby5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBUSFJFRS5PYmplY3QzRC5wcm90b3R5cGUgKTtcblRyYW5zZm9ybUdpem1vLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRIUkVFLlRyYW5zZm9ybUdpem1vO1xuXG5UcmFuc2Zvcm1HaXptby5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCByb3RhdGlvbiwgZXllICkge1xuXG4gICAgdmFyIHZlYzEgPSBuZXcgVEhSRUUuVmVjdG9yMyggMCwgMCwgMCApO1xuICAgIHZhciB2ZWMyID0gbmV3IFRIUkVFLlZlY3RvcjMoIDAsIDEsIDAgKTtcbiAgICB2YXIgbG9va0F0TWF0cml4ID0gbmV3IFRIUkVFLk1hdHJpeDQoKTtcblxuICAgIHRoaXMudHJhdmVyc2UoIGZ1bmN0aW9uKCBjaGlsZCApIHtcblxuICAgICAgICBpZiAoIGNoaWxkLm5hbWUuc2VhcmNoKCBcIkVcIiApICE9PSAtIDEgKSB7XG5cbiAgICAgICAgICAgIGNoaWxkLnF1YXRlcm5pb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KCBsb29rQXRNYXRyaXgubG9va0F0KCBleWUsIHZlYzEsIHZlYzIgKSApO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoIGNoaWxkLm5hbWUuc2VhcmNoKCBcIlhcIiApICE9PSAtIDEgfHwgY2hpbGQubmFtZS5zZWFyY2goIFwiWVwiICkgIT09IC0gMSB8fCBjaGlsZC5uYW1lLnNlYXJjaCggXCJaXCIgKSAhPT0gLSAxICkge1xuXG4gICAgICAgICAgICBjaGlsZC5xdWF0ZXJuaW9uLnNldEZyb21FdWxlciggcm90YXRpb24gKTtcblxuICAgICAgICB9XG5cbiAgICB9ICk7XG5cbn1cblxuZnVuY3Rpb24gVHJhbnNmb3JtR2l6bW9UcmFuc2xhdGUoIGhhbmRsZXMgKSB7XG5cbiAgICBUcmFuc2Zvcm1HaXptby5jYWxsKCB0aGlzLCBoYW5kbGVzICk7XG5cbiAgICB0aGlzLnNldEFjdGl2ZVBsYW5lID0gZnVuY3Rpb24gKCBheGlzLCBleWUgKSB7XG5cbiAgICAgICAgdmFyIHRlbXBNYXRyaXggPSBuZXcgVEhSRUUuTWF0cml4NCgpO1xuICAgICAgICBleWUuYXBwbHlNYXRyaXg0KCB0ZW1wTWF0cml4LmdldEludmVyc2UoIHRlbXBNYXRyaXguZXh0cmFjdFJvdGF0aW9uKCB0aGlzLnBsYW5lc1sgXCJYWVwiIF0ubWF0cml4V29ybGQgKSApICk7XG5cbiAgICAgICAgaWYgKCBheGlzID09PSBcIlhcIiApIHtcblxuICAgICAgICAgICAgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhZXCIgXTtcblxuICAgICAgICAgICAgaWYgKCBNYXRoLmFicyggZXllLnkgKSA+IE1hdGguYWJzKCBleWUueiApICkgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhaXCIgXTtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBheGlzID09PSBcIllcIiApIHtcblxuICAgICAgICAgICAgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhZXCIgXTtcblxuICAgICAgICAgICAgaWYgKCBNYXRoLmFicyggZXllLnggKSA+IE1hdGguYWJzKCBleWUueiApICkgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIllaXCIgXTtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBheGlzID09PSBcIlpcIiApIHtcblxuICAgICAgICAgICAgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhaXCIgXTtcblxuICAgICAgICAgICAgaWYgKCBNYXRoLmFicyggZXllLnggKSA+IE1hdGguYWJzKCBleWUueSApICkgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIllaXCIgXTtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBheGlzID09PSBcIlhZWlwiICkgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhZWkVcIiBdO1xuXG4gICAgICAgIGlmICggYXhpcyA9PT0gXCJYWVwiICkgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhZXCIgXTtcblxuICAgICAgICBpZiAoIGF4aXMgPT09IFwiWVpcIiApIHRoaXMuYWN0aXZlUGxhbmUgPSB0aGlzLnBsYW5lc1sgXCJZWlwiIF07XG5cbiAgICAgICAgaWYgKCBheGlzID09PSBcIlhaXCIgKSB0aGlzLmFjdGl2ZVBsYW5lID0gdGhpcy5wbGFuZXNbIFwiWFpcIiBdO1xuXG4gICAgfTtcblxuICAgIHRoaXMuaW5pdCgpO1xuXG59XG5cblRyYW5zZm9ybUdpem1vVHJhbnNsYXRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFRyYW5zZm9ybUdpem1vLnByb3RvdHlwZSApO1xuVHJhbnNmb3JtR2l6bW9UcmFuc2xhdGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVHJhbnNmb3JtR2l6bW9UcmFuc2xhdGU7XG5cbmZ1bmN0aW9uIFRyYW5zZm9ybUdpem1vUm90YXRlKCBoYW5kbGVzICkge1xuXG4gICAgVHJhbnNmb3JtR2l6bW8uY2FsbCggdGhpcywgaGFuZGxlcyApO1xuXG4gICAgdGhpcy5zZXRBY3RpdmVQbGFuZSA9IGZ1bmN0aW9uICggYXhpcyApIHtcblxuICAgICAgICBpZiAoIGF4aXMgPT09IFwiRVwiICkgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhZWkVcIiBdO1xuXG4gICAgICAgIGlmICggYXhpcyA9PT0gXCJYXCIgKSB0aGlzLmFjdGl2ZVBsYW5lID0gdGhpcy5wbGFuZXNbIFwiWVpcIiBdO1xuXG4gICAgICAgIGlmICggYXhpcyA9PT0gXCJZXCIgKSB0aGlzLmFjdGl2ZVBsYW5lID0gdGhpcy5wbGFuZXNbIFwiWFpcIiBdO1xuXG4gICAgICAgIGlmICggYXhpcyA9PT0gXCJaXCIgKSB0aGlzLmFjdGl2ZVBsYW5lID0gdGhpcy5wbGFuZXNbIFwiWFlcIiBdO1xuXG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24gKCByb3RhdGlvbiwgZXllMiApIHtcblxuICAgICAgICBUcmFuc2Zvcm1HaXptby5wcm90b3R5cGUudXBkYXRlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuICAgICAgICB2YXIgZ3JvdXAgPSB7XG5cbiAgICAgICAgICAgIGhhbmRsZXM6IHRoaXNbIFwiaGFuZGxlc1wiIF1cblxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciB0ZW1wTWF0cml4ID0gbmV3IFRIUkVFLk1hdHJpeDQoKTtcbiAgICAgICAgdmFyIHdvcmxkUm90YXRpb24gPSBuZXcgVEhSRUUuRXVsZXIoIDAsIDAsIDEgKTtcbiAgICAgICAgdmFyIHRlbXBRdWF0ZXJuaW9uID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcbiAgICAgICAgdmFyIHVuaXRYID0gbmV3IFRIUkVFLlZlY3RvcjMoIDEsIDAsIDAgKTtcbiAgICAgICAgdmFyIHVuaXRZID0gbmV3IFRIUkVFLlZlY3RvcjMoIDAsIDEsIDAgKTtcbiAgICAgICAgdmFyIHVuaXRaID0gbmV3IFRIUkVFLlZlY3RvcjMoIDAsIDAsIDEgKTtcbiAgICAgICAgdmFyIHF1YXRlcm5pb25YID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcbiAgICAgICAgdmFyIHF1YXRlcm5pb25ZID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcbiAgICAgICAgdmFyIHF1YXRlcm5pb25aID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcbiAgICAgICAgdmFyIGV5ZSA9IGV5ZTIuY2xvbmUoKTtcblxuICAgICAgICB3b3JsZFJvdGF0aW9uLmNvcHkoIHRoaXMucGxhbmVzWyBcIlhZXCIgXS5yb3RhdGlvbiApO1xuICAgICAgICB0ZW1wUXVhdGVybmlvbi5zZXRGcm9tRXVsZXIoIHdvcmxkUm90YXRpb24gKTtcblxuICAgICAgICB0ZW1wTWF0cml4Lm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKCB0ZW1wUXVhdGVybmlvbiApLmdldEludmVyc2UoIHRlbXBNYXRyaXggKTtcbiAgICAgICAgZXllLmFwcGx5TWF0cml4NCggdGVtcE1hdHJpeCApO1xuXG4gICAgICAgIHRoaXMudHJhdmVyc2UoIGZ1bmN0aW9uKCBjaGlsZCApIHtcblxuICAgICAgICAgICAgdGVtcFF1YXRlcm5pb24uc2V0RnJvbUV1bGVyKCB3b3JsZFJvdGF0aW9uICk7XG5cbiAgICAgICAgICAgIGlmICggY2hpbGQubmFtZSA9PT0gXCJYXCIgKSB7XG5cbiAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uWC5zZXRGcm9tQXhpc0FuZ2xlKCB1bml0WCwgTWF0aC5hdGFuMiggLSBleWUueSwgZXllLnogKSApO1xuICAgICAgICAgICAgICAgIHRlbXBRdWF0ZXJuaW9uLm11bHRpcGx5UXVhdGVybmlvbnMoIHRlbXBRdWF0ZXJuaW9uLCBxdWF0ZXJuaW9uWCApO1xuICAgICAgICAgICAgICAgIGNoaWxkLnF1YXRlcm5pb24uY29weSggdGVtcFF1YXRlcm5pb24gKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIGNoaWxkLm5hbWUgPT09IFwiWVwiICkge1xuXG4gICAgICAgICAgICAgICAgcXVhdGVybmlvblkuc2V0RnJvbUF4aXNBbmdsZSggdW5pdFksIE1hdGguYXRhbjIoIGV5ZS54LCBleWUueiApICk7XG4gICAgICAgICAgICAgICAgdGVtcFF1YXRlcm5pb24ubXVsdGlwbHlRdWF0ZXJuaW9ucyggdGVtcFF1YXRlcm5pb24sIHF1YXRlcm5pb25ZICk7XG4gICAgICAgICAgICAgICAgY2hpbGQucXVhdGVybmlvbi5jb3B5KCB0ZW1wUXVhdGVybmlvbiApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggY2hpbGQubmFtZSA9PT0gXCJaXCIgKSB7XG5cbiAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uWi5zZXRGcm9tQXhpc0FuZ2xlKCB1bml0WiwgTWF0aC5hdGFuMiggZXllLnksIGV5ZS54ICkgKTtcbiAgICAgICAgICAgICAgICB0ZW1wUXVhdGVybmlvbi5tdWx0aXBseVF1YXRlcm5pb25zKCB0ZW1wUXVhdGVybmlvbiwgcXVhdGVybmlvblogKTtcbiAgICAgICAgICAgICAgICBjaGlsZC5xdWF0ZXJuaW9uLmNvcHkoIHRlbXBRdWF0ZXJuaW9uICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9ICk7XG5cbiAgICB9O1xuXG4gICAgdGhpcy5pbml0KCk7XG5cbn1cblxuVHJhbnNmb3JtR2l6bW9Sb3RhdGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVHJhbnNmb3JtR2l6bW8ucHJvdG90eXBlICk7XG5UcmFuc2Zvcm1HaXptb1JvdGF0ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUcmFuc2Zvcm1HaXptb1JvdGF0ZTtcblxuZnVuY3Rpb24gVHJhbnNmb3JtR2l6bW9TY2FsZSggaGFuZGxlcyApIHtcblxuICAgIFRyYW5zZm9ybUdpem1vLmNhbGwoIHRoaXMsIGhhbmRsZXMgKTtcblxuICAgIHRoaXMuc2V0QWN0aXZlUGxhbmUgPSBmdW5jdGlvbiAoIGF4aXMsIGV5ZSApIHtcblxuICAgICAgICB2YXIgdGVtcE1hdHJpeCA9IG5ldyBUSFJFRS5NYXRyaXg0KCk7XG4gICAgICAgIGV5ZS5hcHBseU1hdHJpeDQoIHRlbXBNYXRyaXguZ2V0SW52ZXJzZSggdGVtcE1hdHJpeC5leHRyYWN0Um90YXRpb24oIHRoaXMucGxhbmVzWyBcIlhZXCIgXS5tYXRyaXhXb3JsZCApICkgKTtcblxuICAgICAgICBpZiAoIGF4aXMgPT09IFwiWFwiICkge1xuXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVBsYW5lID0gdGhpcy5wbGFuZXNbIFwiWFlcIiBdO1xuICAgICAgICAgICAgaWYgKCBNYXRoLmFicyggZXllLnkgKSA+IE1hdGguYWJzKCBleWUueiApICkgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhaXCIgXTtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBheGlzID09PSBcIllcIiApIHtcblxuICAgICAgICAgICAgdGhpcy5hY3RpdmVQbGFuZSA9IHRoaXMucGxhbmVzWyBcIlhZXCIgXTtcbiAgICAgICAgICAgIGlmICggTWF0aC5hYnMoIGV5ZS54ICkgPiBNYXRoLmFicyggZXllLnogKSApIHRoaXMuYWN0aXZlUGxhbmUgPSB0aGlzLnBsYW5lc1sgXCJZWlwiIF07XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggYXhpcyA9PT0gXCJaXCIgKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYWN0aXZlUGxhbmUgPSB0aGlzLnBsYW5lc1sgXCJYWlwiIF07XG4gICAgICAgICAgICBpZiAoIE1hdGguYWJzKCBleWUueCApID4gTWF0aC5hYnMoIGV5ZS55ICkgKSB0aGlzLmFjdGl2ZVBsYW5lID0gdGhpcy5wbGFuZXNbIFwiWVpcIiBdO1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIGF4aXMgPT09IFwiWFlaXCIgKSB0aGlzLmFjdGl2ZVBsYW5lID0gdGhpcy5wbGFuZXNbIFwiWFlaRVwiIF07XG5cbiAgICB9O1xuXG4gICAgdGhpcy5pbml0KCk7XG5cbn1cblxuVHJhbnNmb3JtR2l6bW9TY2FsZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBUcmFuc2Zvcm1HaXptby5wcm90b3R5cGUgKTtcblRyYW5zZm9ybUdpem1vU2NhbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVHJhbnNmb3JtR2l6bW9TY2FsZTtcblxuZnVuY3Rpb24gVHJhbnNmb3JtQ29udHJvbHMoIGNhbWVyYSwgZG9tRWxlbWVudCApIHtcblxuICAgIC8vIFRPRE86IE1ha2Ugbm9uLXVuaWZvcm0gc2NhbGUgYW5kIHJvdGF0ZSBwbGF5IG5pY2UgaW4gaGllcmFyY2hpZXNcbiAgICAvLyBUT0RPOiBBREQgUlhZWiBjb250b2xcblxuICAgIFRIUkVFLk9iamVjdDNELmNhbGwoIHRoaXMgKTtcblxuICAgIGRvbUVsZW1lbnQgPSAoIGRvbUVsZW1lbnQgIT09IHVuZGVmaW5lZCApID8gZG9tRWxlbWVudCA6IGRvY3VtZW50O1xuXG4gICAgdGhpcy5kZWZhdWx0SGFuZGxlcyA9IG5ldyBEZWZhdWx0SGFuZGxlcygpO1xuXG4gICAgdGhpcy5vYmplY3QgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgdGhpcy50cmFuc2xhdGlvblNuYXAgPSBudWxsO1xuICAgIHRoaXMucm90YXRpb25TbmFwID0gbnVsbDtcbiAgICB0aGlzLnNwYWNlID0gXCJ3b3JsZFwiO1xuICAgIHRoaXMuc2l6ZSA9IDE7XG4gICAgdGhpcy5heGlzID0gbnVsbDtcbiAgICB0aGlzLmRyYWdPYmplY3QgPSBmYWxzZTtcblxuICAgIHZhciBzY29wZSA9IHRoaXM7XG5cbiAgICB2YXIgX21vZGUgPSBcInRyYW5zbGF0ZVwiO1xuICAgIHZhciBfZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICB2YXIgX3BsYW5lID0gXCJYWVwiO1xuICAgIHZhciBfZ2l6bW8gPSB7XG4gICAgICAgIFwidHJhbnNsYXRlXCI6IG5ldyBUcmFuc2Zvcm1HaXptb1RyYW5zbGF0ZSggc2NvcGUuZGVmYXVsdEhhbmRsZXMudHJhbnNsYXRlSGFuZGxlcygpICksXG4gICAgICAgIFwicm90YXRlXCI6IG5ldyBUcmFuc2Zvcm1HaXptb1JvdGF0ZSggc2NvcGUuZGVmYXVsdEhhbmRsZXMucm90YXRlSGFuZGxlcygpICksXG4gICAgICAgIFwic2NhbGVcIjogbmV3IFRyYW5zZm9ybUdpem1vU2NhbGUoIHNjb3BlLmRlZmF1bHRIYW5kbGVzLnNjYWxlSGFuZGxlcygpIClcbiAgICB9O1xuXG4gICAgZm9yICggdmFyIHR5cGUgaW4gX2dpem1vICkge1xuXG4gICAgICAgIHZhciBnaXptb09iaiA9IF9naXptb1sgdHlwZSBdO1xuXG4gICAgICAgIGdpem1vT2JqLnZpc2libGUgPSAoIHR5cGUgPT09IF9tb2RlICk7XG4gICAgICAgIHRoaXMuYWRkKCBnaXptb09iaiApO1xuXG4gICAgfVxuXG4gICAgdmFyIGNoYW5nZUV2ZW50ID0geyB0eXBlOiBcImNoYW5nZVwiIH07XG4gICAgdmFyIG1vdXNlRG93bkV2ZW50ID0geyB0eXBlOiBcIm1vdXNlRG93blwiIH07XG4gICAgdmFyIG1vdXNlVXBFdmVudCA9IHsgdHlwZTogXCJtb3VzZVVwXCIsIG1vZGU6IF9tb2RlIH07XG4gICAgdmFyIG9iamVjdENoYW5nZUV2ZW50ID0geyB0eXBlOiBcIm9iamVjdENoYW5nZVwiIH07XG5cbiAgICB2YXIgcmF5ID0gbmV3IFRIUkVFLlJheWNhc3RlcigpO1xuICAgIHJheS5saW5lUHJlY2lzaW9uID0gMC4wMTtcbiAgICB2YXIgcG9pbnRlclZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cbiAgICB2YXIgcG9pbnQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHZhciBvZmZzZXQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXG4gICAgdmFyIHJvdGF0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB2YXIgb2Zmc2V0Um90YXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHZhciBzY2FsZSA9IDE7XG5cbiAgICB2YXIgbG9va0F0TWF0cml4ID0gbmV3IFRIUkVFLk1hdHJpeDQoKTtcbiAgICB2YXIgZXllID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuICAgIHZhciB0ZW1wTWF0cml4ID0gbmV3IFRIUkVFLk1hdHJpeDQoKTtcbiAgICB2YXIgdGVtcFZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgdmFyIHRlbXBRdWF0ZXJuaW9uID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcbiAgICB2YXIgdW5pdFggPSBuZXcgVEhSRUUuVmVjdG9yMyggMSwgMCwgMCApO1xuICAgIHZhciB1bml0WSA9IG5ldyBUSFJFRS5WZWN0b3IzKCAwLCAxLCAwICk7XG4gICAgdmFyIHVuaXRaID0gbmV3IFRIUkVFLlZlY3RvcjMoIDAsIDAsIDEgKTtcblxuICAgIHZhciBxdWF0ZXJuaW9uWFlaID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcbiAgICB2YXIgcXVhdGVybmlvblggPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuICAgIHZhciBxdWF0ZXJuaW9uWSA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XG4gICAgdmFyIHF1YXRlcm5pb25aID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcbiAgICB2YXIgcXVhdGVybmlvbkUgPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuXG4gICAgdmFyIG9sZFBvc2l0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB2YXIgb2xkU2NhbGUgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHZhciBvbGRSb3RhdGlvbk1hdHJpeCA9IG5ldyBUSFJFRS5NYXRyaXg0KCk7XG5cbiAgICB2YXIgcGFyZW50Um90YXRpb25NYXRyaXggID0gbmV3IFRIUkVFLk1hdHJpeDQoKTtcbiAgICB2YXIgcGFyZW50U2NhbGUgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXG4gICAgdmFyIHdvcmxkUG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHZhciB3b3JsZFJvdGF0aW9uID0gbmV3IFRIUkVFLkV1bGVyKCk7XG4gICAgdmFyIHdvcmxkUm90YXRpb25NYXRyaXggID0gbmV3IFRIUkVFLk1hdHJpeDQoKTtcbiAgICB2YXIgY2FtUG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHZhciBjYW1Sb3RhdGlvbiA9IG5ldyBUSFJFRS5FdWxlcigpO1xuXG4gICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCBcIm1vdXNlZG93blwiLCBvblBvaW50ZXJEb3duLCBmYWxzZSApO1xuICAgIGRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJ0b3VjaHN0YXJ0XCIsIG9uUG9pbnRlckRvd24sIGZhbHNlICk7XG5cbiAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwibW91c2Vtb3ZlXCIsIG9uUG9pbnRlckhvdmVyLCBmYWxzZSApO1xuICAgIGRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJ0b3VjaG1vdmVcIiwgb25Qb2ludGVySG92ZXIsIGZhbHNlICk7XG5cbiAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwibW91c2Vtb3ZlXCIsIG9uUG9pbnRlck1vdmUsIGZhbHNlICk7XG4gICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCBcInRvdWNobW92ZVwiLCBvblBvaW50ZXJNb3ZlLCBmYWxzZSApO1xuXG4gICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCBcIm1vdXNldXBcIiwgb25Qb2ludGVyVXAsIGZhbHNlICk7XG4gICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCBcIm1vdXNlb3V0XCIsIG9uUG9pbnRlclVwLCBmYWxzZSApO1xuICAgIGRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJ0b3VjaGVuZFwiLCBvblBvaW50ZXJVcCwgZmFsc2UgKTtcbiAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwidG91Y2hjYW5jZWxcIiwgb25Qb2ludGVyVXAsIGZhbHNlICk7XG4gICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCBcInRvdWNobGVhdmVcIiwgb25Qb2ludGVyVXAsIGZhbHNlICk7XG5cbiAgICB0aGlzLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcIm1vdXNlZG93blwiLCBvblBvaW50ZXJEb3duICk7XG4gICAgICAgIGRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJ0b3VjaHN0YXJ0XCIsIG9uUG9pbnRlckRvd24gKTtcblxuICAgICAgICBkb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwibW91c2Vtb3ZlXCIsIG9uUG9pbnRlckhvdmVyICk7XG4gICAgICAgIGRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJ0b3VjaG1vdmVcIiwgb25Qb2ludGVySG92ZXIgKTtcblxuICAgICAgICBkb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwibW91c2Vtb3ZlXCIsIG9uUG9pbnRlck1vdmUgKTtcbiAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcInRvdWNobW92ZVwiLCBvblBvaW50ZXJNb3ZlICk7XG5cbiAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcIm1vdXNldXBcIiwgb25Qb2ludGVyVXAgKTtcbiAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcIm1vdXNlb3V0XCIsIG9uUG9pbnRlclVwICk7XG4gICAgICAgIGRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJ0b3VjaGVuZFwiLCBvblBvaW50ZXJVcCApO1xuICAgICAgICBkb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwidG91Y2hjYW5jZWxcIiwgb25Qb2ludGVyVXAgKTtcbiAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcInRvdWNobGVhdmVcIiwgb25Qb2ludGVyVXAgKTtcblxuICAgIH07XG5cbiAgICB0aGlzLmF0dGFjaCA9IGZ1bmN0aW9uICggb2JqZWN0ICkge1xuXG4gICAgICAgIHRoaXMub2JqZWN0ID0gb2JqZWN0O1xuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuXG4gICAgfTtcblxuICAgIHRoaXMuZGV0YWNoID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHRoaXMub2JqZWN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5heGlzID0gbnVsbDtcblxuICAgIH07XG5cbiAgICB0aGlzLmdldE1vZGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgcmV0dXJuIF9tb2RlO1xuXG4gICAgfTtcblxuICAgIHRoaXMuc2V0TW9kZSA9IGZ1bmN0aW9uICggbW9kZSApIHtcblxuICAgICAgICBfbW9kZSA9IG1vZGUgPyBtb2RlIDogX21vZGU7XG5cbiAgICAgICAgaWYgKCBfbW9kZSA9PT0gXCJzY2FsZVwiICkgc2NvcGUuc3BhY2UgPSBcImxvY2FsXCI7XG5cbiAgICAgICAgZm9yICggdmFyIHR5cGUgaW4gX2dpem1vICkgX2dpem1vWyB0eXBlIF0udmlzaWJsZSA9ICggdHlwZSA9PT0gX21vZGUgKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KCBjaGFuZ2VFdmVudCApO1xuXG4gICAgfTtcblxuICAgIHRoaXMuc2V0VHJhbnNsYXRpb25TbmFwID0gZnVuY3Rpb24gKCB0cmFuc2xhdGlvblNuYXAgKSB7XG5cbiAgICAgICAgc2NvcGUudHJhbnNsYXRpb25TbmFwID0gdHJhbnNsYXRpb25TbmFwO1xuXG4gICAgfTtcblxuICAgIHRoaXMuc2V0Um90YXRpb25TbmFwID0gZnVuY3Rpb24gKCByb3RhdGlvblNuYXAgKSB7XG5cbiAgICAgICAgc2NvcGUucm90YXRpb25TbmFwID0gcm90YXRpb25TbmFwO1xuXG4gICAgfTtcblxuICAgIHRoaXMuc2V0U2l6ZSA9IGZ1bmN0aW9uICggc2l6ZSApIHtcblxuICAgICAgICBzY29wZS5zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgc2NvcGUuZGlzcGF0Y2hFdmVudCggY2hhbmdlRXZlbnQgKTtcblxuICAgIH07XG5cbiAgICB0aGlzLnNldFNwYWNlID0gZnVuY3Rpb24gKCBzcGFjZSApIHtcblxuICAgICAgICBzY29wZS5zcGFjZSA9IHNwYWNlO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KCBjaGFuZ2VFdmVudCApO1xuXG4gICAgfTtcblxuICAgIHRoaXMuc2V0SGFuZGxlcyA9IGZ1bmN0aW9uICggbW9kZSwgaGFuZGxlcyApIHtcblxuICAgICAgICBfZ2l6bW9bIG1vZGUgXS5zZXRIYW5kbGVzKCBoYW5kbGVzICk7XG4gICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xuICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KCBjaGFuZ2VFdmVudCApO1xuXG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGlmICggc2NvcGUub2JqZWN0ID09PSB1bmRlZmluZWQgKSByZXR1cm47XG5cbiAgICAgICAgc2NvcGUub2JqZWN0LnVwZGF0ZU1hdHJpeFdvcmxkKCk7XG4gICAgICAgIHdvcmxkUG9zaXRpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKCBzY29wZS5vYmplY3QubWF0cml4V29ybGQgKTtcbiAgICAgICAgd29ybGRSb3RhdGlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgoIHRlbXBNYXRyaXguZXh0cmFjdFJvdGF0aW9uKCBzY29wZS5vYmplY3QubWF0cml4V29ybGQgKSApO1xuXG4gICAgICAgIGNhbWVyYS51cGRhdGVNYXRyaXhXb3JsZCgpO1xuICAgICAgICBjYW1Qb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24oIGNhbWVyYS5tYXRyaXhXb3JsZCApO1xuICAgICAgICBjYW1Sb3RhdGlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgoIHRlbXBNYXRyaXguZXh0cmFjdFJvdGF0aW9uKCBjYW1lcmEubWF0cml4V29ybGQgKSApO1xuXG4gICAgICAgIHNjYWxlID0gd29ybGRQb3NpdGlvbi5kaXN0YW5jZVRvKCBjYW1Qb3NpdGlvbiApIC8gNiAqIHNjb3BlLnNpemU7XG4gICAgICAgIHRoaXMucG9zaXRpb24uY29weSggd29ybGRQb3NpdGlvbiApO1xuICAgICAgICB0aGlzLnNjYWxlLnNldCggc2NhbGUsIHNjYWxlLCBzY2FsZSApO1xuXG4gICAgICAgIGlmICggY2FtZXJhIGluc3RhbmNlb2YgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEgKSB7XG5cbiAgICAgICAgICAgIGV5ZS5jb3B5KCBjYW1Qb3NpdGlvbiApLnN1Yiggd29ybGRQb3NpdGlvbiApLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoIGNhbWVyYSBpbnN0YW5jZW9mIFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSApIHtcblxuICAgICAgICAgICAgZXllLmNvcHkoIGNhbVBvc2l0aW9uICkubm9ybWFsaXplKCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggc2NvcGUuc3BhY2UgPT09IFwibG9jYWxcIiApIHtcblxuICAgICAgICAgICAgX2dpem1vWyBfbW9kZSBdLnVwZGF0ZSggd29ybGRSb3RhdGlvbiwgZXllICk7XG5cbiAgICAgICAgfSBlbHNlIGlmICggc2NvcGUuc3BhY2UgPT09IFwid29ybGRcIiApIHtcblxuICAgICAgICAgICAgX2dpem1vWyBfbW9kZSBdLnVwZGF0ZSggbmV3IFRIUkVFLkV1bGVyKCksIGV5ZSApO1xuXG4gICAgICAgIH1cblxuICAgICAgICBfZ2l6bW9bIF9tb2RlIF0uaGlnaGxpZ2h0KCBzY29wZS5heGlzICk7XG5cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gb25Qb2ludGVySG92ZXIoIGV2ZW50ICkge1xuXG4gICAgICAgIGlmICggc2NvcGUub2JqZWN0ID09PSB1bmRlZmluZWQgfHwgX2RyYWdnaW5nID09PSB0cnVlIHx8IF9naXptb1sgX21vZGUgXS5oYW5kbGVzID09PSBudWxsIHx8ICggZXZlbnQuYnV0dG9uICE9PSB1bmRlZmluZWQgJiYgZXZlbnQuYnV0dG9uICE9PSAwICkgKSByZXR1cm47XG5cbiAgICAgICAgdmFyIHBvaW50ZXIgPSBldmVudC5jaGFuZ2VkVG91Y2hlcyA/IGV2ZW50LmNoYW5nZWRUb3VjaGVzWyAwIF0gOiBldmVudDtcblxuICAgICAgICB2YXIgaW50ZXJzZWN0ID0gaW50ZXJzZWN0T2JqZWN0cyggcG9pbnRlciwgX2dpem1vWyBfbW9kZSBdLmhhbmRsZXMuY2hpbGRyZW4gKTtcblxuICAgICAgICB2YXIgYXhpcyA9IG51bGw7XG5cbiAgICAgICAgaWYgKCBpbnRlcnNlY3QgKSB7XG5cbiAgICAgICAgICAgIGF4aXMgPSBpbnRlcnNlY3Qub2JqZWN0Lm5hbWU7XG5cbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggc2NvcGUuYXhpcyAhPT0gYXhpcyApIHtcblxuICAgICAgICAgICAgc2NvcGUuYXhpcyA9IGF4aXM7XG4gICAgICAgICAgICBzY29wZS51cGRhdGUoKTtcbiAgICAgICAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoIGNoYW5nZUV2ZW50ICk7XG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Qb2ludGVyRG93biggZXZlbnQgKSB7XG5cbiAgICAgICAgaWYgKCBzY29wZS5vYmplY3QgPT09IHVuZGVmaW5lZCB8fCBfZHJhZ2dpbmcgPT09IHRydWUgfHwgKCBldmVudC5idXR0b24gIT09IHVuZGVmaW5lZCAmJiBldmVudC5idXR0b24gIT09IDAgKSApIHJldHVybjtcblxuICAgICAgICB2YXIgcG9pbnRlciA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzID8gZXZlbnQuY2hhbmdlZFRvdWNoZXNbIDAgXSA6IGV2ZW50O1xuXG4gICAgICAgIGlmICggcG9pbnRlci5idXR0b24gPT09IDAgfHwgcG9pbnRlci5idXR0b24gPT09IHVuZGVmaW5lZCApIHtcblxuICAgICAgICAgICAgaWYgKCBfZ2l6bW9bIF9tb2RlIF0uaGFuZGxlcyAhPT0gbnVsbCApIHtcblxuICAgICAgICAgICAgICAgIHZhciBpbnRlcnNlY3QgPSBpbnRlcnNlY3RPYmplY3RzKCBwb2ludGVyLCBfZ2l6bW9bIF9tb2RlIF0uaGFuZGxlcy5jaGlsZHJlbiApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCAhIGludGVyc2VjdCApIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KCBtb3VzZURvd25FdmVudCApO1xuXG4gICAgICAgICAgICAgICAgc2NvcGUuYXhpcyA9IGludGVyc2VjdC5vYmplY3QubmFtZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCAhIHNjb3BlLmF4aXMgKSByZXR1cm4gO1xuXG4gICAgICAgICAgICBzY29wZS51cGRhdGUoKTtcblxuICAgICAgICAgICAgZXllLmNvcHkoIGNhbVBvc2l0aW9uICkuc3ViKCB3b3JsZFBvc2l0aW9uICkubm9ybWFsaXplKCk7XG5cbiAgICAgICAgICAgIF9naXptb1sgX21vZGUgXS5zZXRBY3RpdmVQbGFuZSggc2NvcGUuYXhpcywgZXllICk7XG5cbiAgICAgICAgICAgIHZhciBwbGFuZUludGVyc2VjdCA9IGludGVyc2VjdE9iamVjdHMoIHBvaW50ZXIsIFsgX2dpem1vWyBfbW9kZSBdLmFjdGl2ZVBsYW5lIF0gKTtcblxuICAgICAgICAgICAgaWYgKCBwbGFuZUludGVyc2VjdCApIHtcblxuICAgICAgICAgICAgICAgIG9sZFBvc2l0aW9uLmNvcHkoIHNjb3BlLm9iamVjdC5wb3NpdGlvbiApO1xuICAgICAgICAgICAgICAgIG9sZFNjYWxlLmNvcHkoIHNjb3BlLm9iamVjdC5zY2FsZSApO1xuXG4gICAgICAgICAgICAgICAgb2xkUm90YXRpb25NYXRyaXguZXh0cmFjdFJvdGF0aW9uKCBzY29wZS5vYmplY3QubWF0cml4ICk7XG4gICAgICAgICAgICAgICAgd29ybGRSb3RhdGlvbk1hdHJpeC5leHRyYWN0Um90YXRpb24oIHNjb3BlLm9iamVjdC5tYXRyaXhXb3JsZCApO1xuXG4gICAgICAgICAgICAgICAgcGFyZW50Um90YXRpb25NYXRyaXguZXh0cmFjdFJvdGF0aW9uKCBzY29wZS5vYmplY3QucGFyZW50Lm1hdHJpeFdvcmxkICk7XG4gICAgICAgICAgICAgICAgcGFyZW50U2NhbGUuc2V0RnJvbU1hdHJpeFNjYWxlKCB0ZW1wTWF0cml4LmdldEludmVyc2UoIHNjb3BlLm9iamVjdC5wYXJlbnQubWF0cml4V29ybGQgKSApO1xuXG4gICAgICAgICAgICAgICAgb2Zmc2V0LmNvcHkoIHBsYW5lSW50ZXJzZWN0LnBvaW50ICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgX2RyYWdnaW5nID0gdHJ1ZTtcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uUG9pbnRlck1vdmUoIGV2ZW50ICkge1xuXG4gICAgICAgIGlmICggc2NvcGUub2JqZWN0ID09PSB1bmRlZmluZWQgfHwgc2NvcGUuYXhpcyA9PT0gbnVsbCB8fCBfZHJhZ2dpbmcgPT09IGZhbHNlIHx8ICggZXZlbnQuYnV0dG9uICE9PSB1bmRlZmluZWQgJiYgZXZlbnQuYnV0dG9uICE9PSAwICkgKSByZXR1cm47XG5cbiAgICAgICAgdmFyIHBvaW50ZXIgPSBldmVudC5jaGFuZ2VkVG91Y2hlcyA/IGV2ZW50LmNoYW5nZWRUb3VjaGVzWyAwIF0gOiBldmVudDtcblxuICAgICAgICB2YXIgcGxhbmVJbnRlcnNlY3QgPSBpbnRlcnNlY3RPYmplY3RzKCBwb2ludGVyLCBbIF9naXptb1sgX21vZGUgXS5hY3RpdmVQbGFuZSBdICk7XG5cbiAgICAgICAgaWYgKCBwbGFuZUludGVyc2VjdCA9PT0gZmFsc2UgKSByZXR1cm47XG5cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgcG9pbnQuY29weSggcGxhbmVJbnRlcnNlY3QucG9pbnQgKTtcblxuICAgICAgICBpZiAoIF9tb2RlID09PSBcInRyYW5zbGF0ZVwiICkge1xuXG4gICAgICAgICAgICBwb2ludC5zdWIoIG9mZnNldCApO1xuICAgICAgICAgICAgcG9pbnQubXVsdGlwbHkoIHBhcmVudFNjYWxlICk7XG5cbiAgICAgICAgICAgIGlmICggc2NvcGUuc3BhY2UgPT09IFwibG9jYWxcIiApIHtcblxuICAgICAgICAgICAgICAgIHBvaW50LmFwcGx5TWF0cml4NCggdGVtcE1hdHJpeC5nZXRJbnZlcnNlKCB3b3JsZFJvdGF0aW9uTWF0cml4ICkgKTtcblxuICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcy5zZWFyY2goIFwiWFwiICkgPT09IC0gMSApIHBvaW50LnggPSAwO1xuICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcy5zZWFyY2goIFwiWVwiICkgPT09IC0gMSApIHBvaW50LnkgPSAwO1xuICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcy5zZWFyY2goIFwiWlwiICkgPT09IC0gMSApIHBvaW50LnogPSAwO1xuXG4gICAgICAgICAgICAgICAgcG9pbnQuYXBwbHlNYXRyaXg0KCBvbGRSb3RhdGlvbk1hdHJpeCApO1xuXG4gICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LnBvc2l0aW9uLmNvcHkoIG9sZFBvc2l0aW9uICk7XG4gICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LnBvc2l0aW9uLmFkZCggcG9pbnQgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIHNjb3BlLnNwYWNlID09PSBcIndvcmxkXCIgfHwgc2NvcGUuYXhpcy5zZWFyY2goIFwiWFlaXCIgKSAhPT0gLSAxICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5heGlzLnNlYXJjaCggXCJYXCIgKSA9PT0gLSAxICkgcG9pbnQueCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5heGlzLnNlYXJjaCggXCJZXCIgKSA9PT0gLSAxICkgcG9pbnQueSA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5heGlzLnNlYXJjaCggXCJaXCIgKSA9PT0gLSAxICkgcG9pbnQueiA9IDA7XG5cbiAgICAgICAgICAgICAgICBwb2ludC5hcHBseU1hdHJpeDQoIHRlbXBNYXRyaXguZ2V0SW52ZXJzZSggcGFyZW50Um90YXRpb25NYXRyaXggKSApO1xuXG4gICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LnBvc2l0aW9uLmNvcHkoIG9sZFBvc2l0aW9uICk7XG4gICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LnBvc2l0aW9uLmFkZCggcG9pbnQgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIHNjb3BlLnRyYW5zbGF0aW9uU25hcCAhPT0gbnVsbCApIHtcblxuICAgICAgICAgICAgICAgIGlmICggc2NvcGUuc3BhY2UgPT09IFwibG9jYWxcIiApIHtcblxuICAgICAgICAgICAgICAgICAgICBzY29wZS5vYmplY3QucG9zaXRpb24uYXBwbHlNYXRyaXg0KCB0ZW1wTWF0cml4LmdldEludmVyc2UoIHdvcmxkUm90YXRpb25NYXRyaXggKSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5heGlzLnNlYXJjaCggXCJYXCIgKSAhPT0gLSAxICkgc2NvcGUub2JqZWN0LnBvc2l0aW9uLnggPSBNYXRoLnJvdW5kKCBzY29wZS5vYmplY3QucG9zaXRpb24ueCAvIHNjb3BlLnRyYW5zbGF0aW9uU25hcCApICogc2NvcGUudHJhbnNsYXRpb25TbmFwO1xuICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcy5zZWFyY2goIFwiWVwiICkgIT09IC0gMSApIHNjb3BlLm9iamVjdC5wb3NpdGlvbi55ID0gTWF0aC5yb3VuZCggc2NvcGUub2JqZWN0LnBvc2l0aW9uLnkgLyBzY29wZS50cmFuc2xhdGlvblNuYXAgKSAqIHNjb3BlLnRyYW5zbGF0aW9uU25hcDtcbiAgICAgICAgICAgICAgICBpZiAoIHNjb3BlLmF4aXMuc2VhcmNoKCBcIlpcIiApICE9PSAtIDEgKSBzY29wZS5vYmplY3QucG9zaXRpb24ueiA9IE1hdGgucm91bmQoIHNjb3BlLm9iamVjdC5wb3NpdGlvbi56IC8gc2NvcGUudHJhbnNsYXRpb25TbmFwICkgKiBzY29wZS50cmFuc2xhdGlvblNuYXA7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHNjb3BlLnNwYWNlID09PSBcImxvY2FsXCIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LnBvc2l0aW9uLmFwcGx5TWF0cml4NCggd29ybGRSb3RhdGlvbk1hdHJpeCApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIGlmICggX21vZGUgPT09IFwic2NhbGVcIiApIHtcblxuICAgICAgICAgICAgcG9pbnQuc3ViKCBvZmZzZXQgKTtcbiAgICAgICAgICAgIHBvaW50Lm11bHRpcGx5KCBwYXJlbnRTY2FsZSApO1xuXG4gICAgICAgICAgICBpZiAoIHNjb3BlLnNwYWNlID09PSBcImxvY2FsXCIgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHNjb3BlLmF4aXMgPT09IFwiWFlaXCIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NhbGUgPSAxICsgKCAoIHBvaW50LnkgKSAvIE1hdGgubWF4KCBvbGRTY2FsZS54LCBvbGRTY2FsZS55LCBvbGRTY2FsZS56ICkgKTtcblxuICAgICAgICAgICAgICAgICAgICBzY29wZS5vYmplY3Quc2NhbGUueCA9IG9sZFNjYWxlLnggKiBzY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LnNjYWxlLnkgPSBvbGRTY2FsZS55ICogc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLm9iamVjdC5zY2FsZS56ID0gb2xkU2NhbGUueiAqIHNjYWxlO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBwb2ludC5hcHBseU1hdHJpeDQoIHRlbXBNYXRyaXguZ2V0SW52ZXJzZSggd29ybGRSb3RhdGlvbk1hdHJpeCApICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBzY29wZS5heGlzID09PSBcIlhcIiApIHNjb3BlLm9iamVjdC5zY2FsZS54ID0gb2xkU2NhbGUueCAqICggMSArIHBvaW50LnggLyBvbGRTY2FsZS54ICk7XG4gICAgICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcyA9PT0gXCJZXCIgKSBzY29wZS5vYmplY3Quc2NhbGUueSA9IG9sZFNjYWxlLnkgKiAoIDEgKyBwb2ludC55IC8gb2xkU2NhbGUueSApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIHNjb3BlLmF4aXMgPT09IFwiWlwiICkgc2NvcGUub2JqZWN0LnNjYWxlLnogPSBvbGRTY2FsZS56ICogKCAxICsgcG9pbnQueiAvIG9sZFNjYWxlLnogKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSBpZiAoIF9tb2RlID09PSBcInJvdGF0ZVwiICkge1xuXG4gICAgICAgICAgICBwb2ludC5zdWIoIHdvcmxkUG9zaXRpb24gKTtcbiAgICAgICAgICAgIHBvaW50Lm11bHRpcGx5KCBwYXJlbnRTY2FsZSApO1xuICAgICAgICAgICAgdGVtcFZlY3Rvci5jb3B5KCBvZmZzZXQgKS5zdWIoIHdvcmxkUG9zaXRpb24gKTtcbiAgICAgICAgICAgIHRlbXBWZWN0b3IubXVsdGlwbHkoIHBhcmVudFNjYWxlICk7XG5cbiAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcyA9PT0gXCJFXCIgKSB7XG5cbiAgICAgICAgICAgICAgICBwb2ludC5hcHBseU1hdHJpeDQoIHRlbXBNYXRyaXguZ2V0SW52ZXJzZSggbG9va0F0TWF0cml4ICkgKTtcbiAgICAgICAgICAgICAgICB0ZW1wVmVjdG9yLmFwcGx5TWF0cml4NCggdGVtcE1hdHJpeC5nZXRJbnZlcnNlKCBsb29rQXRNYXRyaXggKSApO1xuXG4gICAgICAgICAgICAgICAgcm90YXRpb24uc2V0KCBNYXRoLmF0YW4yKCBwb2ludC56LCBwb2ludC55ICksIE1hdGguYXRhbjIoIHBvaW50LngsIHBvaW50LnogKSwgTWF0aC5hdGFuMiggcG9pbnQueSwgcG9pbnQueCApICk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0Um90YXRpb24uc2V0KCBNYXRoLmF0YW4yKCB0ZW1wVmVjdG9yLnosIHRlbXBWZWN0b3IueSApLCBNYXRoLmF0YW4yKCB0ZW1wVmVjdG9yLngsIHRlbXBWZWN0b3IueiApLCBNYXRoLmF0YW4yKCB0ZW1wVmVjdG9yLnksIHRlbXBWZWN0b3IueCApICk7XG5cbiAgICAgICAgICAgICAgICB0ZW1wUXVhdGVybmlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgoIHRlbXBNYXRyaXguZ2V0SW52ZXJzZSggcGFyZW50Um90YXRpb25NYXRyaXggKSApO1xuXG4gICAgICAgICAgICAgICAgcXVhdGVybmlvbkUuc2V0RnJvbUF4aXNBbmdsZSggZXllLCByb3RhdGlvbi56IC0gb2Zmc2V0Um90YXRpb24ueiApO1xuICAgICAgICAgICAgICAgIHF1YXRlcm5pb25YWVouc2V0RnJvbVJvdGF0aW9uTWF0cml4KCB3b3JsZFJvdGF0aW9uTWF0cml4ICk7XG5cbiAgICAgICAgICAgICAgICB0ZW1wUXVhdGVybmlvbi5tdWx0aXBseVF1YXRlcm5pb25zKCB0ZW1wUXVhdGVybmlvbiwgcXVhdGVybmlvbkUgKTtcbiAgICAgICAgICAgICAgICB0ZW1wUXVhdGVybmlvbi5tdWx0aXBseVF1YXRlcm5pb25zKCB0ZW1wUXVhdGVybmlvbiwgcXVhdGVybmlvblhZWiApO1xuXG4gICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LnF1YXRlcm5pb24uY29weSggdGVtcFF1YXRlcm5pb24gKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICggc2NvcGUuYXhpcyA9PT0gXCJYWVpFXCIgKSB7XG5cbiAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uRS5zZXRGcm9tRXVsZXIoIHBvaW50LmNsb25lKCkuY3Jvc3MoIHRlbXBWZWN0b3IgKS5ub3JtYWxpemUoKSApOyAvLyByb3RhdGlvbiBheGlzXG5cbiAgICAgICAgICAgICAgICB0ZW1wUXVhdGVybmlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgoIHRlbXBNYXRyaXguZ2V0SW52ZXJzZSggcGFyZW50Um90YXRpb25NYXRyaXggKSApO1xuICAgICAgICAgICAgICAgIHF1YXRlcm5pb25YLnNldEZyb21BeGlzQW5nbGUoIHF1YXRlcm5pb25FLCAtIHBvaW50LmNsb25lKCkuYW5nbGVUbyggdGVtcFZlY3RvciApICk7XG4gICAgICAgICAgICAgICAgcXVhdGVybmlvblhZWi5zZXRGcm9tUm90YXRpb25NYXRyaXgoIHdvcmxkUm90YXRpb25NYXRyaXggKTtcblxuICAgICAgICAgICAgICAgIHRlbXBRdWF0ZXJuaW9uLm11bHRpcGx5UXVhdGVybmlvbnMoIHRlbXBRdWF0ZXJuaW9uLCBxdWF0ZXJuaW9uWCApO1xuICAgICAgICAgICAgICAgIHRlbXBRdWF0ZXJuaW9uLm11bHRpcGx5UXVhdGVybmlvbnMoIHRlbXBRdWF0ZXJuaW9uLCBxdWF0ZXJuaW9uWFlaICk7XG5cbiAgICAgICAgICAgICAgICBzY29wZS5vYmplY3QucXVhdGVybmlvbi5jb3B5KCB0ZW1wUXVhdGVybmlvbiApO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCBzY29wZS5zcGFjZSA9PT0gXCJsb2NhbFwiICkge1xuXG4gICAgICAgICAgICAgICAgcG9pbnQuYXBwbHlNYXRyaXg0KCB0ZW1wTWF0cml4LmdldEludmVyc2UoIHdvcmxkUm90YXRpb25NYXRyaXggKSApO1xuXG4gICAgICAgICAgICAgICAgdGVtcFZlY3Rvci5hcHBseU1hdHJpeDQoIHRlbXBNYXRyaXguZ2V0SW52ZXJzZSggd29ybGRSb3RhdGlvbk1hdHJpeCApICk7XG5cbiAgICAgICAgICAgICAgICByb3RhdGlvbi5zZXQoIE1hdGguYXRhbjIoIHBvaW50LnosIHBvaW50LnkgKSwgTWF0aC5hdGFuMiggcG9pbnQueCwgcG9pbnQueiApLCBNYXRoLmF0YW4yKCBwb2ludC55LCBwb2ludC54ICkgKTtcbiAgICAgICAgICAgICAgICBvZmZzZXRSb3RhdGlvbi5zZXQoIE1hdGguYXRhbjIoIHRlbXBWZWN0b3IueiwgdGVtcFZlY3Rvci55ICksIE1hdGguYXRhbjIoIHRlbXBWZWN0b3IueCwgdGVtcFZlY3Rvci56ICksIE1hdGguYXRhbjIoIHRlbXBWZWN0b3IueSwgdGVtcFZlY3Rvci54ICkgKTtcblxuICAgICAgICAgICAgICAgIHF1YXRlcm5pb25YWVouc2V0RnJvbVJvdGF0aW9uTWF0cml4KCBvbGRSb3RhdGlvbk1hdHJpeCApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5yb3RhdGlvblNuYXAgIT09IG51bGwgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcXVhdGVybmlvblguc2V0RnJvbUF4aXNBbmdsZSggdW5pdFgsIE1hdGgucm91bmQoICggcm90YXRpb24ueCAtIG9mZnNldFJvdGF0aW9uLnggKSAvIHNjb3BlLnJvdGF0aW9uU25hcCApICogc2NvcGUucm90YXRpb25TbmFwICk7XG4gICAgICAgICAgICAgICAgICAgIHF1YXRlcm5pb25ZLnNldEZyb21BeGlzQW5nbGUoIHVuaXRZLCBNYXRoLnJvdW5kKCAoIHJvdGF0aW9uLnkgLSBvZmZzZXRSb3RhdGlvbi55ICkgLyBzY29wZS5yb3RhdGlvblNuYXAgKSAqIHNjb3BlLnJvdGF0aW9uU25hcCApO1xuICAgICAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uWi5zZXRGcm9tQXhpc0FuZ2xlKCB1bml0WiwgTWF0aC5yb3VuZCggKCByb3RhdGlvbi56IC0gb2Zmc2V0Um90YXRpb24ueiApIC8gc2NvcGUucm90YXRpb25TbmFwICkgKiBzY29wZS5yb3RhdGlvblNuYXAgKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcXVhdGVybmlvblguc2V0RnJvbUF4aXNBbmdsZSggdW5pdFgsIHJvdGF0aW9uLnggLSBvZmZzZXRSb3RhdGlvbi54ICk7XG4gICAgICAgICAgICAgICAgICAgIHF1YXRlcm5pb25ZLnNldEZyb21BeGlzQW5nbGUoIHVuaXRZLCByb3RhdGlvbi55IC0gb2Zmc2V0Um90YXRpb24ueSApO1xuICAgICAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uWi5zZXRGcm9tQXhpc0FuZ2xlKCB1bml0Wiwgcm90YXRpb24ueiAtIG9mZnNldFJvdGF0aW9uLnogKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcyA9PT0gXCJYXCIgKSBxdWF0ZXJuaW9uWFlaLm11bHRpcGx5UXVhdGVybmlvbnMoIHF1YXRlcm5pb25YWVosIHF1YXRlcm5pb25YICk7XG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5heGlzID09PSBcIllcIiApIHF1YXRlcm5pb25YWVoubXVsdGlwbHlRdWF0ZXJuaW9ucyggcXVhdGVybmlvblhZWiwgcXVhdGVybmlvblkgKTtcbiAgICAgICAgICAgICAgICBpZiAoIHNjb3BlLmF4aXMgPT09IFwiWlwiICkgcXVhdGVybmlvblhZWi5tdWx0aXBseVF1YXRlcm5pb25zKCBxdWF0ZXJuaW9uWFlaLCBxdWF0ZXJuaW9uWiApO1xuXG4gICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LnF1YXRlcm5pb24uY29weSggcXVhdGVybmlvblhZWiApO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCBzY29wZS5zcGFjZSA9PT0gXCJ3b3JsZFwiICkge1xuXG4gICAgICAgICAgICAgICAgcm90YXRpb24uc2V0KCBNYXRoLmF0YW4yKCBwb2ludC56LCBwb2ludC55ICksIE1hdGguYXRhbjIoIHBvaW50LngsIHBvaW50LnogKSwgTWF0aC5hdGFuMiggcG9pbnQueSwgcG9pbnQueCApICk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0Um90YXRpb24uc2V0KCBNYXRoLmF0YW4yKCB0ZW1wVmVjdG9yLnosIHRlbXBWZWN0b3IueSApLCBNYXRoLmF0YW4yKCB0ZW1wVmVjdG9yLngsIHRlbXBWZWN0b3IueiApLCBNYXRoLmF0YW4yKCB0ZW1wVmVjdG9yLnksIHRlbXBWZWN0b3IueCApICk7XG5cbiAgICAgICAgICAgICAgICB0ZW1wUXVhdGVybmlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgoIHRlbXBNYXRyaXguZ2V0SW52ZXJzZSggcGFyZW50Um90YXRpb25NYXRyaXggKSApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5yb3RhdGlvblNuYXAgIT09IG51bGwgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcXVhdGVybmlvblguc2V0RnJvbUF4aXNBbmdsZSggdW5pdFgsIE1hdGgucm91bmQoICggcm90YXRpb24ueCAtIG9mZnNldFJvdGF0aW9uLnggKSAvIHNjb3BlLnJvdGF0aW9uU25hcCApICogc2NvcGUucm90YXRpb25TbmFwICk7XG4gICAgICAgICAgICAgICAgICAgIHF1YXRlcm5pb25ZLnNldEZyb21BeGlzQW5nbGUoIHVuaXRZLCBNYXRoLnJvdW5kKCAoIHJvdGF0aW9uLnkgLSBvZmZzZXRSb3RhdGlvbi55ICkgLyBzY29wZS5yb3RhdGlvblNuYXAgKSAqIHNjb3BlLnJvdGF0aW9uU25hcCApO1xuICAgICAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uWi5zZXRGcm9tQXhpc0FuZ2xlKCB1bml0WiwgTWF0aC5yb3VuZCggKCByb3RhdGlvbi56IC0gb2Zmc2V0Um90YXRpb24ueiApIC8gc2NvcGUucm90YXRpb25TbmFwICkgKiBzY29wZS5yb3RhdGlvblNuYXAgKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcXVhdGVybmlvblguc2V0RnJvbUF4aXNBbmdsZSggdW5pdFgsIHJvdGF0aW9uLnggLSBvZmZzZXRSb3RhdGlvbi54ICk7XG4gICAgICAgICAgICAgICAgICAgIHF1YXRlcm5pb25ZLnNldEZyb21BeGlzQW5nbGUoIHVuaXRZLCByb3RhdGlvbi55IC0gb2Zmc2V0Um90YXRpb24ueSApO1xuICAgICAgICAgICAgICAgICAgICBxdWF0ZXJuaW9uWi5zZXRGcm9tQXhpc0FuZ2xlKCB1bml0Wiwgcm90YXRpb24ueiAtIG9mZnNldFJvdGF0aW9uLnogKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHF1YXRlcm5pb25YWVouc2V0RnJvbVJvdGF0aW9uTWF0cml4KCB3b3JsZFJvdGF0aW9uTWF0cml4ICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHNjb3BlLmF4aXMgPT09IFwiWFwiICkgdGVtcFF1YXRlcm5pb24ubXVsdGlwbHlRdWF0ZXJuaW9ucyggdGVtcFF1YXRlcm5pb24sIHF1YXRlcm5pb25YICk7XG4gICAgICAgICAgICAgICAgaWYgKCBzY29wZS5heGlzID09PSBcIllcIiApIHRlbXBRdWF0ZXJuaW9uLm11bHRpcGx5UXVhdGVybmlvbnMoIHRlbXBRdWF0ZXJuaW9uLCBxdWF0ZXJuaW9uWSApO1xuICAgICAgICAgICAgICAgIGlmICggc2NvcGUuYXhpcyA9PT0gXCJaXCIgKSB0ZW1wUXVhdGVybmlvbi5tdWx0aXBseVF1YXRlcm5pb25zKCB0ZW1wUXVhdGVybmlvbiwgcXVhdGVybmlvblogKTtcblxuICAgICAgICAgICAgICAgIHRlbXBRdWF0ZXJuaW9uLm11bHRpcGx5UXVhdGVybmlvbnMoIHRlbXBRdWF0ZXJuaW9uLCBxdWF0ZXJuaW9uWFlaICk7XG5cbiAgICAgICAgICAgICAgICBzY29wZS5vYmplY3QucXVhdGVybmlvbi5jb3B5KCB0ZW1wUXVhdGVybmlvbiApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xuICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KCBjaGFuZ2VFdmVudCApO1xuICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KCBvYmplY3RDaGFuZ2VFdmVudCApO1xuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Qb2ludGVyVXAoIGV2ZW50ICkge1xuXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIFByZXZlbnQgTW91c2VFdmVudCBvbiBtb2JpbGVcblxuICAgICAgICBpZiAoIGV2ZW50LmJ1dHRvbiAhPT0gdW5kZWZpbmVkICYmIGV2ZW50LmJ1dHRvbiAhPT0gMCApIHJldHVybjtcblxuICAgICAgICBpZiAoIF9kcmFnZ2luZyAmJiAoIHNjb3BlLmF4aXMgIT09IG51bGwgKSApIHtcblxuICAgICAgICAgICAgbW91c2VVcEV2ZW50Lm1vZGUgPSBfbW9kZTtcbiAgICAgICAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoIG1vdXNlVXBFdmVudCApO1xuXG4gICAgICAgIH1cblxuICAgICAgICBfZHJhZ2dpbmcgPSBmYWxzZTtcblxuICAgICAgICBpZiAoICdUb3VjaEV2ZW50JyBpbiB3aW5kb3cgJiYgZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50ICkge1xuXG4gICAgICAgICAgICAvLyBGb3JjZSBcInJvbGxvdmVyXCJcblxuICAgICAgICAgICAgc2NvcGUuYXhpcyA9IG51bGw7XG4gICAgICAgICAgICBzY29wZS51cGRhdGUoKTtcbiAgICAgICAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoIGNoYW5nZUV2ZW50ICk7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgb25Qb2ludGVySG92ZXIoIGV2ZW50ICk7XG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW50ZXJzZWN0T2JqZWN0cyggcG9pbnRlciwgb2JqZWN0cyApIHtcblxuICAgICAgICB2YXIgcmVjdCA9IGRvbUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciB4ID0gKCBwb2ludGVyLmNsaWVudFggLSByZWN0LmxlZnQgKSAvIHJlY3Qud2lkdGg7XG4gICAgICAgIHZhciB5ID0gKCBwb2ludGVyLmNsaWVudFkgLSByZWN0LnRvcCApIC8gcmVjdC5oZWlnaHQ7XG5cbiAgICAgICAgcG9pbnRlclZlY3Rvci5zZXQoICggeCAqIDIgKSAtIDEsIC0gKCB5ICogMiApICsgMSApO1xuICAgICAgICByYXkuc2V0RnJvbUNhbWVyYSggcG9pbnRlclZlY3RvciwgY2FtZXJhICk7XG5cbiAgICAgICAgdmFyIGludGVyc2VjdGlvbnMgPSByYXkuaW50ZXJzZWN0T2JqZWN0cyggb2JqZWN0cywgdHJ1ZSApO1xuICAgICAgICByZXR1cm4gaW50ZXJzZWN0aW9uc1sgMCBdID8gaW50ZXJzZWN0aW9uc1sgMCBdIDogZmFsc2U7XG5cbiAgICB9XG5cbn1cblxuVHJhbnNmb3JtQ29udHJvbHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVEhSRUUuT2JqZWN0M0QucHJvdG90eXBlICk7XG5UcmFuc2Zvcm1Db250cm9scy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUcmFuc2Zvcm1Db250cm9scztcblxuZXhwb3J0IHsgVHJhbnNmb3JtQ29udHJvbHMgfVxuIiwiLyoqXG4gKiBAYXV0aG9yIHFpYW8gLyBodHRwczovL2dpdGh1Yi5jb20vcWlhb1xuICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbVxuICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS9cbiAqIEBhdXRob3IgV2VzdExhbmdsZXkgLyBodHRwOi8vZ2l0aHViLmNvbS9XZXN0TGFuZ2xleVxuICogQGF1dGhvciBlcmljaDY2NiAvIGh0dHA6Ly9lcmljaGFpbmVzLmNvbVxuICovXG5cbi8vIFRoaXMgc2V0IG9mIGNvbnRyb2xzIHBlcmZvcm1zIG9yYml0aW5nLCBkb2xseWluZyAoem9vbWluZyksIGFuZCBwYW5uaW5nLlxuLy8gVW5saWtlIFRyYWNrYmFsbENvbnRyb2xzLCBpdCBtYWludGFpbnMgdGhlIFwidXBcIiBkaXJlY3Rpb24gb2JqZWN0LnVwICgrWSBieSBkZWZhdWx0KS5cbi8vXG4vLyAgICBPcmJpdCAtIGxlZnQgbW91c2UgLyB0b3VjaDogb25lIGZpbmdlciBtb3ZlXG4vLyAgICBab29tIC0gbWlkZGxlIG1vdXNlLCBvciBtb3VzZXdoZWVsIC8gdG91Y2g6IHR3byBmaW5nZXIgc3ByZWFkIG9yIHNxdWlzaFxuLy8gICAgUGFuIC0gcmlnaHQgbW91c2UsIG9yIGFycm93IGtleXMgLyB0b3VjaDogdGhyZWUgZmluZ2VyIHN3aXBlXG5cbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJ1xuXG5mdW5jdGlvbiBPcmJpdENvbnRyb2xzKCBvYmplY3QsIGRvbUVsZW1lbnQgKSB7XG5cblx0dGhpcy5vYmplY3QgPSBvYmplY3Q7XG5cblx0dGhpcy5kb21FbGVtZW50ID0gKCBkb21FbGVtZW50ICE9PSB1bmRlZmluZWQgKSA/IGRvbUVsZW1lbnQgOiBkb2N1bWVudDtcblxuXHQvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB0aGlzIGNvbnRyb2xcblx0dGhpcy5lbmFibGVkID0gdHJ1ZTtcblxuXHQvLyBcInRhcmdldFwiIHNldHMgdGhlIGxvY2F0aW9uIG9mIGZvY3VzLCB3aGVyZSB0aGUgb2JqZWN0IG9yYml0cyBhcm91bmRcblx0dGhpcy50YXJnZXQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXG5cdC8vIEhvdyBmYXIgeW91IGNhbiBkb2xseSBpbiBhbmQgb3V0ICggUGVyc3BlY3RpdmVDYW1lcmEgb25seSApXG5cdHRoaXMubWluRGlzdGFuY2UgPSAwO1xuXHR0aGlzLm1heERpc3RhbmNlID0gSW5maW5pdHk7XG5cblx0Ly8gSG93IGZhciB5b3UgY2FuIHpvb20gaW4gYW5kIG91dCAoIE9ydGhvZ3JhcGhpY0NhbWVyYSBvbmx5IClcblx0dGhpcy5taW5ab29tID0gMDtcblx0dGhpcy5tYXhab29tID0gSW5maW5pdHk7XG5cblx0Ly8gSG93IGZhciB5b3UgY2FuIG9yYml0IHZlcnRpY2FsbHksIHVwcGVyIGFuZCBsb3dlciBsaW1pdHMuXG5cdC8vIFJhbmdlIGlzIDAgdG8gTWF0aC5QSSByYWRpYW5zLlxuXHR0aGlzLm1pblBvbGFyQW5nbGUgPSAwOyAvLyByYWRpYW5zXG5cdHRoaXMubWF4UG9sYXJBbmdsZSA9IE1hdGguUEk7IC8vIHJhZGlhbnNcblxuXHQvLyBIb3cgZmFyIHlvdSBjYW4gb3JiaXQgaG9yaXpvbnRhbGx5LCB1cHBlciBhbmQgbG93ZXIgbGltaXRzLlxuXHQvLyBJZiBzZXQsIG11c3QgYmUgYSBzdWItaW50ZXJ2YWwgb2YgdGhlIGludGVydmFsIFsgLSBNYXRoLlBJLCBNYXRoLlBJIF0uXG5cdHRoaXMubWluQXppbXV0aEFuZ2xlID0gLSBJbmZpbml0eTsgLy8gcmFkaWFuc1xuXHR0aGlzLm1heEF6aW11dGhBbmdsZSA9IEluZmluaXR5OyAvLyByYWRpYW5zXG5cblx0Ly8gU2V0IHRvIHRydWUgdG8gZW5hYmxlIGRhbXBpbmcgKGluZXJ0aWEpXG5cdC8vIElmIGRhbXBpbmcgaXMgZW5hYmxlZCwgeW91IG11c3QgY2FsbCBjb250cm9scy51cGRhdGUoKSBpbiB5b3VyIGFuaW1hdGlvbiBsb29wXG5cdHRoaXMuZW5hYmxlRGFtcGluZyA9IGZhbHNlO1xuXHR0aGlzLmRhbXBpbmdGYWN0b3IgPSAwLjI1O1xuXG5cdC8vIFRoaXMgb3B0aW9uIGFjdHVhbGx5IGVuYWJsZXMgZG9sbHlpbmcgaW4gYW5kIG91dDsgbGVmdCBhcyBcInpvb21cIiBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG5cdC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHpvb21pbmdcblx0dGhpcy5lbmFibGVab29tID0gdHJ1ZTtcblx0dGhpcy56b29tU3BlZWQgPSAxLjA7XG5cblx0Ly8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgcm90YXRpbmdcblx0dGhpcy5lbmFibGVSb3RhdGUgPSB0cnVlO1xuXHR0aGlzLnJvdGF0ZVNwZWVkID0gMS4wO1xuXG5cdC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHBhbm5pbmdcblx0dGhpcy5lbmFibGVQYW4gPSB0cnVlO1xuXHR0aGlzLmtleVBhblNwZWVkID0gNy4wO1x0Ly8gcGl4ZWxzIG1vdmVkIHBlciBhcnJvdyBrZXkgcHVzaFxuXG5cdC8vIFNldCB0byB0cnVlIHRvIGF1dG9tYXRpY2FsbHkgcm90YXRlIGFyb3VuZCB0aGUgdGFyZ2V0XG5cdC8vIElmIGF1dG8tcm90YXRlIGlzIGVuYWJsZWQsIHlvdSBtdXN0IGNhbGwgY29udHJvbHMudXBkYXRlKCkgaW4geW91ciBhbmltYXRpb24gbG9vcFxuXHR0aGlzLmF1dG9Sb3RhdGUgPSBmYWxzZTtcblx0dGhpcy5hdXRvUm90YXRlU3BlZWQgPSAyLjA7IC8vIDMwIHNlY29uZHMgcGVyIHJvdW5kIHdoZW4gZnBzIGlzIDYwXG5cblx0Ly8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdXNlIG9mIHRoZSBrZXlzXG5cdHRoaXMuZW5hYmxlS2V5cyA9IHRydWU7XG5cblx0Ly8gVGhlIGZvdXIgYXJyb3cga2V5c1xuXHR0aGlzLmtleXMgPSB7IExFRlQ6IDM3LCBVUDogMzgsIFJJR0hUOiAzOSwgQk9UVE9NOiA0MCB9O1xuXG5cdC8vIE1vdXNlIGJ1dHRvbnNcblx0dGhpcy5tb3VzZUJ1dHRvbnMgPSB7IE9SQklUOiBUSFJFRS5NT1VTRS5MRUZULCBaT09NOiBUSFJFRS5NT1VTRS5NSURETEUsIFBBTjogVEhSRUUuTU9VU0UuUklHSFQgfTtcblxuXHQvLyBmb3IgcmVzZXRcblx0dGhpcy50YXJnZXQwID0gdGhpcy50YXJnZXQuY2xvbmUoKTtcblx0dGhpcy5wb3NpdGlvbjAgPSB0aGlzLm9iamVjdC5wb3NpdGlvbi5jbG9uZSgpO1xuXHR0aGlzLnpvb20wID0gdGhpcy5vYmplY3Quem9vbTtcblxuXHQvL1xuXHQvLyBwdWJsaWMgbWV0aG9kc1xuXHQvL1xuXG5cdHRoaXMuZ2V0UG9sYXJBbmdsZSA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdHJldHVybiBzcGhlcmljYWwucGhpO1xuXG5cdH07XG5cblx0dGhpcy5nZXRBemltdXRoYWxBbmdsZSA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdHJldHVybiBzcGhlcmljYWwudGhldGE7XG5cblx0fTtcblxuXHR0aGlzLnNhdmVTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdHNjb3BlLnRhcmdldDAuY29weSggc2NvcGUudGFyZ2V0ICk7XG5cdFx0c2NvcGUucG9zaXRpb24wLmNvcHkoIHNjb3BlLm9iamVjdC5wb3NpdGlvbiApO1xuXHRcdHNjb3BlLnpvb20wID0gc2NvcGUub2JqZWN0Lnpvb207XG5cblx0fTtcblxuXHR0aGlzLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0c2NvcGUudGFyZ2V0LmNvcHkoIHNjb3BlLnRhcmdldDAgKTtcblx0XHRzY29wZS5vYmplY3QucG9zaXRpb24uY29weSggc2NvcGUucG9zaXRpb24wICk7XG5cdFx0c2NvcGUub2JqZWN0Lnpvb20gPSBzY29wZS56b29tMDtcblxuXHRcdHNjb3BlLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG5cdFx0c2NvcGUuZGlzcGF0Y2hFdmVudCggY2hhbmdlRXZlbnQgKTtcblxuXHRcdHNjb3BlLnVwZGF0ZSgpO1xuXG5cdFx0c3RhdGUgPSBTVEFURS5OT05FO1xuXG5cdH07XG5cblx0Ly8gdGhpcyBtZXRob2QgaXMgZXhwb3NlZCwgYnV0IHBlcmhhcHMgaXQgd291bGQgYmUgYmV0dGVyIGlmIHdlIGNhbiBtYWtlIGl0IHByaXZhdGUuLi5cblx0dGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG5cblx0XHR2YXIgb2Zmc2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuXHRcdC8vIHNvIGNhbWVyYS51cCBpcyB0aGUgb3JiaXQgYXhpc1xuXHRcdHZhciBxdWF0ID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKS5zZXRGcm9tVW5pdFZlY3RvcnMoIG9iamVjdC51cCwgbmV3IFRIUkVFLlZlY3RvcjMoIDAsIDEsIDAgKSApO1xuXHRcdHZhciBxdWF0SW52ZXJzZSA9IHF1YXQuY2xvbmUoKS5pbnZlcnNlKCk7XG5cblx0XHR2YXIgbGFzdFBvc2l0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblx0XHR2YXIgbGFzdFF1YXRlcm5pb24gPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcblxuXHRcdFx0dmFyIHBvc2l0aW9uID0gc2NvcGUub2JqZWN0LnBvc2l0aW9uO1xuXG5cdFx0XHRvZmZzZXQuY29weSggcG9zaXRpb24gKS5zdWIoIHNjb3BlLnRhcmdldCApO1xuXG5cdFx0XHQvLyByb3RhdGUgb2Zmc2V0IHRvIFwieS1heGlzLWlzLXVwXCIgc3BhY2Vcblx0XHRcdG9mZnNldC5hcHBseVF1YXRlcm5pb24oIHF1YXQgKTtcblxuXHRcdFx0Ly8gYW5nbGUgZnJvbSB6LWF4aXMgYXJvdW5kIHktYXhpc1xuXHRcdFx0c3BoZXJpY2FsLnNldEZyb21WZWN0b3IzKCBvZmZzZXQgKTtcblxuXHRcdFx0aWYgKCBzY29wZS5hdXRvUm90YXRlICYmIHN0YXRlID09PSBTVEFURS5OT05FICkge1xuXG5cdFx0XHRcdHJvdGF0ZUxlZnQoIGdldEF1dG9Sb3RhdGlvbkFuZ2xlKCkgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRzcGhlcmljYWwudGhldGEgKz0gc3BoZXJpY2FsRGVsdGEudGhldGE7XG5cdFx0XHRzcGhlcmljYWwucGhpICs9IHNwaGVyaWNhbERlbHRhLnBoaTtcblxuXHRcdFx0Ly8gcmVzdHJpY3QgdGhldGEgdG8gYmUgYmV0d2VlbiBkZXNpcmVkIGxpbWl0c1xuXHRcdFx0c3BoZXJpY2FsLnRoZXRhID0gTWF0aC5tYXgoIHNjb3BlLm1pbkF6aW11dGhBbmdsZSwgTWF0aC5taW4oIHNjb3BlLm1heEF6aW11dGhBbmdsZSwgc3BoZXJpY2FsLnRoZXRhICkgKTtcblxuXHRcdFx0Ly8gcmVzdHJpY3QgcGhpIHRvIGJlIGJldHdlZW4gZGVzaXJlZCBsaW1pdHNcblx0XHRcdHNwaGVyaWNhbC5waGkgPSBNYXRoLm1heCggc2NvcGUubWluUG9sYXJBbmdsZSwgTWF0aC5taW4oIHNjb3BlLm1heFBvbGFyQW5nbGUsIHNwaGVyaWNhbC5waGkgKSApO1xuXG5cdFx0XHRzcGhlcmljYWwubWFrZVNhZmUoKTtcblxuXG5cdFx0XHRzcGhlcmljYWwucmFkaXVzICo9IHNjYWxlO1xuXG5cdFx0XHQvLyByZXN0cmljdCByYWRpdXMgdG8gYmUgYmV0d2VlbiBkZXNpcmVkIGxpbWl0c1xuXHRcdFx0c3BoZXJpY2FsLnJhZGl1cyA9IE1hdGgubWF4KCBzY29wZS5taW5EaXN0YW5jZSwgTWF0aC5taW4oIHNjb3BlLm1heERpc3RhbmNlLCBzcGhlcmljYWwucmFkaXVzICkgKTtcblxuXHRcdFx0Ly8gbW92ZSB0YXJnZXQgdG8gcGFubmVkIGxvY2F0aW9uXG5cdFx0XHRzY29wZS50YXJnZXQuYWRkKCBwYW5PZmZzZXQgKTtcblxuXHRcdFx0b2Zmc2V0LnNldEZyb21TcGhlcmljYWwoIHNwaGVyaWNhbCApO1xuXG5cdFx0XHQvLyByb3RhdGUgb2Zmc2V0IGJhY2sgdG8gXCJjYW1lcmEtdXAtdmVjdG9yLWlzLXVwXCIgc3BhY2Vcblx0XHRcdG9mZnNldC5hcHBseVF1YXRlcm5pb24oIHF1YXRJbnZlcnNlICk7XG5cblx0XHRcdHBvc2l0aW9uLmNvcHkoIHNjb3BlLnRhcmdldCApLmFkZCggb2Zmc2V0ICk7XG5cblx0XHRcdHNjb3BlLm9iamVjdC5sb29rQXQoIHNjb3BlLnRhcmdldCApO1xuXG5cdFx0XHRpZiAoIHNjb3BlLmVuYWJsZURhbXBpbmcgPT09IHRydWUgKSB7XG5cblx0XHRcdFx0c3BoZXJpY2FsRGVsdGEudGhldGEgKj0gKCAxIC0gc2NvcGUuZGFtcGluZ0ZhY3RvciApO1xuXHRcdFx0XHRzcGhlcmljYWxEZWx0YS5waGkgKj0gKCAxIC0gc2NvcGUuZGFtcGluZ0ZhY3RvciApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdHNwaGVyaWNhbERlbHRhLnNldCggMCwgMCwgMCApO1xuXG5cdFx0XHR9XG5cblx0XHRcdHNjYWxlID0gMTtcblx0XHRcdHBhbk9mZnNldC5zZXQoIDAsIDAsIDAgKTtcblxuXHRcdFx0Ly8gdXBkYXRlIGNvbmRpdGlvbiBpczpcblx0XHRcdC8vIG1pbihjYW1lcmEgZGlzcGxhY2VtZW50LCBjYW1lcmEgcm90YXRpb24gaW4gcmFkaWFucyleMiA+IEVQU1xuXHRcdFx0Ly8gdXNpbmcgc21hbGwtYW5nbGUgYXBwcm94aW1hdGlvbiBjb3MoeC8yKSA9IDEgLSB4XjIgLyA4XG5cblx0XHRcdGlmICggem9vbUNoYW5nZWQgfHxcblx0XHRcdFx0bGFzdFBvc2l0aW9uLmRpc3RhbmNlVG9TcXVhcmVkKCBzY29wZS5vYmplY3QucG9zaXRpb24gKSA+IEVQUyB8fFxuXHRcdFx0XHQ4ICogKCAxIC0gbGFzdFF1YXRlcm5pb24uZG90KCBzY29wZS5vYmplY3QucXVhdGVybmlvbiApICkgPiBFUFMgKSB7XG5cblx0XHRcdFx0c2NvcGUuZGlzcGF0Y2hFdmVudCggY2hhbmdlRXZlbnQgKTtcblxuXHRcdFx0XHRsYXN0UG9zaXRpb24uY29weSggc2NvcGUub2JqZWN0LnBvc2l0aW9uICk7XG5cdFx0XHRcdGxhc3RRdWF0ZXJuaW9uLmNvcHkoIHNjb3BlLm9iamVjdC5xdWF0ZXJuaW9uICk7XG5cdFx0XHRcdHpvb21DaGFuZ2VkID0gZmFsc2U7XG5cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdFx0fTtcblxuXHR9KCk7XG5cblx0dGhpcy5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0c2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnY29udGV4dG1lbnUnLCBvbkNvbnRleHRNZW51LCBmYWxzZSApO1xuXHRcdHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ21vdXNlZG93bicsIG9uTW91c2VEb3duLCBmYWxzZSApO1xuXHRcdHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3doZWVsJywgb25Nb3VzZVdoZWVsLCBmYWxzZSApO1xuXG5cdFx0c2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAndG91Y2hzdGFydCcsIG9uVG91Y2hTdGFydCwgZmFsc2UgKTtcblx0XHRzY29wZS5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICd0b3VjaGVuZCcsIG9uVG91Y2hFbmQsIGZhbHNlICk7XG5cdFx0c2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUsIGZhbHNlICk7XG5cblx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUsIGZhbHNlICk7XG5cdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ21vdXNldXAnLCBvbk1vdXNlVXAsIGZhbHNlICk7XG5cblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCBvbktleURvd24sIGZhbHNlICk7XG5cblx0XHQvL3Njb3BlLmRpc3BhdGNoRXZlbnQoIHsgdHlwZTogJ2Rpc3Bvc2UnIH0gKTsgLy8gc2hvdWxkIHRoaXMgYmUgYWRkZWQgaGVyZT9cblxuXHR9O1xuXG5cdC8vXG5cdC8vIGludGVybmFsc1xuXHQvL1xuXG5cdHZhciBzY29wZSA9IHRoaXM7XG5cblx0dmFyIGNoYW5nZUV2ZW50ID0geyB0eXBlOiAnY2hhbmdlJyB9O1xuXHR2YXIgc3RhcnRFdmVudCA9IHsgdHlwZTogJ3N0YXJ0JyB9O1xuXHR2YXIgZW5kRXZlbnQgPSB7IHR5cGU6ICdlbmQnIH07XG5cblx0dmFyIFNUQVRFID0geyBOT05FOiAtIDEsIFJPVEFURTogMCwgRE9MTFk6IDEsIFBBTjogMiwgVE9VQ0hfUk9UQVRFOiAzLCBUT1VDSF9ET0xMWTogNCwgVE9VQ0hfUEFOOiA1IH07XG5cblx0dmFyIHN0YXRlID0gU1RBVEUuTk9ORTtcblxuXHR2YXIgRVBTID0gMC4wMDAwMDE7XG5cblx0Ly8gY3VycmVudCBwb3NpdGlvbiBpbiBzcGhlcmljYWwgY29vcmRpbmF0ZXNcblx0dmFyIHNwaGVyaWNhbCA9IG5ldyBUSFJFRS5TcGhlcmljYWwoKTtcblx0dmFyIHNwaGVyaWNhbERlbHRhID0gbmV3IFRIUkVFLlNwaGVyaWNhbCgpO1xuXG5cdHZhciBzY2FsZSA9IDE7XG5cdHZhciBwYW5PZmZzZXQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXHR2YXIgem9vbUNoYW5nZWQgPSBmYWxzZTtcblxuXHR2YXIgcm90YXRlU3RhcnQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXHR2YXIgcm90YXRlRW5kID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblx0dmFyIHJvdGF0ZURlbHRhID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuXHR2YXIgcGFuU3RhcnQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXHR2YXIgcGFuRW5kID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblx0dmFyIHBhbkRlbHRhID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuXHR2YXIgZG9sbHlTdGFydCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cdHZhciBkb2xseUVuZCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cdHZhciBkb2xseURlbHRhID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuXHRmdW5jdGlvbiBnZXRBdXRvUm90YXRpb25BbmdsZSgpIHtcblxuXHRcdHJldHVybiAyICogTWF0aC5QSSAvIDYwIC8gNjAgKiBzY29wZS5hdXRvUm90YXRlU3BlZWQ7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGdldFpvb21TY2FsZSgpIHtcblxuXHRcdHJldHVybiBNYXRoLnBvdyggMC45NSwgc2NvcGUuem9vbVNwZWVkICk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIHJvdGF0ZUxlZnQoIGFuZ2xlICkge1xuXG5cdFx0c3BoZXJpY2FsRGVsdGEudGhldGEgLT0gYW5nbGU7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIHJvdGF0ZVVwKCBhbmdsZSApIHtcblxuXHRcdHNwaGVyaWNhbERlbHRhLnBoaSAtPSBhbmdsZTtcblxuXHR9XG5cblx0dmFyIHBhbkxlZnQgPSBmdW5jdGlvbiAoKSB7XG5cblx0XHR2YXIgdiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cblx0XHRyZXR1cm4gZnVuY3Rpb24gcGFuTGVmdCggZGlzdGFuY2UsIG9iamVjdE1hdHJpeCApIHtcblxuXHRcdFx0di5zZXRGcm9tTWF0cml4Q29sdW1uKCBvYmplY3RNYXRyaXgsIDAgKTsgLy8gZ2V0IFggY29sdW1uIG9mIG9iamVjdE1hdHJpeFxuXHRcdFx0di5tdWx0aXBseVNjYWxhciggLSBkaXN0YW5jZSApO1xuXG5cdFx0XHRwYW5PZmZzZXQuYWRkKCB2ICk7XG5cblx0XHR9O1xuXG5cdH0oKTtcblxuXHR2YXIgcGFuVXAgPSBmdW5jdGlvbiAoKSB7XG5cblx0XHR2YXIgdiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cblx0XHRyZXR1cm4gZnVuY3Rpb24gcGFuVXAoIGRpc3RhbmNlLCBvYmplY3RNYXRyaXggKSB7XG5cblx0XHRcdHYuc2V0RnJvbU1hdHJpeENvbHVtbiggb2JqZWN0TWF0cml4LCAxICk7IC8vIGdldCBZIGNvbHVtbiBvZiBvYmplY3RNYXRyaXhcblx0XHRcdHYubXVsdGlwbHlTY2FsYXIoIGRpc3RhbmNlICk7XG5cblx0XHRcdHBhbk9mZnNldC5hZGQoIHYgKTtcblxuXHRcdH07XG5cblx0fSgpO1xuXG5cdC8vIGRlbHRhWCBhbmQgZGVsdGFZIGFyZSBpbiBwaXhlbHM7IHJpZ2h0IGFuZCBkb3duIGFyZSBwb3NpdGl2ZVxuXHR2YXIgcGFuID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0dmFyIG9mZnNldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cblx0XHRyZXR1cm4gZnVuY3Rpb24gcGFuKCBkZWx0YVgsIGRlbHRhWSApIHtcblxuXHRcdFx0dmFyIGVsZW1lbnQgPSBzY29wZS5kb21FbGVtZW50ID09PSBkb2N1bWVudCA/IHNjb3BlLmRvbUVsZW1lbnQuYm9keSA6IHNjb3BlLmRvbUVsZW1lbnQ7XG5cblx0XHRcdGlmICggc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEgKSB7XG5cblx0XHRcdFx0Ly8gcGVyc3BlY3RpdmVcblx0XHRcdFx0dmFyIHBvc2l0aW9uID0gc2NvcGUub2JqZWN0LnBvc2l0aW9uO1xuXHRcdFx0XHRvZmZzZXQuY29weSggcG9zaXRpb24gKS5zdWIoIHNjb3BlLnRhcmdldCApO1xuXHRcdFx0XHR2YXIgdGFyZ2V0RGlzdGFuY2UgPSBvZmZzZXQubGVuZ3RoKCk7XG5cblx0XHRcdFx0Ly8gaGFsZiBvZiB0aGUgZm92IGlzIGNlbnRlciB0byB0b3Agb2Ygc2NyZWVuXG5cdFx0XHRcdHRhcmdldERpc3RhbmNlICo9IE1hdGgudGFuKCAoIHNjb3BlLm9iamVjdC5mb3YgLyAyICkgKiBNYXRoLlBJIC8gMTgwLjAgKTtcblxuXHRcdFx0XHQvLyB3ZSBhY3R1YWxseSBkb24ndCB1c2Ugc2NyZWVuV2lkdGgsIHNpbmNlIHBlcnNwZWN0aXZlIGNhbWVyYSBpcyBmaXhlZCB0byBzY3JlZW4gaGVpZ2h0XG5cdFx0XHRcdHBhbkxlZnQoIDIgKiBkZWx0YVggKiB0YXJnZXREaXN0YW5jZSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0LCBzY29wZS5vYmplY3QubWF0cml4ICk7XG5cdFx0XHRcdHBhblVwKCAyICogZGVsdGFZICogdGFyZ2V0RGlzdGFuY2UgLyBlbGVtZW50LmNsaWVudEhlaWdodCwgc2NvcGUub2JqZWN0Lm1hdHJpeCApO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBzY29wZS5vYmplY3QgaW5zdGFuY2VvZiBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEgKSB7XG5cblx0XHRcdFx0Ly8gb3J0aG9ncmFwaGljXG5cdFx0XHRcdHBhbkxlZnQoIGRlbHRhWCAqICggc2NvcGUub2JqZWN0LnJpZ2h0IC0gc2NvcGUub2JqZWN0LmxlZnQgKSAvIHNjb3BlLm9iamVjdC56b29tIC8gZWxlbWVudC5jbGllbnRXaWR0aCwgc2NvcGUub2JqZWN0Lm1hdHJpeCApO1xuXHRcdFx0XHRwYW5VcCggZGVsdGFZICogKCBzY29wZS5vYmplY3QudG9wIC0gc2NvcGUub2JqZWN0LmJvdHRvbSApIC8gc2NvcGUub2JqZWN0Lnpvb20gLyBlbGVtZW50LmNsaWVudEhlaWdodCwgc2NvcGUub2JqZWN0Lm1hdHJpeCApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIGNhbWVyYSBuZWl0aGVyIG9ydGhvZ3JhcGhpYyBub3IgcGVyc3BlY3RpdmVcblx0XHRcdFx0Y29uc29sZS53YXJuKCAnV0FSTklORzogT3JiaXRDb250cm9scy5qcyBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGNhbWVyYSB0eXBlIC0gcGFuIGRpc2FibGVkLicgKTtcblx0XHRcdFx0c2NvcGUuZW5hYmxlUGFuID0gZmFsc2U7XG5cblx0XHRcdH1cblxuXHRcdH07XG5cblx0fSgpO1xuXG5cdGZ1bmN0aW9uIGRvbGx5SW4oIGRvbGx5U2NhbGUgKSB7XG5cblx0XHRpZiAoIHNjb3BlLm9iamVjdCBpbnN0YW5jZW9mIFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhICkge1xuXG5cdFx0XHRzY2FsZSAvPSBkb2xseVNjYWxlO1xuXG5cdFx0fSBlbHNlIGlmICggc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhICkge1xuXG5cdFx0XHRzY29wZS5vYmplY3Quem9vbSA9IE1hdGgubWF4KCBzY29wZS5taW5ab29tLCBNYXRoLm1pbiggc2NvcGUubWF4Wm9vbSwgc2NvcGUub2JqZWN0Lnpvb20gKiBkb2xseVNjYWxlICkgKTtcblx0XHRcdHNjb3BlLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG5cdFx0XHR6b29tQ2hhbmdlZCA9IHRydWU7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdXQVJOSU5HOiBPcmJpdENvbnRyb2xzLmpzIGVuY291bnRlcmVkIGFuIHVua25vd24gY2FtZXJhIHR5cGUgLSBkb2xseS96b29tIGRpc2FibGVkLicgKTtcblx0XHRcdHNjb3BlLmVuYWJsZVpvb20gPSBmYWxzZTtcblxuXHRcdH1cblxuXHR9XG5cblx0ZnVuY3Rpb24gZG9sbHlPdXQoIGRvbGx5U2NhbGUgKSB7XG5cblx0XHRpZiAoIHNjb3BlLm9iamVjdCBpbnN0YW5jZW9mIFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhICkge1xuXG5cdFx0XHRzY2FsZSAqPSBkb2xseVNjYWxlO1xuXG5cdFx0fSBlbHNlIGlmICggc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhICkge1xuXG5cdFx0XHRzY29wZS5vYmplY3Quem9vbSA9IE1hdGgubWF4KCBzY29wZS5taW5ab29tLCBNYXRoLm1pbiggc2NvcGUubWF4Wm9vbSwgc2NvcGUub2JqZWN0Lnpvb20gLyBkb2xseVNjYWxlICkgKTtcblx0XHRcdHNjb3BlLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG5cdFx0XHR6b29tQ2hhbmdlZCA9IHRydWU7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdXQVJOSU5HOiBPcmJpdENvbnRyb2xzLmpzIGVuY291bnRlcmVkIGFuIHVua25vd24gY2FtZXJhIHR5cGUgLSBkb2xseS96b29tIGRpc2FibGVkLicgKTtcblx0XHRcdHNjb3BlLmVuYWJsZVpvb20gPSBmYWxzZTtcblxuXHRcdH1cblxuXHR9XG5cblx0Ly9cblx0Ly8gZXZlbnQgY2FsbGJhY2tzIC0gdXBkYXRlIHRoZSBvYmplY3Qgc3RhdGVcblx0Ly9cblxuXHRmdW5jdGlvbiBoYW5kbGVNb3VzZURvd25Sb3RhdGUoIGV2ZW50ICkge1xuXG5cdFx0Ly9jb25zb2xlLmxvZyggJ2hhbmRsZU1vdXNlRG93blJvdGF0ZScgKTtcblxuXHRcdHJvdGF0ZVN0YXJ0LnNldCggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVNb3VzZURvd25Eb2xseSggZXZlbnQgKSB7XG5cblx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlTW91c2VEb3duRG9sbHknICk7XG5cblx0XHRkb2xseVN0YXJ0LnNldCggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVNb3VzZURvd25QYW4oIGV2ZW50ICkge1xuXG5cdFx0Ly9jb25zb2xlLmxvZyggJ2hhbmRsZU1vdXNlRG93blBhbicgKTtcblxuXHRcdHBhblN0YXJ0LnNldCggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmVSb3RhdGUoIGV2ZW50ICkge1xuXG5cdFx0Ly9jb25zb2xlLmxvZyggJ2hhbmRsZU1vdXNlTW92ZVJvdGF0ZScgKTtcblxuXHRcdHJvdGF0ZUVuZC5zZXQoIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkgKTtcblx0XHRyb3RhdGVEZWx0YS5zdWJWZWN0b3JzKCByb3RhdGVFbmQsIHJvdGF0ZVN0YXJ0ICk7XG5cblx0XHR2YXIgZWxlbWVudCA9IHNjb3BlLmRvbUVsZW1lbnQgPT09IGRvY3VtZW50ID8gc2NvcGUuZG9tRWxlbWVudC5ib2R5IDogc2NvcGUuZG9tRWxlbWVudDtcblxuXHRcdC8vIHJvdGF0aW5nIGFjcm9zcyB3aG9sZSBzY3JlZW4gZ29lcyAzNjAgZGVncmVlcyBhcm91bmRcblx0XHRyb3RhdGVMZWZ0KCAyICogTWF0aC5QSSAqIHJvdGF0ZURlbHRhLnggLyBlbGVtZW50LmNsaWVudFdpZHRoICogc2NvcGUucm90YXRlU3BlZWQgKTtcblxuXHRcdC8vIHJvdGF0aW5nIHVwIGFuZCBkb3duIGFsb25nIHdob2xlIHNjcmVlbiBhdHRlbXB0cyB0byBnbyAzNjAsIGJ1dCBsaW1pdGVkIHRvIDE4MFxuXHRcdHJvdGF0ZVVwKCAyICogTWF0aC5QSSAqIHJvdGF0ZURlbHRhLnkgLyBlbGVtZW50LmNsaWVudEhlaWdodCAqIHNjb3BlLnJvdGF0ZVNwZWVkICk7XG5cblx0XHRyb3RhdGVTdGFydC5jb3B5KCByb3RhdGVFbmQgKTtcblxuXHRcdHNjb3BlLnVwZGF0ZSgpO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmVEb2xseSggZXZlbnQgKSB7XG5cblx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlTW91c2VNb3ZlRG9sbHknICk7XG5cblx0XHRkb2xseUVuZC5zZXQoIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkgKTtcblxuXHRcdGRvbGx5RGVsdGEuc3ViVmVjdG9ycyggZG9sbHlFbmQsIGRvbGx5U3RhcnQgKTtcblxuXHRcdGlmICggZG9sbHlEZWx0YS55ID4gMCApIHtcblxuXHRcdFx0ZG9sbHlJbiggZ2V0Wm9vbVNjYWxlKCkgKTtcblxuXHRcdH0gZWxzZSBpZiAoIGRvbGx5RGVsdGEueSA8IDAgKSB7XG5cblx0XHRcdGRvbGx5T3V0KCBnZXRab29tU2NhbGUoKSApO1xuXG5cdFx0fVxuXG5cdFx0ZG9sbHlTdGFydC5jb3B5KCBkb2xseUVuZCApO1xuXG5cdFx0c2NvcGUudXBkYXRlKCk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZVBhbiggZXZlbnQgKSB7XG5cblx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlTW91c2VNb3ZlUGFuJyApO1xuXG5cdFx0cGFuRW5kLnNldCggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xuXG5cdFx0cGFuRGVsdGEuc3ViVmVjdG9ycyggcGFuRW5kLCBwYW5TdGFydCApO1xuXG5cdFx0cGFuKCBwYW5EZWx0YS54LCBwYW5EZWx0YS55ICk7XG5cblx0XHRwYW5TdGFydC5jb3B5KCBwYW5FbmQgKTtcblxuXHRcdHNjb3BlLnVwZGF0ZSgpO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVNb3VzZVVwKCBldmVudCApIHtcblxuXHRcdC8vIGNvbnNvbGUubG9nKCAnaGFuZGxlTW91c2VVcCcgKTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gaGFuZGxlTW91c2VXaGVlbCggZXZlbnQgKSB7XG5cblx0XHQvLyBjb25zb2xlLmxvZyggJ2hhbmRsZU1vdXNlV2hlZWwnICk7XG5cblx0XHRpZiAoIGV2ZW50LmRlbHRhWSA8IDAgKSB7XG5cblx0XHRcdGRvbGx5T3V0KCBnZXRab29tU2NhbGUoKSApO1xuXG5cdFx0fSBlbHNlIGlmICggZXZlbnQuZGVsdGFZID4gMCApIHtcblxuXHRcdFx0ZG9sbHlJbiggZ2V0Wm9vbVNjYWxlKCkgKTtcblxuXHRcdH1cblxuXHRcdHNjb3BlLnVwZGF0ZSgpO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVLZXlEb3duKCBldmVudCApIHtcblxuXHRcdC8vY29uc29sZS5sb2coICdoYW5kbGVLZXlEb3duJyApO1xuXG5cdFx0c3dpdGNoICggZXZlbnQua2V5Q29kZSApIHtcblxuXHRcdFx0Y2FzZSBzY29wZS5rZXlzLlVQOlxuXHRcdFx0XHRwYW4oIDAsIHNjb3BlLmtleVBhblNwZWVkICk7XG5cdFx0XHRcdHNjb3BlLnVwZGF0ZSgpO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSBzY29wZS5rZXlzLkJPVFRPTTpcblx0XHRcdFx0cGFuKCAwLCAtIHNjb3BlLmtleVBhblNwZWVkICk7XG5cdFx0XHRcdHNjb3BlLnVwZGF0ZSgpO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSBzY29wZS5rZXlzLkxFRlQ6XG5cdFx0XHRcdHBhbiggc2NvcGUua2V5UGFuU3BlZWQsIDAgKTtcblx0XHRcdFx0c2NvcGUudXBkYXRlKCk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIHNjb3BlLmtleXMuUklHSFQ6XG5cdFx0XHRcdHBhbiggLSBzY29wZS5rZXlQYW5TcGVlZCwgMCApO1xuXHRcdFx0XHRzY29wZS51cGRhdGUoKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHR9XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnRSb3RhdGUoIGV2ZW50ICkge1xuXG5cdFx0Ly9jb25zb2xlLmxvZyggJ2hhbmRsZVRvdWNoU3RhcnRSb3RhdGUnICk7XG5cblx0XHRyb3RhdGVTdGFydC5zZXQoIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWCwgZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VZICk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnREb2xseSggZXZlbnQgKSB7XG5cblx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlVG91Y2hTdGFydERvbGx5JyApO1xuXG5cdFx0dmFyIGR4ID0gZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VYIC0gZXZlbnQudG91Y2hlc1sgMSBdLnBhZ2VYO1xuXHRcdHZhciBkeSA9IGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWSAtIGV2ZW50LnRvdWNoZXNbIDEgXS5wYWdlWTtcblxuXHRcdHZhciBkaXN0YW5jZSA9IE1hdGguc3FydCggZHggKiBkeCArIGR5ICogZHkgKTtcblxuXHRcdGRvbGx5U3RhcnQuc2V0KCAwLCBkaXN0YW5jZSApO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0UGFuKCBldmVudCApIHtcblxuXHRcdC8vY29uc29sZS5sb2coICdoYW5kbGVUb3VjaFN0YXJ0UGFuJyApO1xuXG5cdFx0cGFuU3RhcnQuc2V0KCBldmVudC50b3VjaGVzWyAwIF0ucGFnZVgsIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWSApO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmVSb3RhdGUoIGV2ZW50ICkge1xuXG5cdFx0Ly9jb25zb2xlLmxvZyggJ2hhbmRsZVRvdWNoTW92ZVJvdGF0ZScgKTtcblxuXHRcdHJvdGF0ZUVuZC5zZXQoIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWCwgZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VZICk7XG5cdFx0cm90YXRlRGVsdGEuc3ViVmVjdG9ycyggcm90YXRlRW5kLCByb3RhdGVTdGFydCApO1xuXG5cdFx0dmFyIGVsZW1lbnQgPSBzY29wZS5kb21FbGVtZW50ID09PSBkb2N1bWVudCA/IHNjb3BlLmRvbUVsZW1lbnQuYm9keSA6IHNjb3BlLmRvbUVsZW1lbnQ7XG5cblx0XHQvLyByb3RhdGluZyBhY3Jvc3Mgd2hvbGUgc2NyZWVuIGdvZXMgMzYwIGRlZ3JlZXMgYXJvdW5kXG5cdFx0cm90YXRlTGVmdCggMiAqIE1hdGguUEkgKiByb3RhdGVEZWx0YS54IC8gZWxlbWVudC5jbGllbnRXaWR0aCAqIHNjb3BlLnJvdGF0ZVNwZWVkICk7XG5cblx0XHQvLyByb3RhdGluZyB1cCBhbmQgZG93biBhbG9uZyB3aG9sZSBzY3JlZW4gYXR0ZW1wdHMgdG8gZ28gMzYwLCBidXQgbGltaXRlZCB0byAxODBcblx0XHRyb3RhdGVVcCggMiAqIE1hdGguUEkgKiByb3RhdGVEZWx0YS55IC8gZWxlbWVudC5jbGllbnRIZWlnaHQgKiBzY29wZS5yb3RhdGVTcGVlZCApO1xuXG5cdFx0cm90YXRlU3RhcnQuY29weSggcm90YXRlRW5kICk7XG5cblx0XHRzY29wZS51cGRhdGUoKTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlRG9sbHkoIGV2ZW50ICkge1xuXG5cdFx0Ly9jb25zb2xlLmxvZyggJ2hhbmRsZVRvdWNoTW92ZURvbGx5JyApO1xuXG5cdFx0dmFyIGR4ID0gZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VYIC0gZXZlbnQudG91Y2hlc1sgMSBdLnBhZ2VYO1xuXHRcdHZhciBkeSA9IGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWSAtIGV2ZW50LnRvdWNoZXNbIDEgXS5wYWdlWTtcblxuXHRcdHZhciBkaXN0YW5jZSA9IE1hdGguc3FydCggZHggKiBkeCArIGR5ICogZHkgKTtcblxuXHRcdGRvbGx5RW5kLnNldCggMCwgZGlzdGFuY2UgKTtcblxuXHRcdGRvbGx5RGVsdGEuc3ViVmVjdG9ycyggZG9sbHlFbmQsIGRvbGx5U3RhcnQgKTtcblxuXHRcdGlmICggZG9sbHlEZWx0YS55ID4gMCApIHtcblxuXHRcdFx0ZG9sbHlPdXQoIGdldFpvb21TY2FsZSgpICk7XG5cblx0XHR9IGVsc2UgaWYgKCBkb2xseURlbHRhLnkgPCAwICkge1xuXG5cdFx0XHRkb2xseUluKCBnZXRab29tU2NhbGUoKSApO1xuXG5cdFx0fVxuXG5cdFx0ZG9sbHlTdGFydC5jb3B5KCBkb2xseUVuZCApO1xuXG5cdFx0c2NvcGUudXBkYXRlKCk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZVRvdWNoTW92ZVBhbiggZXZlbnQgKSB7XG5cblx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlVG91Y2hNb3ZlUGFuJyApO1xuXG5cdFx0cGFuRW5kLnNldCggZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VYLCBldmVudC50b3VjaGVzWyAwIF0ucGFnZVkgKTtcblxuXHRcdHBhbkRlbHRhLnN1YlZlY3RvcnMoIHBhbkVuZCwgcGFuU3RhcnQgKTtcblxuXHRcdHBhbiggcGFuRGVsdGEueCwgcGFuRGVsdGEueSApO1xuXG5cdFx0cGFuU3RhcnQuY29weSggcGFuRW5kICk7XG5cblx0XHRzY29wZS51cGRhdGUoKTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gaGFuZGxlVG91Y2hFbmQoIGV2ZW50ICkge1xuXG5cdFx0Ly9jb25zb2xlLmxvZyggJ2hhbmRsZVRvdWNoRW5kJyApO1xuXG5cdH1cblxuXHQvL1xuXHQvLyBldmVudCBoYW5kbGVycyAtIEZTTTogbGlzdGVuIGZvciBldmVudHMgYW5kIHJlc2V0IHN0YXRlXG5cdC8vXG5cblx0ZnVuY3Rpb24gb25Nb3VzZURvd24oIGV2ZW50ICkge1xuXG5cdFx0aWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRpZiAoIGV2ZW50LmJ1dHRvbiA9PT0gc2NvcGUubW91c2VCdXR0b25zLk9SQklUICkge1xuXG5cdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVJvdGF0ZSA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRcdGhhbmRsZU1vdXNlRG93blJvdGF0ZSggZXZlbnQgKTtcblxuXHRcdFx0c3RhdGUgPSBTVEFURS5ST1RBVEU7XG5cblx0XHR9IGVsc2UgaWYgKCBldmVudC5idXR0b24gPT09IHNjb3BlLm1vdXNlQnV0dG9ucy5aT09NICkge1xuXG5cdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0XHRoYW5kbGVNb3VzZURvd25Eb2xseSggZXZlbnQgKTtcblxuXHRcdFx0c3RhdGUgPSBTVEFURS5ET0xMWTtcblxuXHRcdH0gZWxzZSBpZiAoIGV2ZW50LmJ1dHRvbiA9PT0gc2NvcGUubW91c2VCdXR0b25zLlBBTiApIHtcblxuXHRcdFx0aWYgKCBzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0XHRoYW5kbGVNb3VzZURvd25QYW4oIGV2ZW50ICk7XG5cblx0XHRcdHN0YXRlID0gU1RBVEUuUEFOO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBzdGF0ZSAhPT0gU1RBVEUuTk9ORSApIHtcblxuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlLCBmYWxzZSApO1xuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ21vdXNldXAnLCBvbk1vdXNlVXAsIGZhbHNlICk7XG5cblx0XHRcdHNjb3BlLmRpc3BhdGNoRXZlbnQoIHN0YXJ0RXZlbnQgKTtcblxuXHRcdH1cblxuXHR9XG5cblx0ZnVuY3Rpb24gb25Nb3VzZU1vdmUoIGV2ZW50ICkge1xuXG5cdFx0aWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRpZiAoIHN0YXRlID09PSBTVEFURS5ST1RBVEUgKSB7XG5cblx0XHRcdGlmICggc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdFx0aGFuZGxlTW91c2VNb3ZlUm90YXRlKCBldmVudCApO1xuXG5cdFx0fSBlbHNlIGlmICggc3RhdGUgPT09IFNUQVRFLkRPTExZICkge1xuXG5cdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0XHRoYW5kbGVNb3VzZU1vdmVEb2xseSggZXZlbnQgKTtcblxuXHRcdH0gZWxzZSBpZiAoIHN0YXRlID09PSBTVEFURS5QQU4gKSB7XG5cblx0XHRcdGlmICggc2NvcGUuZW5hYmxlUGFuID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdFx0aGFuZGxlTW91c2VNb3ZlUGFuKCBldmVudCApO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRmdW5jdGlvbiBvbk1vdXNlVXAoIGV2ZW50ICkge1xuXG5cdFx0aWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdGhhbmRsZU1vdXNlVXAoIGV2ZW50ICk7XG5cblx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUsIGZhbHNlICk7XG5cdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ21vdXNldXAnLCBvbk1vdXNlVXAsIGZhbHNlICk7XG5cblx0XHRzY29wZS5kaXNwYXRjaEV2ZW50KCBlbmRFdmVudCApO1xuXG5cdFx0c3RhdGUgPSBTVEFURS5OT05FO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBvbk1vdXNlV2hlZWwoIGV2ZW50ICkge1xuXG5cdFx0aWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSB8fCBzY29wZS5lbmFibGVab29tID09PSBmYWxzZSB8fCAoIHN0YXRlICE9PSBTVEFURS5OT05FICYmIHN0YXRlICE9PSBTVEFURS5ST1RBVEUgKSApIHJldHVybjtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0XHRoYW5kbGVNb3VzZVdoZWVsKCBldmVudCApO1xuXG5cdFx0c2NvcGUuZGlzcGF0Y2hFdmVudCggc3RhcnRFdmVudCApOyAvLyBub3Qgc3VyZSB3aHkgdGhlc2UgYXJlIGhlcmUuLi5cblx0XHRzY29wZS5kaXNwYXRjaEV2ZW50KCBlbmRFdmVudCApO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBvbktleURvd24oIGV2ZW50ICkge1xuXG5cdFx0aWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSB8fCBzY29wZS5lbmFibGVLZXlzID09PSBmYWxzZSB8fCBzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0aGFuZGxlS2V5RG93biggZXZlbnQgKTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KCBldmVudCApIHtcblxuXHRcdGlmICggc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRzd2l0Y2ggKCBldmVudC50b3VjaGVzLmxlbmd0aCApIHtcblxuXHRcdFx0Y2FzZSAxOlx0Ly8gb25lLWZpbmdlcmVkIHRvdWNoOiByb3RhdGVcblxuXHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVJvdGF0ZSA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRcdFx0aGFuZGxlVG91Y2hTdGFydFJvdGF0ZSggZXZlbnQgKTtcblxuXHRcdFx0XHRzdGF0ZSA9IFNUQVRFLlRPVUNIX1JPVEFURTtcblxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAyOlx0Ly8gdHdvLWZpbmdlcmVkIHRvdWNoOiBkb2xseVxuXG5cdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRcdFx0aGFuZGxlVG91Y2hTdGFydERvbGx5KCBldmVudCApO1xuXG5cdFx0XHRcdHN0YXRlID0gU1RBVEUuVE9VQ0hfRE9MTFk7XG5cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMzogLy8gdGhyZWUtZmluZ2VyZWQgdG91Y2g6IHBhblxuXG5cdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlUGFuID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdFx0XHRoYW5kbGVUb3VjaFN0YXJ0UGFuKCBldmVudCApO1xuXG5cdFx0XHRcdHN0YXRlID0gU1RBVEUuVE9VQ0hfUEFOO1xuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXG5cdFx0XHRcdHN0YXRlID0gU1RBVEUuTk9ORTtcblxuXHRcdH1cblxuXHRcdGlmICggc3RhdGUgIT09IFNUQVRFLk5PTkUgKSB7XG5cblx0XHRcdHNjb3BlLmRpc3BhdGNoRXZlbnQoIHN0YXJ0RXZlbnQgKTtcblxuXHRcdH1cblxuXHR9XG5cblx0ZnVuY3Rpb24gb25Ub3VjaE1vdmUoIGV2ZW50ICkge1xuXG5cdFx0aWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0XHRzd2l0Y2ggKCBldmVudC50b3VjaGVzLmxlbmd0aCApIHtcblxuXHRcdFx0Y2FzZSAxOiAvLyBvbmUtZmluZ2VyZWQgdG91Y2g6IHJvdGF0ZVxuXG5cdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSApIHJldHVybjtcblx0XHRcdFx0aWYgKCBzdGF0ZSAhPT0gU1RBVEUuVE9VQ0hfUk9UQVRFICkgcmV0dXJuOyAvLyBpcyB0aGlzIG5lZWRlZD8uLi5cblxuXHRcdFx0XHRoYW5kbGVUb3VjaE1vdmVSb3RhdGUoIGV2ZW50ICk7XG5cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMjogLy8gdHdvLWZpbmdlcmVkIHRvdWNoOiBkb2xseVxuXG5cdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UgKSByZXR1cm47XG5cdFx0XHRcdGlmICggc3RhdGUgIT09IFNUQVRFLlRPVUNIX0RPTExZICkgcmV0dXJuOyAvLyBpcyB0aGlzIG5lZWRlZD8uLi5cblxuXHRcdFx0XHRoYW5kbGVUb3VjaE1vdmVEb2xseSggZXZlbnQgKTtcblxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAzOiAvLyB0aHJlZS1maW5nZXJlZCB0b3VjaDogcGFuXG5cblx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlICkgcmV0dXJuO1xuXHRcdFx0XHRpZiAoIHN0YXRlICE9PSBTVEFURS5UT1VDSF9QQU4gKSByZXR1cm47IC8vIGlzIHRoaXMgbmVlZGVkPy4uLlxuXG5cdFx0XHRcdGhhbmRsZVRvdWNoTW92ZVBhbiggZXZlbnQgKTtcblxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0ZGVmYXVsdDpcblxuXHRcdFx0XHRzdGF0ZSA9IFNUQVRFLk5PTkU7XG5cblx0XHR9XG5cblx0fVxuXG5cdGZ1bmN0aW9uIG9uVG91Y2hFbmQoIGV2ZW50ICkge1xuXG5cdFx0aWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdGhhbmRsZVRvdWNoRW5kKCBldmVudCApO1xuXG5cdFx0c2NvcGUuZGlzcGF0Y2hFdmVudCggZW5kRXZlbnQgKTtcblxuXHRcdHN0YXRlID0gU1RBVEUuTk9ORTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gb25Db250ZXh0TWVudSggZXZlbnQgKSB7XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdH1cblxuXHQvL1xuXG5cdHNjb3BlLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2NvbnRleHRtZW51Jywgb25Db250ZXh0TWVudSwgZmFsc2UgKTtcblxuXHRzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdtb3VzZWRvd24nLCBvbk1vdXNlRG93biwgZmFsc2UgKTtcblx0c2NvcGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnd2hlZWwnLCBvbk1vdXNlV2hlZWwsIGZhbHNlICk7XG5cblx0c2NvcGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAndG91Y2hzdGFydCcsIG9uVG91Y2hTdGFydCwgZmFsc2UgKTtcblx0c2NvcGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAndG91Y2hlbmQnLCBvblRvdWNoRW5kLCBmYWxzZSApO1xuXHRzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSwgZmFsc2UgKTtcblxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCBvbktleURvd24sIGZhbHNlICk7XG5cblx0Ly8gZm9yY2UgYW4gdXBkYXRlIGF0IHN0YXJ0XG5cblx0dGhpcy51cGRhdGUoKTtcblxufVxuXG5PcmJpdENvbnRyb2xzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFRIUkVFLkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUgKTtcbk9yYml0Q29udHJvbHMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVEhSRUUuT3JiaXRDb250cm9scztcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIE9yYml0Q29udHJvbHMucHJvdG90eXBlLCB7XG5cblx0Y2VudGVyOiB7XG5cblx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLmNlbnRlciBoYXMgYmVlbiByZW5hbWVkIHRvIC50YXJnZXQnICk7XG5cdFx0XHRyZXR1cm4gdGhpcy50YXJnZXQ7XG5cblx0XHR9XG5cblx0fSxcblxuXHQvLyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5cblx0bm9ab29tOiB7XG5cblx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLm5vWm9vbSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZVpvb20gaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gISB0aGlzLmVuYWJsZVpvb207XG5cblx0XHR9LFxuXG5cdFx0c2V0OiBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9ab29tIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlWm9vbSBpbnN0ZWFkLicgKTtcblx0XHRcdHRoaXMuZW5hYmxlWm9vbSA9ICEgdmFsdWU7XG5cblx0XHR9XG5cblx0fSxcblxuXHRub1JvdGF0ZToge1xuXG5cdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5ub1JvdGF0ZSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZVJvdGF0ZSBpbnN0ZWFkLicgKTtcblx0XHRcdHJldHVybiAhIHRoaXMuZW5hYmxlUm90YXRlO1xuXG5cdFx0fSxcblxuXHRcdHNldDogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLm5vUm90YXRlIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlUm90YXRlIGluc3RlYWQuJyApO1xuXHRcdFx0dGhpcy5lbmFibGVSb3RhdGUgPSAhIHZhbHVlO1xuXG5cdFx0fVxuXG5cdH0sXG5cblx0bm9QYW46IHtcblxuXHRcdGdldDogZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9QYW4gaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVQYW4gaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gISB0aGlzLmVuYWJsZVBhbjtcblxuXHRcdH0sXG5cblx0XHRzZXQ6IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5ub1BhbiBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZVBhbiBpbnN0ZWFkLicgKTtcblx0XHRcdHRoaXMuZW5hYmxlUGFuID0gISB2YWx1ZTtcblxuXHRcdH1cblxuXHR9LFxuXG5cdG5vS2V5czoge1xuXG5cdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5ub0tleXMgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVLZXlzIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuICEgdGhpcy5lbmFibGVLZXlzO1xuXG5cdFx0fSxcblxuXHRcdHNldDogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLm5vS2V5cyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZUtleXMgaW5zdGVhZC4nICk7XG5cdFx0XHR0aGlzLmVuYWJsZUtleXMgPSAhIHZhbHVlO1xuXG5cdFx0fVxuXG5cdH0sXG5cblx0c3RhdGljTW92aW5nOiB7XG5cblx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLnN0YXRpY01vdmluZyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZURhbXBpbmcgaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gISB0aGlzLmVuYWJsZURhbXBpbmc7XG5cblx0XHR9LFxuXG5cdFx0c2V0OiBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAuc3RhdGljTW92aW5nIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlRGFtcGluZyBpbnN0ZWFkLicgKTtcblx0XHRcdHRoaXMuZW5hYmxlRGFtcGluZyA9ICEgdmFsdWU7XG5cblx0XHR9XG5cblx0fSxcblxuXHRkeW5hbWljRGFtcGluZ0ZhY3Rvcjoge1xuXG5cdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5keW5hbWljRGFtcGluZ0ZhY3RvciBoYXMgYmVlbiByZW5hbWVkLiBVc2UgLmRhbXBpbmdGYWN0b3IgaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5kYW1waW5nRmFjdG9yO1xuXG5cdFx0fSxcblxuXHRcdHNldDogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLmR5bmFtaWNEYW1waW5nRmFjdG9yIGhhcyBiZWVuIHJlbmFtZWQuIFVzZSAuZGFtcGluZ0ZhY3RvciBpbnN0ZWFkLicgKTtcblx0XHRcdHRoaXMuZGFtcGluZ0ZhY3RvciA9IHZhbHVlO1xuXG5cdFx0fVxuXG5cdH1cblxufSApO1xuXG5leHBvcnQgeyBPcmJpdENvbnRyb2xzIH1cbiIsIi8qKlxuICogQGF1dGhvciBhbGVlcGVyIC8gaHR0cDovL2FkYW1sZWVwZXIuY29tL1xuICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS9cbiAqIEBhdXRob3IgZ2VybzMgLyBodHRwczovL2dpdGh1Yi5jb20vZ2VybzNcbiAqIEBhdXRob3IgTXVnZW44NyAvIGh0dHBzOi8vZ2l0aHViLmNvbS9NdWdlbjg3XG4gKlxuICogRGVzY3JpcHRpb246IEEgVEhSRUUgbG9hZGVyIGZvciBTVEwgQVNDSUkgZmlsZXMsIGFzIGNyZWF0ZWQgYnkgU29saWR3b3JrcyBhbmQgb3RoZXIgQ0FEIHByb2dyYW1zLlxuICpcbiAqIFN1cHBvcnRzIGJvdGggYmluYXJ5IGFuZCBBU0NJSSBlbmNvZGVkIGZpbGVzLCB3aXRoIGF1dG9tYXRpYyBkZXRlY3Rpb24gb2YgdHlwZS5cbiAqXG4gKiBUaGUgbG9hZGVyIHJldHVybnMgYSBub24taW5kZXhlZCBidWZmZXIgZ2VvbWV0cnkuXG4gKlxuICogTGltaXRhdGlvbnM6XG4gKiAgQmluYXJ5IGRlY29kaW5nIHN1cHBvcnRzIFwiTWFnaWNzXCIgY29sb3IgZm9ybWF0IChodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NUTF8oZmlsZV9mb3JtYXQpI0NvbG9yX2luX2JpbmFyeV9TVEwpLlxuICogIFRoZXJlIGlzIHBlcmhhcHMgc29tZSBxdWVzdGlvbiBhcyB0byBob3cgdmFsaWQgaXQgaXMgdG8gYWx3YXlzIGFzc3VtZSBsaXR0bGUtZW5kaWFuLW5lc3MuXG4gKiAgQVNDSUkgZGVjb2RpbmcgYXNzdW1lcyBmaWxlIGlzIFVURi04LlxuICpcbiAqIFVzYWdlOlxuICogIHZhciBsb2FkZXIgPSBuZXcgVEhSRUUuU1RMTG9hZGVyKCk7XG4gKiAgbG9hZGVyLmxvYWQoICcuL21vZGVscy9zdGwvc2xvdHRlZF9kaXNrLnN0bCcsIGZ1bmN0aW9uICggZ2VvbWV0cnkgKSB7XG4gKiAgICBzY2VuZS5hZGQoIG5ldyBUSFJFRS5NZXNoKCBnZW9tZXRyeSApICk7XG4gKiAgfSk7XG4gKlxuICogRm9yIGJpbmFyeSBTVExzIGdlb21ldHJ5IG1pZ2h0IGNvbnRhaW4gY29sb3JzIGZvciB2ZXJ0aWNlcy4gVG8gdXNlIGl0OlxuICogIC8vIHVzZSB0aGUgc2FtZSBjb2RlIHRvIGxvYWQgU1RMIGFzIGFib3ZlXG4gKiAgaWYgKGdlb21ldHJ5Lmhhc0NvbG9ycykge1xuICogICAgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoeyBvcGFjaXR5OiBnZW9tZXRyeS5hbHBoYSwgdmVydGV4Q29sb3JzOiBUSFJFRS5WZXJ0ZXhDb2xvcnMgfSk7XG4gKiAgfSBlbHNlIHsgLi4uLiB9XG4gKiAgdmFyIG1lc2ggPSBuZXcgVEhSRUUuTWVzaCggZ2VvbWV0cnksIG1hdGVyaWFsICk7XG4gKi9cblxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnXG5cbmZ1bmN0aW9uIFNUTExvYWRlciggbWFuYWdlciApIHtcblxuICAgIHRoaXMubWFuYWdlciA9ICggbWFuYWdlciAhPT0gdW5kZWZpbmVkICkgPyBtYW5hZ2VyIDogVEhSRUUuRGVmYXVsdExvYWRpbmdNYW5hZ2VyO1xuXG59XG5cblNUTExvYWRlci5wcm90b3R5cGUgPSB7XG5cbiAgICBjb25zdHJ1Y3RvcjogU1RMTG9hZGVyLFxuXG4gICAgbG9hZDogZnVuY3Rpb24gKCB1cmwsIG9uTG9hZCwgb25Qcm9ncmVzcywgb25FcnJvciApIHtcblxuICAgICAgICB2YXIgc2NvcGUgPSB0aGlzO1xuXG4gICAgICAgIHZhciBsb2FkZXIgPSBuZXcgVEhSRUUuRmlsZUxvYWRlciggc2NvcGUubWFuYWdlciApO1xuICAgICAgICBsb2FkZXIuc2V0UmVzcG9uc2VUeXBlKCAnYXJyYXlidWZmZXInICk7XG4gICAgICAgIGxvYWRlci5sb2FkKCB1cmwsIGZ1bmN0aW9uICggdGV4dCApIHtcblxuICAgICAgICAgICAgb25Mb2FkKCBzY29wZS5wYXJzZSggdGV4dCApICk7XG5cbiAgICAgICAgfSwgb25Qcm9ncmVzcywgb25FcnJvciApO1xuXG4gICAgfSxcblxuICAgIHBhcnNlOiBmdW5jdGlvbiAoIGRhdGEgKSB7XG5cbiAgICAgICAgdmFyIGlzQmluYXJ5ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgZXhwZWN0LCBmYWNlX3NpemUsIG5fZmFjZXMsIHJlYWRlcjtcbiAgICAgICAgICAgIHJlYWRlciA9IG5ldyBEYXRhVmlldyggYmluRGF0YSApO1xuICAgICAgICAgICAgZmFjZV9zaXplID0gKCAzMiAvIDggKiAzICkgKyAoICggMzIgLyA4ICogMyApICogMyApICsgKCAxNiAvIDggKTtcbiAgICAgICAgICAgIG5fZmFjZXMgPSByZWFkZXIuZ2V0VWludDMyKCA4MCwgdHJ1ZSApO1xuICAgICAgICAgICAgZXhwZWN0ID0gODAgKyAoIDMyIC8gOCApICsgKCBuX2ZhY2VzICogZmFjZV9zaXplICk7XG5cbiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSByZWFkZXIuYnl0ZUxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFuIEFTQ0lJIFNUTCBkYXRhIG11c3QgYmVnaW4gd2l0aCAnc29saWQgJyBhcyB0aGUgZmlyc3Qgc2l4IGJ5dGVzLlxuICAgICAgICAgICAgLy8gSG93ZXZlciwgQVNDSUkgU1RMcyBsYWNraW5nIHRoZSBTUEFDRSBhZnRlciB0aGUgJ2QnIGFyZSBrbm93biB0byBiZVxuICAgICAgICAgICAgLy8gcGxlbnRpZnVsLiAgU28sIGNoZWNrIHRoZSBmaXJzdCA1IGJ5dGVzIGZvciAnc29saWQnLlxuXG4gICAgICAgICAgICAvLyBVUy1BU0NJSSBvcmRpbmFsIHZhbHVlcyBmb3IgJ3MnLCAnbycsICdsJywgJ2knLCAnZCdcbiAgICAgICAgICAgIHZhciBzb2xpZCA9IFsgMTE1LCAxMTEsIDEwOCwgMTA1LCAxMDAgXTtcblxuICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgNTsgaSArKyApIHtcblxuICAgICAgICAgICAgICAgIC8vIElmIHNvbGlkWyBpIF0gZG9lcyBub3QgbWF0Y2ggdGhlIGktdGggYnl0ZSwgdGhlbiBpdCBpcyBub3QgYW5cbiAgICAgICAgICAgICAgICAvLyBBU0NJSSBTVEw7IGhlbmNlLCBpdCBpcyBiaW5hcnkgYW5kIHJldHVybiB0cnVlLlxuXG4gICAgICAgICAgICAgICAgaWYgKCBzb2xpZFsgaSBdICE9IHJlYWRlci5nZXRVaW50OCggaSwgZmFsc2UgKSApIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZpcnN0IDUgYnl0ZXMgcmVhZCBcInNvbGlkXCI7IGRlY2xhcmUgaXQgdG8gYmUgYW4gQVNDSUkgU1RMXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYmluRGF0YSA9IHRoaXMuZW5zdXJlQmluYXJ5KCBkYXRhICk7XG5cbiAgICAgICAgcmV0dXJuIGlzQmluYXJ5KCkgPyB0aGlzLnBhcnNlQmluYXJ5KCBiaW5EYXRhICkgOiB0aGlzLnBhcnNlQVNDSUkoIHRoaXMuZW5zdXJlU3RyaW5nKCBkYXRhICkgKTtcblxuICAgIH0sXG5cbiAgICBwYXJzZUJpbmFyeTogZnVuY3Rpb24gKCBkYXRhICkge1xuXG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRGF0YVZpZXcoIGRhdGEgKTtcbiAgICAgICAgdmFyIGZhY2VzID0gcmVhZGVyLmdldFVpbnQzMiggODAsIHRydWUgKTtcblxuICAgICAgICB2YXIgciwgZywgYiwgaGFzQ29sb3JzID0gZmFsc2UsIGNvbG9ycztcbiAgICAgICAgdmFyIGRlZmF1bHRSLCBkZWZhdWx0RywgZGVmYXVsdEIsIGFscGhhO1xuXG4gICAgICAgIC8vIHByb2Nlc3MgU1RMIGhlYWRlclxuICAgICAgICAvLyBjaGVjayBmb3IgZGVmYXVsdCBjb2xvciBpbiBoZWFkZXIgKFwiQ09MT1I9cmdiYVwiIHNlcXVlbmNlKS5cblxuICAgICAgICBmb3IgKCB2YXIgaW5kZXggPSAwOyBpbmRleCA8IDgwIC0gMTA7IGluZGV4ICsrICkge1xuXG4gICAgICAgICAgICBpZiAoICggcmVhZGVyLmdldFVpbnQzMiggaW5kZXgsIGZhbHNlICkgPT0gMHg0MzRGNEM0RiAvKkNPTE8qLyApICYmXG4gICAgICAgICAgICAgICAgKCByZWFkZXIuZ2V0VWludDgoIGluZGV4ICsgNCApID09IDB4NTIgLyonUicqLyApICYmXG4gICAgICAgICAgICAgICAgKCByZWFkZXIuZ2V0VWludDgoIGluZGV4ICsgNSApID09IDB4M0QgLyonPScqLyApICkge1xuXG4gICAgICAgICAgICAgICAgaGFzQ29sb3JzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb2xvcnMgPSBbXTtcblxuICAgICAgICAgICAgICAgIGRlZmF1bHRSID0gcmVhZGVyLmdldFVpbnQ4KCBpbmRleCArIDYgKSAvIDI1NTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0RyA9IHJlYWRlci5nZXRVaW50OCggaW5kZXggKyA3ICkgLyAyNTU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdEIgPSByZWFkZXIuZ2V0VWludDgoIGluZGV4ICsgOCApIC8gMjU1O1xuICAgICAgICAgICAgICAgIGFscGhhID0gcmVhZGVyLmdldFVpbnQ4KCBpbmRleCArIDkgKSAvIDI1NTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0YU9mZnNldCA9IDg0O1xuICAgICAgICB2YXIgZmFjZUxlbmd0aCA9IDEyICogNCArIDI7XG5cbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gbmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5KCk7XG5cbiAgICAgICAgdmFyIHZlcnRpY2VzID0gW107XG4gICAgICAgIHZhciBub3JtYWxzID0gW107XG5cbiAgICAgICAgZm9yICggdmFyIGZhY2UgPSAwOyBmYWNlIDwgZmFjZXM7IGZhY2UgKysgKSB7XG5cbiAgICAgICAgICAgIHZhciBzdGFydCA9IGRhdGFPZmZzZXQgKyBmYWNlICogZmFjZUxlbmd0aDtcbiAgICAgICAgICAgIHZhciBub3JtYWxYID0gcmVhZGVyLmdldEZsb2F0MzIoIHN0YXJ0LCB0cnVlICk7XG4gICAgICAgICAgICB2YXIgbm9ybWFsWSA9IHJlYWRlci5nZXRGbG9hdDMyKCBzdGFydCArIDQsIHRydWUgKTtcbiAgICAgICAgICAgIHZhciBub3JtYWxaID0gcmVhZGVyLmdldEZsb2F0MzIoIHN0YXJ0ICsgOCwgdHJ1ZSApO1xuXG4gICAgICAgICAgICBpZiAoIGhhc0NvbG9ycyApIHtcblxuICAgICAgICAgICAgICAgIHZhciBwYWNrZWRDb2xvciA9IHJlYWRlci5nZXRVaW50MTYoIHN0YXJ0ICsgNDgsIHRydWUgKTtcblxuICAgICAgICAgICAgICAgIGlmICggKCBwYWNrZWRDb2xvciAmIDB4ODAwMCApID09PSAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGZhY2V0IGhhcyBpdHMgb3duIHVuaXF1ZSBjb2xvclxuXG4gICAgICAgICAgICAgICAgICAgIHIgPSAoIHBhY2tlZENvbG9yICYgMHgxRiApIC8gMzE7XG4gICAgICAgICAgICAgICAgICAgIGcgPSAoICggcGFja2VkQ29sb3IgPj4gNSApICYgMHgxRiApIC8gMzE7XG4gICAgICAgICAgICAgICAgICAgIGIgPSAoICggcGFja2VkQ29sb3IgPj4gMTAgKSAmIDB4MUYgKSAvIDMxO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICByID0gZGVmYXVsdFI7XG4gICAgICAgICAgICAgICAgICAgIGcgPSBkZWZhdWx0RztcbiAgICAgICAgICAgICAgICAgICAgYiA9IGRlZmF1bHRCO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoIHZhciBpID0gMTsgaSA8PSAzOyBpICsrICkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHZlcnRleHN0YXJ0ID0gc3RhcnQgKyBpICogMTI7XG5cbiAgICAgICAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKCByZWFkZXIuZ2V0RmxvYXQzMiggdmVydGV4c3RhcnQsIHRydWUgKSApO1xuICAgICAgICAgICAgICAgIHZlcnRpY2VzLnB1c2goIHJlYWRlci5nZXRGbG9hdDMyKCB2ZXJ0ZXhzdGFydCArIDQsIHRydWUgKSApO1xuICAgICAgICAgICAgICAgIHZlcnRpY2VzLnB1c2goIHJlYWRlci5nZXRGbG9hdDMyKCB2ZXJ0ZXhzdGFydCArIDgsIHRydWUgKSApO1xuXG4gICAgICAgICAgICAgICAgbm9ybWFscy5wdXNoKCBub3JtYWxYLCBub3JtYWxZLCBub3JtYWxaICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIGhhc0NvbG9ycyApIHtcblxuICAgICAgICAgICAgICAgICAgICBjb2xvcnMucHVzaCggciwgZywgYiApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggbmV3IEZsb2F0MzJBcnJheSggdmVydGljZXMgKSwgMyApICk7XG4gICAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ25vcm1hbCcsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoIG5ldyBGbG9hdDMyQXJyYXkoIG5vcm1hbHMgKSwgMyApICk7XG5cbiAgICAgICAgaWYgKCBoYXNDb2xvcnMgKSB7XG5cbiAgICAgICAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ2NvbG9yJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggbmV3IEZsb2F0MzJBcnJheSggY29sb3JzICksIDMgKSApO1xuICAgICAgICAgICAgZ2VvbWV0cnkuaGFzQ29sb3JzID0gdHJ1ZTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmFscGhhID0gYWxwaGE7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnZW9tZXRyeTtcblxuICAgIH0sXG5cbiAgICBwYXJzZUFTQ0lJOiBmdW5jdGlvbiAoIGRhdGEgKSB7XG5cbiAgICAgICAgdmFyIGdlb21ldHJ5LCBsZW5ndGgsIHBhdHRlcm5GYWNlLCBwYXR0ZXJuTm9ybWFsLCBwYXR0ZXJuVmVydGV4LCByZXN1bHQsIHRleHQ7XG4gICAgICAgIGdlb21ldHJ5ID0gbmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5KCk7XG4gICAgICAgIHBhdHRlcm5GYWNlID0gL2ZhY2V0KFtcXHNcXFNdKj8pZW5kZmFjZXQvZztcblxuICAgICAgICB2YXIgdmVydGljZXMgPSBbXTtcbiAgICAgICAgdmFyIG5vcm1hbHMgPSBbXTtcblxuICAgICAgICB2YXIgbm9ybWFsID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuICAgICAgICB3aGlsZSAoICggcmVzdWx0ID0gcGF0dGVybkZhY2UuZXhlYyggZGF0YSApICkgIT09IG51bGwgKSB7XG5cbiAgICAgICAgICAgIHRleHQgPSByZXN1bHRbIDAgXTtcbiAgICAgICAgICAgIHBhdHRlcm5Ob3JtYWwgPSAvbm9ybWFsW1xcc10rKFtcXC0rXT9bMC05XStcXC4/WzAtOV0qKFtlRV1bXFwtK10/WzAtOV0rKT8pK1tcXHNdKyhbXFwtK10/WzAtOV0qXFwuP1swLTldKyhbZUVdW1xcLStdP1swLTldKyk/KStbXFxzXSsoW1xcLStdP1swLTldKlxcLj9bMC05XSsoW2VFXVtcXC0rXT9bMC05XSspPykrL2c7XG5cbiAgICAgICAgICAgIHdoaWxlICggKCByZXN1bHQgPSBwYXR0ZXJuTm9ybWFsLmV4ZWMoIHRleHQgKSApICE9PSBudWxsICkge1xuXG4gICAgICAgICAgICAgICAgbm9ybWFsLnggPSBwYXJzZUZsb2F0KCByZXN1bHRbIDEgXSApO1xuICAgICAgICAgICAgICAgIG5vcm1hbC55ID0gcGFyc2VGbG9hdCggcmVzdWx0WyAzIF0gKTtcbiAgICAgICAgICAgICAgICBub3JtYWwueiA9IHBhcnNlRmxvYXQoIHJlc3VsdFsgNSBdICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGF0dGVyblZlcnRleCA9IC92ZXJ0ZXhbXFxzXSsoW1xcLStdP1swLTldK1xcLj9bMC05XSooW2VFXVtcXC0rXT9bMC05XSspPykrW1xcc10rKFtcXC0rXT9bMC05XSpcXC4/WzAtOV0rKFtlRV1bXFwtK10/WzAtOV0rKT8pK1tcXHNdKyhbXFwtK10/WzAtOV0qXFwuP1swLTldKyhbZUVdW1xcLStdP1swLTldKyk/KSsvZztcblxuICAgICAgICAgICAgd2hpbGUgKCAoIHJlc3VsdCA9IHBhdHRlcm5WZXJ0ZXguZXhlYyggdGV4dCApICkgIT09IG51bGwgKSB7XG5cbiAgICAgICAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKCBwYXJzZUZsb2F0KCByZXN1bHRbIDEgXSApLCBwYXJzZUZsb2F0KCByZXN1bHRbIDMgXSApLCBwYXJzZUZsb2F0KCByZXN1bHRbIDUgXSApICk7XG4gICAgICAgICAgICAgICAgbm9ybWFscy5wdXNoKCBub3JtYWwueCwgbm9ybWFsLnksIG5vcm1hbC56ICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCAncG9zaXRpb24nLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKCBuZXcgRmxvYXQzMkFycmF5KCB2ZXJ0aWNlcyApLCAzICkgKTtcbiAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCAnbm9ybWFsJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggbmV3IEZsb2F0MzJBcnJheSggbm9ybWFscyApLCAzICkgKTtcblxuICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XG5cbiAgICB9LFxuXG4gICAgZW5zdXJlU3RyaW5nOiBmdW5jdGlvbiAoIGJ1ZiApIHtcblxuICAgICAgICBpZiAoIHR5cGVvZiBidWYgIT09IFwic3RyaW5nXCIgKSB7XG5cbiAgICAgICAgICAgIHZhciBhcnJheV9idWZmZXIgPSBuZXcgVWludDhBcnJheSggYnVmICk7XG4gICAgICAgICAgICB2YXIgc3RyQXJyYXkgPSBbXTtcbiAgICAgICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8IGJ1Zi5ieXRlTGVuZ3RoOyBpICsrICkge1xuXG4gICAgICAgICAgICAgICAgc3RyQXJyYXkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKCBhcnJheV9idWZmZXJbIGkgXSApKTsgLy8gaW1wbGljaXRseSBhc3N1bWVzIGxpdHRsZS1lbmRpYW5cblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0ckFycmF5LmpvaW4oJycpO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHJldHVybiBidWY7XG5cbiAgICAgICAgfVxuXG4gICAgfSxcblxuICAgIGVuc3VyZUJpbmFyeTogZnVuY3Rpb24gKCBidWYgKSB7XG5cbiAgICAgICAgaWYgKCB0eXBlb2YgYnVmID09PSBcInN0cmluZ1wiICkge1xuXG4gICAgICAgICAgICB2YXIgYXJyYXlfYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoIGJ1Zi5sZW5ndGggKTtcbiAgICAgICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8IGJ1Zi5sZW5ndGg7IGkgKysgKSB7XG5cbiAgICAgICAgICAgICAgICBhcnJheV9idWZmZXJbIGkgXSA9IGJ1Zi5jaGFyQ29kZUF0KCBpICkgJiAweGZmOyAvLyBpbXBsaWNpdGx5IGFzc3VtZXMgbGl0dGxlLWVuZGlhblxuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXJyYXlfYnVmZmVyLmJ1ZmZlciB8fCBhcnJheV9idWZmZXI7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgcmV0dXJuIGJ1ZjtcblxuICAgICAgICB9XG5cbiAgICB9XG5cbn07XG5cbmV4cG9ydCB7IFNUTExvYWRlciB9XG4iLCIvKipcbiAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vXG4gKiBAYXV0aG9yIG1yLmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS9cbiAqL1xuXG52YXIgRGV0ZWN0b3IgPSB7XG5cblx0Y2FudmFzOiAhISB3aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuXHR3ZWJnbDogKCBmdW5jdGlvbiAoKSB7XG5cblx0XHR0cnkge1xuXG5cdFx0XHR2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2NhbnZhcycgKTsgcmV0dXJuICEhICggd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dCAmJiAoIGNhbnZhcy5nZXRDb250ZXh0KCAnd2ViZ2wnICkgfHwgY2FudmFzLmdldENvbnRleHQoICdleHBlcmltZW50YWwtd2ViZ2wnICkgKSApO1xuXG5cdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdH1cblxuXHR9ICkoKSxcblx0d29ya2VyczogISEgd2luZG93Lldvcmtlcixcblx0ZmlsZWFwaTogd2luZG93LkZpbGUgJiYgd2luZG93LkZpbGVSZWFkZXIgJiYgd2luZG93LkZpbGVMaXN0ICYmIHdpbmRvdy5CbG9iLFxuXG5cdGdldFdlYkdMRXJyb3JNZXNzYWdlOiBmdW5jdGlvbiAoKSB7XG5cblx0XHR2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7XG5cdFx0ZWxlbWVudC5pZCA9ICd3ZWJnbC1lcnJvci1tZXNzYWdlJztcblx0XHRlbGVtZW50LnN0eWxlLmZvbnRGYW1pbHkgPSAnbW9ub3NwYWNlJztcblx0XHRlbGVtZW50LnN0eWxlLmZvbnRTaXplID0gJzEzcHgnO1xuXHRcdGVsZW1lbnQuc3R5bGUuZm9udFdlaWdodCA9ICdub3JtYWwnO1xuXHRcdGVsZW1lbnQuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG5cdFx0ZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gJyNmZmYnO1xuXHRcdGVsZW1lbnQuc3R5bGUuY29sb3IgPSAnIzAwMCc7XG5cdFx0ZWxlbWVudC5zdHlsZS5wYWRkaW5nID0gJzEuNWVtJztcblx0XHRlbGVtZW50LnN0eWxlLndpZHRoID0gJzQwMHB4Jztcblx0XHRlbGVtZW50LnN0eWxlLm1hcmdpbiA9ICc1ZW0gYXV0byAwJztcblxuXHRcdGlmICggISB0aGlzLndlYmdsICkge1xuXG5cdFx0XHRlbGVtZW50LmlubmVySFRNTCA9IHdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQgPyBbXG5cdFx0XHRcdCdZb3VyIGdyYXBoaWNzIGNhcmQgZG9lcyBub3Qgc2VlbSB0byBzdXBwb3J0IDxhIGhyZWY9XCJodHRwOi8va2hyb25vcy5vcmcvd2ViZ2wvd2lraS9HZXR0aW5nX2FfV2ViR0xfSW1wbGVtZW50YXRpb25cIiBzdHlsZT1cImNvbG9yOiMwMDBcIj5XZWJHTDwvYT4uPGJyIC8+Jyxcblx0XHRcdFx0J0ZpbmQgb3V0IGhvdyB0byBnZXQgaXQgPGEgaHJlZj1cImh0dHA6Ly9nZXQud2ViZ2wub3JnL1wiIHN0eWxlPVwiY29sb3I6IzAwMFwiPmhlcmU8L2E+Lidcblx0XHRcdF0uam9pbiggJ1xcbicgKSA6IFtcblx0XHRcdFx0J1lvdXIgYnJvd3NlciBkb2VzIG5vdCBzZWVtIHRvIHN1cHBvcnQgPGEgaHJlZj1cImh0dHA6Ly9raHJvbm9zLm9yZy93ZWJnbC93aWtpL0dldHRpbmdfYV9XZWJHTF9JbXBsZW1lbnRhdGlvblwiIHN0eWxlPVwiY29sb3I6IzAwMFwiPldlYkdMPC9hPi48YnIvPicsXG5cdFx0XHRcdCdGaW5kIG91dCBob3cgdG8gZ2V0IGl0IDxhIGhyZWY9XCJodHRwOi8vZ2V0LndlYmdsLm9yZy9cIiBzdHlsZT1cImNvbG9yOiMwMDBcIj5oZXJlPC9hPi4nXG5cdFx0XHRdLmpvaW4oICdcXG4nICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gZWxlbWVudDtcblxuXHR9LFxuXG5cdGFkZEdldFdlYkdMTWVzc2FnZTogZnVuY3Rpb24gKCBwYXJhbWV0ZXJzICkge1xuXG5cdFx0dmFyIHBhcmVudCwgaWQsIGVsZW1lbnQ7XG5cblx0XHRwYXJhbWV0ZXJzID0gcGFyYW1ldGVycyB8fCB7fTtcblxuXHRcdHBhcmVudCA9IHBhcmFtZXRlcnMucGFyZW50ICE9PSB1bmRlZmluZWQgPyBwYXJhbWV0ZXJzLnBhcmVudCA6IGRvY3VtZW50LmJvZHk7XG5cdFx0aWQgPSBwYXJhbWV0ZXJzLmlkICE9PSB1bmRlZmluZWQgPyBwYXJhbWV0ZXJzLmlkIDogJ29sZGllJztcblxuXHRcdGVsZW1lbnQgPSBEZXRlY3Rvci5nZXRXZWJHTEVycm9yTWVzc2FnZSgpO1xuXHRcdGVsZW1lbnQuaWQgPSBpZDtcblxuXHRcdHBhcmVudC5hcHBlbmRDaGlsZCggZWxlbWVudCApO1xuXG5cdH1cblxufTtcblxuZXhwb3J0IHsgRGV0ZWN0b3IgfVxuIiwiLyoqXG4gKiBAYXV0aG9yIGtlbm5ldGhqaWFuZyAvIGh0dHBzOi8vZ2l0aHViLmNvbS9rZW5uZXRoamlhbmdcbiAqXG4gKlxuICogRGVzY3JpcHRpb246IFNlcGVyYXRvciBHZW9tZXRyeSB3aXRoIHVuY29ubmVjdGVkIGlzbGFuZHMgaW50byB0aGVpciBvd24gR2VvbWV0cmllc1xuICpcbiAqL1xuXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSdcblxuZnVuY3Rpb24gVmVydGV4Tm9kZSggcG9zSW5kZXggKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYubmVpZ2hib3JzID0gbmV3IFNldCgpO1xuICAgIHNlbGYuaXNsYW5kID0gdW5kZWZpbmVkO1xuXG4gICAgc2VsZi5hZGROZWlnaGJvciA9IGZ1bmN0aW9uKCB2ZXJ0ZXhOb2RlICkge1xuICAgICAgICBpZiAodmVydGV4Tm9kZSA9PT0gc2VsZikge1xuICAgICAgICAgICAgcmV0dXJuIDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYubmVpZ2hib3JzLmFkZCggdmVydGV4Tm9kZSApO1xuICAgICAgICB2ZXJ0ZXhOb2RlLm5laWdoYm9ycy5hZGQoIHNlbGYgKTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBWZXJ0ZXhHcmFwaCggcG9zaXRpb25zLCBwcmVjaXNpb25Qb2ludHMgKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYucG9zaXRpb25zID0gcG9zaXRpb25zO1xuICAgIHNlbGYucHJlY2lzaW9uUG9pbnRzID0gcHJlY2lzaW9uUG9pbnRzO1xuXG4gICAgc2VsZi52ZXJ0aWNlc01hcCA9IG5ldyBNYXAoKTsgLy8gbWFwIG9mIHsgdmVydGV4S2V5IC0+IHZlcnRleE5vZGUgfVxuXG4gICAgc2VsZi52ZXJ0ZXhLZXlGb3JQb3NpdGlvbiA9IGZ1bmN0aW9uKHBvc0luZGV4KSB7XG5cbiAgICAgICAgLy8gMCAtPiB4OyAxIC0+IHk7IDIgLT4gelxuICAgICAgICBsZXQgW3gsIHksIHpdID0gWyBzZWxmLnBvc2l0aW9uc1twb3NJbmRleF0sIHNlbGYucG9zaXRpb25zW3Bvc0luZGV4KzFdLCBzZWxmLnBvc2l0aW9uc1twb3NJbmRleCsyXSBdO1xuXG4gICAgICAgIHZhciBwcmVjaXNpb25Qb2ludHMgPSA0OyAvLyBudW1iZXIgb2YgZGVjaW1hbCBwb2ludHMsIGUuZy4gNCBmb3IgZXBzaWxvbiBvZiAwLjAwMDFcbiAgICAgICAgdmFyIHByZWNpc2lvbiA9IE1hdGgucG93KCAxMCwgcHJlY2lzaW9uUG9pbnRzICk7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKCB4ICogcHJlY2lzaW9uICkgKyAnXycgKyBNYXRoLnJvdW5kKCB5ICogcHJlY2lzaW9uICkgKyAnXycgKyBNYXRoLnJvdW5kKCB6ICogcHJlY2lzaW9uICk7XG5cbiAgICB9O1xuXG4gICAgc2VsZi52ZXJ0ZXhGb3JQb3NpdGlvbiA9IGZ1bmN0aW9uKHBvc0luZGV4KSB7XG4gICAgICAgIHJldHVybiBzZWxmLnZlcnRpY2VzTWFwLmdldCggc2VsZi52ZXJ0ZXhLZXlGb3JQb3NpdGlvbihwb3NJbmRleCkgKTtcbiAgICB9O1xuXG4gICAgZm9yICh2YXIgZmFjZUluZGV4ID0gMDsgZmFjZUluZGV4IDwgcG9zaXRpb25zLmxlbmd0aDsgZmFjZUluZGV4ICs9IDkpIHsgLy8gYSBmYWNlIGlzIDkgcG9zaXRpb25zIC0gMyB2ZXJ0ZXggeCAzIHBvc2l0aW9uc1xuXG4gICAgICAgIHZhciB2ZXJ0aWNlc09mQ3VycmVudEZhY2UgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCAzOyB2KysgKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gc2VsZi52ZXJ0ZXhLZXlGb3JQb3NpdGlvbiggZmFjZUluZGV4ICsgdiozICk7XG5cbiAgICAgICAgICAgIGlmICggIXNlbGYudmVydGljZXNNYXAuaGFzKGtleSkgKSB7XG4gICAgICAgICAgICAgICAgc2VsZi52ZXJ0aWNlc01hcC5zZXQoa2V5LCBuZXcgVmVydGV4Tm9kZSgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmVydGljZXNPZkN1cnJlbnRGYWNlLnB1c2goIHNlbGYudmVydGljZXNNYXAuZ2V0KGtleSkgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNpbmNlIHRoZXNlIDMgdmVydGljZXMgYXJlIG9uIHRoZSBzYW1lIGZhY2UsIHRoZXkgYXJlIG5laWdoYm9ycyBvbiB0aGUgZ3JhcGhcbiAgICAgICAgdmVydGljZXNPZkN1cnJlbnRGYWNlWzBdLmFkZE5laWdoYm9yKHZlcnRpY2VzT2ZDdXJyZW50RmFjZVsxXSk7XG4gICAgICAgIHZlcnRpY2VzT2ZDdXJyZW50RmFjZVswXS5hZGROZWlnaGJvcih2ZXJ0aWNlc09mQ3VycmVudEZhY2VbMl0pO1xuICAgIH1cblxuICAgIHNlbGYuaXNsYW5kcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYWxsSXNsYW5kcyA9IFtdO1xuXG4gICAgICAgIHNlbGYudmVydGljZXNNYXAuZm9yRWFjaCggZnVuY3Rpb24oIHZlcnRleE5vZGUgKSB7XG5cbiAgICAgICAgICAgIGlmICh2ZXJ0ZXhOb2RlLmlzbGFuZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBuZXdJc2xhbmQgPSB7fTtcbiAgICAgICAgICAgIHNlbGYuZmxvb2RGaWxsKHZlcnRleE5vZGUsIG5ld0lzbGFuZClcbiAgICAgICAgICAgIGFsbElzbGFuZHMucHVzaChuZXdJc2xhbmQpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gYWxsSXNsYW5kcztcbiAgICB9O1xuXG4gICAgc2VsZi5mbG9vZEZpbGwgPSBmdW5jdGlvbihzdGFydCwgaXNsYW5kKSB7XG5cbiAgICAgICAgLy8gQnJlYWR0aC1maXJzdCB0cmF2ZXJzYWxcbiAgICAgICAgdmFyIHF1ZXVlID0gW107XG5cbiAgICAgICAgLy8gTWFyayB0aGUgc291cmNlIG5vZGUgYXMgdmlzaXRlZCBhbmQgZW5xdWV1ZSBpdFxuICAgICAgICBxdWV1ZS51bnNoaWZ0KHN0YXJ0KTtcbiAgICAgICAgc3RhcnQuaXNsYW5kID0gaXNsYW5kO1xuXG4gICAgICAgIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgIC8vIERlcXVldWUgYSB2ZXJ0ZXggZnJvbSBxdWV1ZSBhbmQgcHJpbnQgaXRcbiAgICAgICAgICAgIHZhciB2ID0gcXVldWUucG9wKDApO1xuXG4gICAgICAgICAgICAvLyBHZXQgYWxsIGFkamFjZW50IHZlcnRpY2VzIG9mIHRoZSBkZXF1ZXVlZFxuICAgICAgICAgICAgLy8gdmVydGV4IHMuIElmIGEgYWRqYWNlbnQgaGFzIG5vdCBiZWVuIHZpc2l0ZWQsXG4gICAgICAgICAgICAvLyB0aGVuIG1hcmsgaXQgdmlzaXRlZCBhbmQgZW5xdWV1ZSBpdFxuICAgICAgICAgICAgdi5uZWlnaGJvcnMuZm9yRWFjaCggZnVuY3Rpb24oIG5leHRWICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCEgbmV4dFYuaXNsYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLnVuc2hpZnQobmV4dFYpO1xuICAgICAgICAgICAgICAgICAgICBuZXh0Vi5pc2xhbmQgPSBpc2xhbmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG59XG5cblxuLyoqXG4gKiBwYXJhbWV0ZXJzOlxuICogICAtIHByZWNpc2lvblBvaW50czogbnVtYmVyIG9mIGRlY2ltYWwgcG9pbnRzLCBlLmcuIDQgZm9yIGVwc2lsb24gb2YgMC4wMDAxLiAyIHZlcnRpY2VzIGFyZSBjb25zaWRlcmVkIFwidGhlIHNhbWVcIiB3aGVuIHRoZXkgYXJlIHdpdGggdGhlIGRpc3RhbmNlIGRlZmluZWQgYnkgcHJlY2lzaW9uUG9pbnRzXG4gKi9cblxuZnVuY3Rpb24gSXNsYW5kU2VwYXJhdG9yKCBwcmVjaXNpb25Qb2ludHM9NCApIHtcblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuXHRzZWxmLnNlcGFyYXRlID0gZnVuY3Rpb24gKCBnZW9tZXRyeSApIHtcblxuICAgICAgICB2YXIgb3JpZ2luYWxQb3NpdGlvbnMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLmFycmF5O1xuICAgICAgICB2YXIgb3JpZ2luYWxOb3JtYWxzID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5ub3JtYWwgIT09IHVuZGVmaW5lZCA/IGdlb21ldHJ5LmF0dHJpYnV0ZXMubm9ybWFsLmFycmF5IDogdW5kZWZpbmVkO1xuICAgICAgICB2YXIgb3JpZ2luYWxDb2xvcnMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLmNvbG9yICE9PSB1bmRlZmluZWQgPyBnZW9tZXRyeS5hdHRyaWJ1dGVzLmNvbG9yLmFycmF5IDogdW5kZWZpbmVkO1xuXG4gICAgICAgIHZhciBncmFwaCA9IG5ldyBWZXJ0ZXhHcmFwaChvcmlnaW5hbFBvc2l0aW9ucywgcHJlY2lzaW9uUG9pbnRzKTtcbiAgICAgICAgdmFyIGlzbGFuZHMgPSBncmFwaC5pc2xhbmRzKCk7XG4gICAgICAgIHZhciB2ZXJ0aWNlc01hcCA9IGdyYXBoLnZlcnRpY2VzTWFwO1xuXG4gICAgICAgIGlzbGFuZHMuZm9yRWFjaCggZnVuY3Rpb24oIGlzbGFuZCApIHtcbiAgICAgICAgICAgIGlzbGFuZC5mYWNlSW5kaWNlcyA9IFtdOyAgLy8gTGlzdCBvZiBwb3NpdGlvbiBpbmRpY2VzIHRoZSBmYWNlcyAodGhlIHNhbWUgYXMgcG9zaXRpb24gaW5kZXggb2YgMXN0IHZlcnRleCBvZiB0aGUgZmFjZSkgb24gdGhpcyBpc2xhbmRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yICh2YXIgZmFjZUluZGV4ID0gMDsgZmFjZUluZGV4IDwgb3JpZ2luYWxQb3NpdGlvbnMubGVuZ3RoOyBmYWNlSW5kZXggKz0gOSkgeyAvLyBhIGZhY2UgaXMgOSBwb3NpdGlvbnMgLSAzIHZlcnRleCB4IDMgcG9zaXRpb25zXG4gICAgICAgICAgICB2YXIgaXNsYW5kT2ZDdXJyZW50RmFjZSA9IGdyYXBoLnZlcnRleEZvclBvc2l0aW9uKGZhY2VJbmRleCkuaXNsYW5kO1xuICAgICAgICAgICAgaXNsYW5kT2ZDdXJyZW50RmFjZS5mYWNlSW5kaWNlcy5wdXNoKGZhY2VJbmRleCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZ2VvbWV0cmllcyA9IGlzbGFuZHMubWFwKCBmdW5jdGlvbiggaXNsYW5kICkge1xuXG4gICAgICAgICAgICAvLyBBZG9wdGVkIGZyb20gU1RMTG9hZGVyLmpzXG4gICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcblxuICAgICAgICAgICAgdmFyIHZlcnRpY2VzID0gW107XG4gICAgICAgICAgICB2YXIgbm9ybWFscyA9IFtdO1xuICAgICAgICAgICAgdmFyIGNvbG9ycyA9IFtdO1xuXG4gICAgICAgICAgICBpc2xhbmQuZmFjZUluZGljZXMuZm9yRWFjaCggZnVuY3Rpb24oIGZhY2VJbmRleCApIHtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgOTsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXMucHVzaCggb3JpZ2luYWxQb3NpdGlvbnNbZmFjZUluZGV4ICsgaV0gKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxOb3JtYWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxzLnB1c2goIG9yaWdpbmFsTm9ybWFsc1tmYWNlSW5kZXggKyBpXSApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsQ29sb3JzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcnMucHVzaCggb3JpZ2luYWxDb2xvcnNbZmFjZUluZGV4ICsgaV0gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCAncG9zaXRpb24nLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKCBuZXcgRmxvYXQzMkFycmF5KCB2ZXJ0aWNlcyApLCAzICkgKTtcblxuICAgICAgICAgICAgaWYgKG9yaWdpbmFsTm9ybWFscykge1xuICAgICAgICAgICAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ25vcm1hbCcsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoIG5ldyBGbG9hdDMyQXJyYXkoIG5vcm1hbHMgKSwgMyApICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcmlnaW5hbENvbG9ycykge1xuICAgICAgICAgICAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ2NvbG9yJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggbmV3IEZsb2F0MzJBcnJheSggY29sb3JzICksIDMgKSApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBnZW9tZXRyaWVzO1xuICAgIH07XG5cbn1cblxuZXhwb3J0IHsgSXNsYW5kU2VwYXJhdG9yIH1cbiIsIi8qKlxuICogQGF1dGhvciBrb3ZhY3N2IC8gaHR0cDovL2tvdmFjc3YuaHUvXG4gKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tL1xuICogQGF1dGhvciBtdWRjdWJlIC8gaHR0cDovL211ZGN1LmJlL1xuICovXG5cbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJ1xuXG5mdW5jdGlvbiBTVExCaW5hcnlFeHBvcnRlcigpIHt9XG5cblNUTEJpbmFyeUV4cG9ydGVyLnByb3RvdHlwZSA9IHtcblxuXHRjb25zdHJ1Y3RvcjogU1RMQmluYXJ5RXhwb3J0ZXIsXG5cblx0cGFyc2U6ICggZnVuY3Rpb24gKCkge1xuXG5cdFx0dmFyIHZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cdFx0dmFyIG5vcm1hbE1hdHJpeFdvcmxkID0gbmV3IFRIUkVFLk1hdHJpeDMoKTtcblxuXHRcdHJldHVybiBmdW5jdGlvbiBwYXJzZSggc2NlbmUgKSB7XG5cblx0XHRcdC8vIFdlIGNvbGxlY3Qgb2JqZWN0cyBmaXJzdCwgYXMgd2UgbWF5IG5lZWQgdG8gY29udmVydCBmcm9tIEJ1ZmZlckdlb21ldHJ5IHRvIEdlb21ldHJ5XG5cdFx0XHR2YXIgb2JqZWN0cyA9IFtdO1xuXHRcdFx0dmFyIHRyaWFuZ2xlcyA9IDA7XG5cdFx0XHRzY2VuZS50cmF2ZXJzZSggZnVuY3Rpb24gKCBvYmplY3QgKSB7XG5cblx0XHRcdFx0aWYgKCAhICggb2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuTWVzaCApICkgcmV0dXJuO1xuXG5cdFx0XHRcdHZhciBnZW9tZXRyeSA9IG9iamVjdC5nZW9tZXRyeTtcblx0XHRcdFx0aWYgKCBnZW9tZXRyeSBpbnN0YW5jZW9mIFRIUkVFLkJ1ZmZlckdlb21ldHJ5ICkge1xuXG5cdFx0XHRcdFx0Z2VvbWV0cnkgPSBuZXcgVEhSRUUuR2VvbWV0cnkoKS5mcm9tQnVmZmVyR2VvbWV0cnkoIGdlb21ldHJ5ICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggISAoIGdlb21ldHJ5IGluc3RhbmNlb2YgVEhSRUUuR2VvbWV0cnkgKSApIHJldHVybjtcblx0XHRcdFx0dHJpYW5nbGVzICs9IGdlb21ldHJ5LmZhY2VzLmxlbmd0aDtcblxuXHRcdFx0XHRvYmplY3RzLnB1c2goIHtcblxuXHRcdFx0XHRcdGdlb21ldHJ5OiBnZW9tZXRyeSxcblx0XHRcdFx0XHRtYXRyaXg6IG9iamVjdC5tYXRyaXhXb3JsZFxuXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0XHR2YXIgb2Zmc2V0ID0gODA7IC8vIHNraXAgaGVhZGVyXG5cdFx0XHR2YXIgYnVmZmVyTGVuZ3RoID0gdHJpYW5nbGVzICogMiArIHRyaWFuZ2xlcyAqIDMgKiA0ICogNCArIDgwICsgNDtcblx0XHRcdHZhciBhcnJheUJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlciggYnVmZmVyTGVuZ3RoICk7XG5cdFx0XHR2YXIgb3V0cHV0ID0gbmV3IERhdGFWaWV3KCBhcnJheUJ1ZmZlciApO1xuXHRcdFx0b3V0cHV0LnNldFVpbnQzMiggb2Zmc2V0LCB0cmlhbmdsZXMsIHRydWUgKTsgb2Zmc2V0ICs9IDQ7XG5cblx0XHRcdC8vIFRyYXZlcnNpbmcgb3VyIGNvbGxlY3RlZCBvYmplY3RzXG5cdFx0XHRvYmplY3RzLmZvckVhY2goIGZ1bmN0aW9uICggb2JqZWN0ICkge1xuXG5cdFx0XHRcdHZhciB2ZXJ0aWNlcyA9IG9iamVjdC5nZW9tZXRyeS52ZXJ0aWNlcztcblx0XHRcdFx0dmFyIGZhY2VzID0gb2JqZWN0Lmdlb21ldHJ5LmZhY2VzO1xuXG5cdFx0XHRcdG5vcm1hbE1hdHJpeFdvcmxkLmdldE5vcm1hbE1hdHJpeCggb2JqZWN0Lm1hdHJpeCApO1xuXG5cdFx0XHRcdGZvciAoIHZhciBpID0gMCwgbCA9IGZhY2VzLmxlbmd0aDsgaSA8IGw7IGkgKysgKSB7XG5cblx0XHRcdFx0XHR2YXIgZmFjZSA9IGZhY2VzWyBpIF07XG5cblx0XHRcdFx0XHR2ZWN0b3IuY29weSggZmFjZS5ub3JtYWwgKS5hcHBseU1hdHJpeDMoIG5vcm1hbE1hdHJpeFdvcmxkICkubm9ybWFsaXplKCk7XG5cblx0XHRcdFx0XHRvdXRwdXQuc2V0RmxvYXQzMiggb2Zmc2V0LCB2ZWN0b3IueCwgdHJ1ZSApOyBvZmZzZXQgKz0gNDsgLy8gbm9ybWFsXG5cdFx0XHRcdFx0b3V0cHV0LnNldEZsb2F0MzIoIG9mZnNldCwgdmVjdG9yLnksIHRydWUgKTsgb2Zmc2V0ICs9IDQ7XG5cdFx0XHRcdFx0b3V0cHV0LnNldEZsb2F0MzIoIG9mZnNldCwgdmVjdG9yLnosIHRydWUgKTsgb2Zmc2V0ICs9IDQ7XG5cblx0XHRcdFx0XHR2YXIgaW5kaWNlcyA9IFsgZmFjZS5hLCBmYWNlLmIsIGZhY2UuYyBdO1xuXG5cdFx0XHRcdFx0Zm9yICggdmFyIGogPSAwOyBqIDwgMzsgaiArKyApIHtcblxuXHRcdFx0XHRcdFx0dmVjdG9yLmNvcHkoIHZlcnRpY2VzWyBpbmRpY2VzWyBqIF0gXSApLmFwcGx5TWF0cml4NCggb2JqZWN0Lm1hdHJpeCApO1xuXG5cdFx0XHRcdFx0XHRvdXRwdXQuc2V0RmxvYXQzMiggb2Zmc2V0LCB2ZWN0b3IueCwgdHJ1ZSApOyBvZmZzZXQgKz0gNDsgLy8gdmVydGljZXNcblx0XHRcdFx0XHRcdG91dHB1dC5zZXRGbG9hdDMyKCBvZmZzZXQsIHZlY3Rvci55LCB0cnVlICk7IG9mZnNldCArPSA0O1xuXHRcdFx0XHRcdFx0b3V0cHV0LnNldEZsb2F0MzIoIG9mZnNldCwgdmVjdG9yLnosIHRydWUgKTsgb2Zmc2V0ICs9IDQ7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvdXRwdXQuc2V0VWludDE2KCBvZmZzZXQsIDAsIHRydWUgKTsgb2Zmc2V0ICs9IDI7IC8vIGF0dHJpYnV0ZSBieXRlIGNvdW50XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cblx0XHR9O1xuXG5cdH0oKSApXG5cbn07XG5cbmV4cG9ydCB7IFNUTEJpbmFyeUV4cG9ydGVyIH1cbiJdLCJuYW1lcyI6WyJEZWZhdWx0SGFuZGxlcyIsIkdpem1vTWF0ZXJpYWwiLCJwYXJhbWV0ZXJzIiwiY2FsbCIsImRlcHRoVGVzdCIsImRlcHRoV3JpdGUiLCJzaWRlIiwiVEhSRUUiLCJ0cmFuc3BhcmVudCIsInNldFZhbHVlcyIsIm9sZENvbG9yIiwiY29sb3IiLCJjbG9uZSIsIm9sZE9wYWNpdHkiLCJvcGFjaXR5IiwiaGlnaGxpZ2h0IiwiaGlnaGxpZ2h0ZWQiLCJzZXRSR0IiLCJjb3B5IiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJHaXptb0xpbmVNYXRlcmlhbCIsImxpbmV3aWR0aCIsImludmlzaWJsZU1hdGVyaWFsIiwidmlzaWJsZSIsImdpem1vRnJvbU1hcCIsImdpem1vTWFwIiwiZ2l6bW8iLCJuYW1lIiwiaSIsImxlbmd0aCIsIm9iamVjdCIsInBvc2l0aW9uIiwicm90YXRpb24iLCJzZXQiLCJhZGQiLCJ0cmFuc2xhdGVIYW5kbGVzIiwiYXJyb3dHZW9tZXRyeSIsIm1lc2giLCJ5IiwidXBkYXRlTWF0cml4IiwibWVyZ2UiLCJnZW9tZXRyeSIsIm1hdHJpeCIsImxpbmVYR2VvbWV0cnkiLCJhZGRBdHRyaWJ1dGUiLCJsaW5lWUdlb21ldHJ5IiwibGluZVpHZW9tZXRyeSIsIk1hdGgiLCJQSSIsInJvdGF0ZUhhbmRsZXMiLCJDaXJjbGVHZW9tZXRyeSIsInJhZGl1cyIsImZhY2luZyIsImFyYyIsInZlcnRpY2VzIiwicHVzaCIsImNvcyIsInNpbiIsInNjYWxlSGFuZGxlcyIsIlRyYW5zZm9ybUdpem1vIiwiaGFuZGxlcyIsImluaXQiLCJwbGFuZXMiLCJwbGFuZUdlb21ldHJ5IiwicGxhbmVNYXRlcmlhbCIsImFjdGl2ZVBsYW5lIiwidHJhdmVyc2UiLCJjaGlsZCIsInRlbXBHZW9tZXRyeSIsImFwcGx5TWF0cml4Iiwic2NhbGUiLCJzZXRIYW5kbGVzIiwicmVtb3ZlIiwiYXhpcyIsIm1hdGVyaWFsIiwidXBkYXRlIiwiZXllIiwidmVjMSIsInZlYzIiLCJsb29rQXRNYXRyaXgiLCJzZWFyY2giLCJxdWF0ZXJuaW9uIiwic2V0RnJvbVJvdGF0aW9uTWF0cml4IiwibG9va0F0Iiwic2V0RnJvbUV1bGVyIiwiVHJhbnNmb3JtR2l6bW9UcmFuc2xhdGUiLCJzZXRBY3RpdmVQbGFuZSIsInRlbXBNYXRyaXgiLCJhcHBseU1hdHJpeDQiLCJnZXRJbnZlcnNlIiwiZXh0cmFjdFJvdGF0aW9uIiwibWF0cml4V29ybGQiLCJhYnMiLCJ6IiwieCIsIlRyYW5zZm9ybUdpem1vUm90YXRlIiwiZXllMiIsImFwcGx5IiwiYXJndW1lbnRzIiwiZ3JvdXAiLCJ3b3JsZFJvdGF0aW9uIiwidGVtcFF1YXRlcm5pb24iLCJ1bml0WCIsInVuaXRZIiwidW5pdFoiLCJxdWF0ZXJuaW9uWCIsInF1YXRlcm5pb25ZIiwicXVhdGVybmlvbloiLCJtYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbiIsInNldEZyb21BeGlzQW5nbGUiLCJhdGFuMiIsIm11bHRpcGx5UXVhdGVybmlvbnMiLCJUcmFuc2Zvcm1HaXptb1NjYWxlIiwiVHJhbnNmb3JtQ29udHJvbHMiLCJjYW1lcmEiLCJkb21FbGVtZW50IiwidW5kZWZpbmVkIiwiZG9jdW1lbnQiLCJkZWZhdWx0SGFuZGxlcyIsInRyYW5zbGF0aW9uU25hcCIsInJvdGF0aW9uU25hcCIsInNwYWNlIiwic2l6ZSIsImRyYWdPYmplY3QiLCJzY29wZSIsIl9tb2RlIiwiX2RyYWdnaW5nIiwiX3BsYW5lIiwiX2dpem1vIiwidHlwZSIsImdpem1vT2JqIiwiY2hhbmdlRXZlbnQiLCJtb3VzZURvd25FdmVudCIsIm1vdXNlVXBFdmVudCIsIm1vZGUiLCJvYmplY3RDaGFuZ2VFdmVudCIsInJheSIsImxpbmVQcmVjaXNpb24iLCJwb2ludGVyVmVjdG9yIiwicG9pbnQiLCJvZmZzZXQiLCJvZmZzZXRSb3RhdGlvbiIsInRlbXBWZWN0b3IiLCJxdWF0ZXJuaW9uWFlaIiwicXVhdGVybmlvbkUiLCJvbGRQb3NpdGlvbiIsIm9sZFNjYWxlIiwib2xkUm90YXRpb25NYXRyaXgiLCJwYXJlbnRSb3RhdGlvbk1hdHJpeCIsInBhcmVudFNjYWxlIiwid29ybGRQb3NpdGlvbiIsIndvcmxkUm90YXRpb25NYXRyaXgiLCJjYW1Qb3NpdGlvbiIsImNhbVJvdGF0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uUG9pbnRlckRvd24iLCJvblBvaW50ZXJIb3ZlciIsIm9uUG9pbnRlck1vdmUiLCJvblBvaW50ZXJVcCIsImRpc3Bvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYXR0YWNoIiwiZGV0YWNoIiwiZ2V0TW9kZSIsInNldE1vZGUiLCJkaXNwYXRjaEV2ZW50Iiwic2V0VHJhbnNsYXRpb25TbmFwIiwic2V0Um90YXRpb25TbmFwIiwic2V0U2l6ZSIsInNldFNwYWNlIiwidXBkYXRlTWF0cml4V29ybGQiLCJzZXRGcm9tTWF0cml4UG9zaXRpb24iLCJkaXN0YW5jZVRvIiwic3ViIiwibm9ybWFsaXplIiwiZXZlbnQiLCJidXR0b24iLCJwb2ludGVyIiwiY2hhbmdlZFRvdWNoZXMiLCJpbnRlcnNlY3QiLCJpbnRlcnNlY3RPYmplY3RzIiwiY2hpbGRyZW4iLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInBsYW5lSW50ZXJzZWN0IiwicGFyZW50Iiwic2V0RnJvbU1hdHJpeFNjYWxlIiwibXVsdGlwbHkiLCJyb3VuZCIsIm1heCIsImNyb3NzIiwiYW5nbGVUbyIsIndpbmRvdyIsIlRvdWNoRXZlbnQiLCJvYmplY3RzIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNsaWVudFgiLCJsZWZ0Iiwid2lkdGgiLCJjbGllbnRZIiwidG9wIiwiaGVpZ2h0Iiwic2V0RnJvbUNhbWVyYSIsImludGVyc2VjdGlvbnMiLCJPcmJpdENvbnRyb2xzIiwiZW5hYmxlZCIsInRhcmdldCIsIm1pbkRpc3RhbmNlIiwibWF4RGlzdGFuY2UiLCJJbmZpbml0eSIsIm1pblpvb20iLCJtYXhab29tIiwibWluUG9sYXJBbmdsZSIsIm1heFBvbGFyQW5nbGUiLCJtaW5BemltdXRoQW5nbGUiLCJtYXhBemltdXRoQW5nbGUiLCJlbmFibGVEYW1waW5nIiwiZGFtcGluZ0ZhY3RvciIsImVuYWJsZVpvb20iLCJ6b29tU3BlZWQiLCJlbmFibGVSb3RhdGUiLCJyb3RhdGVTcGVlZCIsImVuYWJsZVBhbiIsImtleVBhblNwZWVkIiwiYXV0b1JvdGF0ZSIsImF1dG9Sb3RhdGVTcGVlZCIsImVuYWJsZUtleXMiLCJrZXlzIiwiTEVGVCIsIlVQIiwiUklHSFQiLCJCT1RUT00iLCJtb3VzZUJ1dHRvbnMiLCJPUkJJVCIsIlpPT00iLCJNSURETEUiLCJQQU4iLCJ0YXJnZXQwIiwicG9zaXRpb24wIiwiem9vbTAiLCJ6b29tIiwiZ2V0UG9sYXJBbmdsZSIsInNwaGVyaWNhbCIsInBoaSIsImdldEF6aW11dGhhbEFuZ2xlIiwidGhldGEiLCJzYXZlU3RhdGUiLCJyZXNldCIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJTVEFURSIsIk5PTkUiLCJxdWF0Iiwic2V0RnJvbVVuaXRWZWN0b3JzIiwidXAiLCJxdWF0SW52ZXJzZSIsImludmVyc2UiLCJsYXN0UG9zaXRpb24iLCJsYXN0UXVhdGVybmlvbiIsImFwcGx5UXVhdGVybmlvbiIsInNldEZyb21WZWN0b3IzIiwic3RhdGUiLCJnZXRBdXRvUm90YXRpb25BbmdsZSIsInNwaGVyaWNhbERlbHRhIiwibWluIiwibWFrZVNhZmUiLCJwYW5PZmZzZXQiLCJzZXRGcm9tU3BoZXJpY2FsIiwiem9vbUNoYW5nZWQiLCJkaXN0YW5jZVRvU3F1YXJlZCIsIkVQUyIsImRvdCIsIm9uQ29udGV4dE1lbnUiLCJvbk1vdXNlRG93biIsIm9uTW91c2VXaGVlbCIsIm9uVG91Y2hTdGFydCIsIm9uVG91Y2hFbmQiLCJvblRvdWNoTW92ZSIsIm9uTW91c2VNb3ZlIiwib25Nb3VzZVVwIiwib25LZXlEb3duIiwic3RhcnRFdmVudCIsImVuZEV2ZW50IiwiUk9UQVRFIiwiRE9MTFkiLCJUT1VDSF9ST1RBVEUiLCJUT1VDSF9ET0xMWSIsIlRPVUNIX1BBTiIsInJvdGF0ZVN0YXJ0Iiwicm90YXRlRW5kIiwicm90YXRlRGVsdGEiLCJwYW5TdGFydCIsInBhbkVuZCIsInBhbkRlbHRhIiwiZG9sbHlTdGFydCIsImRvbGx5RW5kIiwiZG9sbHlEZWx0YSIsImdldFpvb21TY2FsZSIsInBvdyIsInJvdGF0ZUxlZnQiLCJhbmdsZSIsInJvdGF0ZVVwIiwicGFuTGVmdCIsInYiLCJkaXN0YW5jZSIsIm9iamVjdE1hdHJpeCIsInNldEZyb21NYXRyaXhDb2x1bW4iLCJtdWx0aXBseVNjYWxhciIsInBhblVwIiwicGFuIiwiZGVsdGFYIiwiZGVsdGFZIiwiZWxlbWVudCIsImJvZHkiLCJ0YXJnZXREaXN0YW5jZSIsInRhbiIsImZvdiIsImNsaWVudEhlaWdodCIsInJpZ2h0IiwiY2xpZW50V2lkdGgiLCJib3R0b20iLCJ3YXJuIiwiZG9sbHlJbiIsImRvbGx5U2NhbGUiLCJkb2xseU91dCIsImhhbmRsZU1vdXNlRG93blJvdGF0ZSIsImhhbmRsZU1vdXNlRG93bkRvbGx5IiwiaGFuZGxlTW91c2VEb3duUGFuIiwiaGFuZGxlTW91c2VNb3ZlUm90YXRlIiwic3ViVmVjdG9ycyIsImhhbmRsZU1vdXNlTW92ZURvbGx5IiwiaGFuZGxlTW91c2VNb3ZlUGFuIiwiaGFuZGxlTW91c2VVcCIsImhhbmRsZU1vdXNlV2hlZWwiLCJoYW5kbGVLZXlEb3duIiwia2V5Q29kZSIsImhhbmRsZVRvdWNoU3RhcnRSb3RhdGUiLCJ0b3VjaGVzIiwicGFnZVgiLCJwYWdlWSIsImhhbmRsZVRvdWNoU3RhcnREb2xseSIsImR4IiwiZHkiLCJzcXJ0IiwiaGFuZGxlVG91Y2hTdGFydFBhbiIsImhhbmRsZVRvdWNoTW92ZVJvdGF0ZSIsImhhbmRsZVRvdWNoTW92ZURvbGx5IiwiaGFuZGxlVG91Y2hNb3ZlUGFuIiwiaGFuZGxlVG91Y2hFbmQiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidmFsdWUiLCJTVExMb2FkZXIiLCJtYW5hZ2VyIiwidXJsIiwib25Mb2FkIiwib25Qcm9ncmVzcyIsIm9uRXJyb3IiLCJsb2FkZXIiLCJzZXRSZXNwb25zZVR5cGUiLCJsb2FkIiwidGV4dCIsInBhcnNlIiwiZGF0YSIsImlzQmluYXJ5IiwiZXhwZWN0IiwiZmFjZV9zaXplIiwibl9mYWNlcyIsInJlYWRlciIsIkRhdGFWaWV3IiwiYmluRGF0YSIsImdldFVpbnQzMiIsImJ5dGVMZW5ndGgiLCJzb2xpZCIsImdldFVpbnQ4IiwiZW5zdXJlQmluYXJ5IiwicGFyc2VCaW5hcnkiLCJwYXJzZUFTQ0lJIiwiZW5zdXJlU3RyaW5nIiwiZmFjZXMiLCJyIiwiZyIsImIiLCJoYXNDb2xvcnMiLCJjb2xvcnMiLCJkZWZhdWx0UiIsImRlZmF1bHRHIiwiZGVmYXVsdEIiLCJhbHBoYSIsImluZGV4IiwiZGF0YU9mZnNldCIsImZhY2VMZW5ndGgiLCJub3JtYWxzIiwiZmFjZSIsInN0YXJ0Iiwibm9ybWFsWCIsImdldEZsb2F0MzIiLCJub3JtYWxZIiwibm9ybWFsWiIsInBhY2tlZENvbG9yIiwiZ2V0VWludDE2IiwidmVydGV4c3RhcnQiLCJGbG9hdDMyQXJyYXkiLCJwYXR0ZXJuRmFjZSIsInBhdHRlcm5Ob3JtYWwiLCJwYXR0ZXJuVmVydGV4IiwicmVzdWx0Iiwibm9ybWFsIiwiZXhlYyIsInBhcnNlRmxvYXQiLCJidWYiLCJhcnJheV9idWZmZXIiLCJVaW50OEFycmF5Iiwic3RyQXJyYXkiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJqb2luIiwiY2hhckNvZGVBdCIsImJ1ZmZlciIsIkRldGVjdG9yIiwiQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiwiY2FudmFzIiwiY3JlYXRlRWxlbWVudCIsIldlYkdMUmVuZGVyaW5nQ29udGV4dCIsImdldENvbnRleHQiLCJlIiwiV29ya2VyIiwiRmlsZSIsIkZpbGVSZWFkZXIiLCJGaWxlTGlzdCIsIkJsb2IiLCJpZCIsInN0eWxlIiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsInRleHRBbGlnbiIsImJhY2tncm91bmQiLCJwYWRkaW5nIiwibWFyZ2luIiwid2ViZ2wiLCJpbm5lckhUTUwiLCJnZXRXZWJHTEVycm9yTWVzc2FnZSIsImFwcGVuZENoaWxkIiwiVmVydGV4Tm9kZSIsInBvc0luZGV4Iiwic2VsZiIsIm5laWdoYm9ycyIsIlNldCIsImlzbGFuZCIsImFkZE5laWdoYm9yIiwidmVydGV4Tm9kZSIsIlZlcnRleEdyYXBoIiwicG9zaXRpb25zIiwicHJlY2lzaW9uUG9pbnRzIiwidmVydGljZXNNYXAiLCJNYXAiLCJ2ZXJ0ZXhLZXlGb3JQb3NpdGlvbiIsInByZWNpc2lvbiIsInZlcnRleEZvclBvc2l0aW9uIiwiZ2V0IiwiZmFjZUluZGV4IiwidmVydGljZXNPZkN1cnJlbnRGYWNlIiwia2V5IiwiaGFzIiwiaXNsYW5kcyIsImFsbElzbGFuZHMiLCJmb3JFYWNoIiwibmV3SXNsYW5kIiwiZmxvb2RGaWxsIiwicXVldWUiLCJ1bnNoaWZ0IiwicG9wIiwibmV4dFYiLCJJc2xhbmRTZXBhcmF0b3IiLCJzZXBhcmF0ZSIsIm9yaWdpbmFsUG9zaXRpb25zIiwiYXR0cmlidXRlcyIsImFycmF5Iiwib3JpZ2luYWxOb3JtYWxzIiwib3JpZ2luYWxDb2xvcnMiLCJncmFwaCIsImZhY2VJbmRpY2VzIiwiaXNsYW5kT2ZDdXJyZW50RmFjZSIsImdlb21ldHJpZXMiLCJtYXAiLCJTVExCaW5hcnlFeHBvcnRlciIsInZlY3RvciIsIm5vcm1hbE1hdHJpeFdvcmxkIiwic2NlbmUiLCJ0cmlhbmdsZXMiLCJmcm9tQnVmZmVyR2VvbWV0cnkiLCJidWZmZXJMZW5ndGgiLCJhcnJheUJ1ZmZlciIsIkFycmF5QnVmZmVyIiwib3V0cHV0Iiwic2V0VWludDMyIiwiZ2V0Tm9ybWFsTWF0cml4IiwibCIsImFwcGx5TWF0cml4MyIsInNldEZsb2F0MzIiLCJpbmRpY2VzIiwiYSIsImMiLCJqIiwic2V0VWludDE2Il0sIm1hcHBpbmdzIjoiOzs7QUFBQTs7OztBQUlBLEFBRUEsQUFFQSxTQUFTQSxjQUFULEdBQTBCOztRQUVsQkMsZ0JBQWdCLFNBQWhCQSxhQUFnQixDQUFXQyxVQUFYLEVBQXdCOzt5QkFFeEMsQ0FBd0JDLElBQXhCLENBQThCLElBQTlCOzthQUVLQyxTQUFMLEdBQWlCLEtBQWpCO2FBQ0tDLFVBQUwsR0FBa0IsS0FBbEI7YUFDS0MsSUFBTCxHQUFZQyxTQUFaO2FBQ0tDLFdBQUwsR0FBbUIsSUFBbkI7O2FBRUtDLFNBQUwsQ0FBZ0JQLFVBQWhCOzthQUVLUSxRQUFMLEdBQWdCLEtBQUtDLEtBQUwsQ0FBV0MsS0FBWCxFQUFoQjthQUNLQyxVQUFMLEdBQWtCLEtBQUtDLE9BQXZCOzthQUVLQyxTQUFMLEdBQWlCLFVBQVVDLFdBQVYsRUFBd0I7O2dCQUVoQ0EsV0FBTCxFQUFtQjs7cUJBRVZMLEtBQUwsQ0FBV00sTUFBWCxDQUFtQixDQUFuQixFQUFzQixDQUF0QixFQUF5QixDQUF6QjtxQkFD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\n","/**\n * @author kennethjiang / https://github.com/kennethjiang\n *\n *\n * Description: A THREE view port for STL models\n *\n * Usage:\n *  var viewPort = new THREE.STLViewPort(canvas, width, height, function() {\n *     //things to do when any model in the view port changes\n *  });\n *  viewPort.init();\n *  viewPort.loadSTL(url, fucntion(model) {\n *     viewPort.makeModelActive(model);\n *     //things to do when model is loaded\n *  });\n *  var scene = viewPort.scene; // direct access to the scene for to add THREE.Object\n *\n */\n\n\n'use strict';\n\nimport * as THREETK from '3tk';\n\nexport function STLViewPort( canvas, width, height, onChange, onNewModel ) {\n\n    var self = this;\n\n    self.canvas = canvas;\n    self.canvasWidth = width;\n    self.canvasHeight = height;\n    self.onChange = onChange;\n    self.onNewModel = onNewModel;\n\n    self.models = [];\n\n    self.effectController = {\n        metalness: 0.5,\n        roughness: 0.5,\n        modelInactiveColor: new THREE.Color(\"#60715b\"),\n        modelActiveColor: new THREE.Color(\"#34bf0d\"),\n        ambientLightColor: new THREE.Color(\"#2b2b2b\"),\n        directionalLightColor: new THREE.Color(\"#ffffff\"),\n    };\n\n    self.init = function() {\n\n        self.camera = new THREE.PerspectiveCamera( 45, 1.0, 0.1, 5000 );\n\n        self.camera.up.set( 0, 0, 1 );\n        self.camera.position.set( -100, -200, 250 );\n\n        self.scene = new THREE.Scene();\n\n        // Lights\n        var ambientLight = new THREE.AmbientLight( self.effectController.ambientLightColor );  // 0.2\n        self.scene.add( ambientLight );\n        var directionalLight = new THREE.DirectionalLight(self.effectController.directionalLightColor, 1.0);\n        directionalLight.position.set( 100, 100, 500 );\n        self.scene.add( directionalLight );\n        var directionalLight2= new THREE.DirectionalLight(self.effectController.directionalLightColor, 1.0);\n        directionalLight2.position.set( 100, 100, -500);\n        self.scene.add( directionalLight2);\n\n        self.renderer = new THREE.WebGLRenderer( { canvas: self.canvas, antialias: true } );\n\n        self.renderer.setClearColor( 0xd8d8d8 );\n        self.renderer.setSize( self.canvasWidth, self.canvasHeight );\n        self.renderer.setPixelRatio( window.devicePixelRatio );\n\n        self.renderer.gammaInput = true;\n        self.renderer.gammaOutput = true;\n\n        self.orbitControls = new THREETK.OrbitControls(self.camera, self.renderer.domElement);\n\n        self.orbitControls.enableDamping = true;\n        self.orbitControls.dampingFactor = 0.25;\n        self.orbitControls.enablePan = false;\n        self.orbitControls.addEventListener(\"change\", self.render);\n\n        self.transformControls = new THREETK.TransformControls(self.camera, self.renderer.domElement);\n\n        self.transformControls.setRotationSnap( THREE.Math.degToRad( 15 ) )\n        self.transformControls.addEventListener(\"change\", self.render);\n        self.transformControls.addEventListener(\"mouseDown\", self.startTransform);\n        self.transformControls.addEventListener(\"mouseUp\", self.endTransform);\n        self.transformControls.addEventListener(\"change\", self.onChange);\n        self.scene.add(self.transformControls);\n\n        window.addEventListener( 'keydown', function ( event ) {\n            switch ( event.keyCode ) {\n                case 17: // Ctrl\n                    self.transformControls.setRotationSnap(null);\n                    break;\n            }\n        });\n\n        window.addEventListener( 'keyup', function ( event ) {\n            switch ( event.keyCode ) {\n                case 17: // Ctrl\n                    self.transformControls.setRotationSnap( THREE.Math.degToRad( 15 ) );\n                    break;\n            }\n        });\n\n        // Unforutnately built-in \"click\" event is fired when it's a drag. We need all these complexity to detect real click (no mousemoves between mousedown and mouseup)\n        self.canvas.addEventListener(\"mousedown\", function() { self.lastMouseEvent = \"mousedown\" });\n        self.canvas.addEventListener(\"mousemove\", function() { self.lastMouseEvent = \"mousemove\" });\n        self.canvas.addEventListener(\"mouseup\", function(e) { if (self.lastMouseEvent == \"mousedown\") self.pickActiveModel(e); });\n\n        self.render();\n    };\n\n    self.render = function() {\n        self.orbitControls.update();\n        self.transformControls.update();\n        self.renderer.render( self.scene, self.camera );\n    };\n\n\n    self.loadSTL = function ( url, onLoad ) {\n        new THREETK.STLLoader().load(url, function ( geometry ) {\n            self.onNewModel([\n                self.addModelOfGeometry(geometry)\n            ]);\n        });\n    };\n\n    self.addModelOfGeometry = function( geometry, modelToCopyTransformFrom ) {\n        var material = new THREE.MeshStandardMaterial({\n            color: self.effectController.modelInactiveColor,  // We'll mark it active below.\n            shading: THREE.SmoothShading,\n            side: THREE.DoubleSide,\n            metalness: self.effectController.metalness,\n            roughness: self.effectController.roughness });\n\n        var stlModel = new THREE.Mesh( geometry, material );\n\n        // center model's origin\n        var center = new THREE.Box3().setFromObject(stlModel).center();\n        var model = new THREE.Object3D();\n        model.add(stlModel);\n        stlModel.position.copy(center.negate());\n        if (modelToCopyTransformFrom) {\n            model.rotation.copy(modelToCopyTransformFrom.rotation);\n            model.scale.copy(modelToCopyTransformFrom.scale);\n        }\n\n        self.scene.add(model);\n        self.render();\n\n        self.models.push(model);\n        return model;\n    };\n\n    self.activeModel = function() {\n        return self.transformControls.object;\n    }\n\n    self.pickActiveModel = function( event ) {\n        var rect = self.canvas.getBoundingClientRect();\n        var x = (event.clientX - rect.left) / rect.width;\n        var y = (event.clientY - rect.top) / rect.height;\n\n        var pointerVector = new THREE.Vector2();\n        pointerVector.set((x*2) - 1, -(y*2) + 1);\n        var ray = new THREE.Raycaster();\n        ray.setFromCamera(pointerVector, self.camera);\n\n        // Clicking should cycle through the stlFiles if there are multiple under the cursor.\n        var foundActiveModel = false;\n        var nextPointedModel = undefined;\n        var firstPointedModel = undefined;\n        for (var i = 0; i < self.models.length; i++) {\n            var model = self.models[i];\n            var intersections = ray.intersectObjects( model.children, true ); // Not sure why ray will intersect the children but not the model itself.\n            if (!intersections[0]) {\n                continue;\n            }\n            if (!firstPointedModel) {\n                firstPointedModel = model;\n            }\n            if (foundActiveModel && !nextPointedModel) {\n                nextPointedModel = model;\n            }\n            if (self.activeModel() == model) {\n                foundActiveModel = true;\n            }\n        }\n        if (nextPointedModel) {\n            self.makeModelActive(nextPointedModel);\n        } else if (firstPointedModel) {\n            self.makeModelActive(firstPointedModel);\n        }\n    };\n\n    /**\n     * params:\n     *    m: model to make active. Clear active model if m is undefined\n     *\n     */\n    self.makeModelActive = function(m) {\n        // Sets one file active and inactivates all the others.\n        if (m) {\n            self.transformControls.attach(m);\n        } else {\n            self.transformControls.detach();\n        }\n\n        for (var i = 0; i < self.models.length; i++) {\n            var model = self.models[i];\n            if (model == self.activeModel()) {\n                model.children[0].material.color.copy(self.effectController.modelActiveColor);\n            } else {\n                model.children[0].material.color.copy(self.effectController.modelInactiveColor);\n            }\n        }\n\n        self.render();\n        self.onChange();\n    };\n\n    self.removeActiveModel = function() {\n        if (!self.activeModel()) {\n            return undefined;\n        } else {\n            var model = self.activeModel();\n\n            var index = self.models.indexOf(model);\n            if (index > -1) {\n                self.models.splice(index, 1);\n            }\n\n            self.scene.remove(model);\n            self.makeModelActive(undefined);\n            return model;\n        }\n    };\n\n    self.removeAllModels = function() {\n        for (var i = 0; i < self.models.length; i++) {\n            self.scene.remove(self.models[i]);\n        }\n        self.models = [];\n        self.makeModelActive(undefined);\n    }\n\n    self.splitActiveModel = function() {\n        if (!self.activeModel()) {\n            return;\n        } else {\n            var originalModel = self.removeActiveModel()\n            var geometry = originalModel.children[0].geometry;\n            var newGeometries = GeometryUtils.split(geometry);\n            self.onNewModel(\n                newGeometries.map( function(geometry) {\n                    return self.addModelOfGeometry( geometry, originalModel );\n                })\n            );\n        }\n    };\n\n    self.onlyOneOriginalModel = function() {\n        return self.models.length == 1  &&\n            self.models[0].position.x == 0.0 &&\n            self.models[0].position.y == 0.0 &&\n            self.models[0].rotation.x == 0.0 &&\n            self.models[0].rotation.y == 0.0 &&\n            self.models[0].rotation.z == 0.0 &&\n            self.models[0].scale.x == 1.0 &&\n            self.models[0].scale.y == 1.0 &&\n            self.models[0].scale.z == 1.0\n    };\n\n    self.startTransform = function () {\n        // Disable orbit controls\n        self.orbitControls.enabled = false;\n    };\n\n    self.endTransform = function () {\n        // Enable orbit controls\n        self.orbitControls.enabled = true;\n    };\n\n}\n","/*\n * View model for OctoPrint-Slicer\n *\n * Author: Kenneth Jiang\n * License: AGPLv3\n */\nko.bindingHandlers.numericValue = {\n    init : function(element, valueAccessor, allBindings, data, context) {\n        var interceptor = ko.computed({\n            read: function() {\n                return ko.unwrap(valueAccessor());\n            },\n            write: function(value) {\n                if (!isNaN(value)) {\n                    valueAccessor()(parseFloat(value));\n                }\n            },\n            disposeWhenNodeIsRemoved: element\n        });\n\n        ko.applyBindingsToNode(element, { value: interceptor }, context);\n    }\n};\n\nexport function OverridesViewModel(parameters, array_keys, enum_keys, item_keys, boolean_keys) {\n    var self = this;\n    self.slicingViewModel = parameters[0];\n\n    var ARRAY_KEYS = [\n        \"print_temperature\",\n        \"start_gcode\",\n        \"end_gcode\",\n        \"filament_diameter\"\n    ],\n        ENUM_KEYS = {\n            \"support\" : ko.observableArray([\"none\", \"buildplate\", \"everywhere\"]),\n            \"platform_adhesion\" : ko.observableArray([\"none\", \"brim\", \"raft\"])\n        },\n        ITEM_KEYS = [\n            \"layer_height\",\n            \"temperature\",\n            \"bed_temperature\",\n            \"print_bed_temperature\",\n            \"fill_density\",\n            \"wall_thickness\",\n            \"print_speed\",\n            \"solid_layer_thickness\",\n            \"travel_speed\",\n            \"outer_shell_speed\",\n            \"inner_shell_speed\",\n            \"infill_speed\",\n            \"bottom_layer_speed\",\n            \"filament_flow\",\n            \"retraction_speed\",\n            \"retraction_amount\",\n            \"extrusion_multiplier\",\n        ],\n        BOOLEAN_KEYS = [\n            \"support_material\",\n            \"overhangs\",\n            \"retraction_enable\",\n            \"fan_enabled\",\n            \"cooling\"\n        ];\n    var ALL_KEYS = BOOLEAN_KEYS.concat(ITEM_KEYS).concat(ARRAY_KEYS).concat(Object.keys(ENUM_KEYS));\n\n    // initialize all observables\n    _.forEach(ALL_KEYS, function(k) { self[\"profile.\" + k] = ko.observable(); });\n\n    self.optionsForKey = function(key) {\n        return ENUM_KEYS[key];\n    };\n\n    self.updateOverridesFromProfile = function(profile) {\n\n        // Some options are numeric but might have a percent sign after them.\n        // Remove the percent and save it to replace later.\n        self.endings = {};\n        var stripEndings = function(m, k) {\n            if (_.isString(m[k]) && m[k].endsWith(\"%\")) {\n                self.endings[k] = \"%\";\n                return m[k].slice(0,-1);\n            } else {\n                return m[k];\n            }\n        }\n\n        // Some options are booleans but can be stored as 0/1 or false/true.\n        // Convert to native true/false and keep track of the style.\n        self.booleans = {};\n        var convertBoolean = function(m, k) {\n            var BOOLS = [\n                [\"false\", \"true\"],\n                [\"False\", \"True\"],\n                [\"0\", \"1\"],\n            ];\n            if (m[k] === undefined) {\n                return undefined;\n            }\n            for (var boolType = 0; boolType < BOOLS.length; boolType++) {\n                for (var b = 0; b < BOOLS[boolType].length; b++) {\n                    if (m[k] === BOOLS[boolType][b]) {\n                        self.booleans[k] = BOOLS[boolType];\n                        return !!b;  // Convert 0 to false and 1 to true.\n                    }\n                }\n            }\n            return !!m[k]; // Just take a guess if we can't figure it out.\n        }\n\n\n        // Some options are arrays in cura but not Slic3r.  Keep track of which.\n        self.isArray = [];\n\n        _.forEach(ITEM_KEYS, function(k) { self[\"profile.\" + k]( stripEndings(profile,k) ); });\n        _.forEach(BOOLEAN_KEYS, function(k) { self[\"profile.\" + k]( convertBoolean(profile,k) ); });\n        _.forEach(ENUM_KEYS, function(v, k) { self[\"profile.\" + k]( profile[k] ); });\n        _.forEach(ARRAY_KEYS, function(k) {\n            // Some config options are arrays in cura but not in Slic3r.\n            // Detect which ones are arrays and only convert those.\n            if (_.isArray(profile[k])) {\n                self.isArray.push(k);  // Remember this for later.\n                self[\"profile.\" + k](profile[k][0]);\n            } else {\n                self[\"profile.\" + k](profile[k]);\n            }});\n    };\n\n\n    self.onProfileChange = function(newValue) {\n        if (newValue === undefined) {  // For some reason KO would fire event with newValue=undefined,\n            return;  // in which case we should ignore it otherwise things get messed up\n        }\n\n        var slicing = self.slicingViewModel;\n\n        if( !slicing.slicer() || !slicing.profile() ) {\n            return;\n        }\n\n        self.fetchSlicingProfile( slicing.slicer(), slicing.profile() );\n    };\n\n    self.fetchSlicingProfile = function(slicer, profile) {\n        if (self.profileAjax) {\n            self.profileAjax.abort();\n            self.profileAjax = undefined;\n        }\n\n        self.profileAjax = $.ajax({\n            url: API_BASEURL + \"slicing/\" + slicer + \"/profiles/\" + profile,\n            type: \"GET\",\n            // On success\n            success: function(data) {\n                self.updateOverridesFromProfile(data.data);\n            }\n        });\n    };\n\n    self.slicingViewModel.profile.subscribe( self.onProfileChange );\n    //\n    //End of Profile-handling mess\n\n\n    self.toJS = function() {\n        var result = ko.mapping.toJS(self, {\n            ignore: [\"slicingViewModel\",\n                \"updateOverridesFromProfile\",\n                \"updateOverrides\",\n                \"toJS\",\n                \"optionsForKey\",\n                \"stripEndings\",\n                \"isArray\",\n                \"endings\"]\n        });\n        _.forEach(ITEM_KEYS, function(k) {\n            if(self.endings.hasOwnProperty(k)) {\n                result[\"profile.\" + k] += self.endings[k];\n            }});\n        _.forEach(BOOLEAN_KEYS, function(k) {\n            if(self.booleans.hasOwnProperty(k)) {\n                // Convert false/true to the correct string.\n                result[\"profile.\" + k] = self.booleans[k][result[\"profile.\" + k]?1:0];\n            }});\n\n        for (var key in result) {\n            var baseKey = key.replace(\"profile.\", \"\");\n            // Convert it back to an array if it was an array originally.\n            if (_.contains(ARRAY_KEYS, baseKey) && _.contains(self.isArray, baseKey)) {\n                result[key] = [result[key]];\n            }\n        }\n\n        _.forEach(result, function(k) {\n            // If the value is undefined, must not be valid for this slicer.\n            if (result[k] === undefined) {\n                delete result[k];\n            }\n        });\n        return result;\n    };\n}\n\n// view model class, parameters for constructor, container to bind to\nOCTOPRINT_VIEWMODELS.push([\n    OverridesViewModel,\n    [ \"slicingViewModel\" ],\n    [ \"#basic_overrides\", \"#advanced_overrides\" ]\n]);\n","'use strict';\n\nimport * as THREE from 'three';\n\nexport function ModelArranger() {\n\n    var self = this;\n\n    var sort =  {\n\n        w       : function (a,b) { return b.w - a.w; },\n        h       : function (a,b) { return b.h - a.h; },\n        a       : function (a,b) { return b.area - a.area; },\n        max     : function (a,b) { return Math.max(b.w, b.h) - Math.max(a.w, a.h); },\n        min     : function (a,b) { return Math.min(b.w, b.h) - Math.min(a.w, a.h); },\n\n        height  : function (a,b) { return sort.msort(a, b, ['h', 'w']);               },\n        width   : function (a,b) { return sort.msort(a, b, ['w', 'h']);               },\n        area    : function (a,b) { return sort.msort(a, b, ['a', 'h', 'w']);          },\n        maxside : function (a,b) { return sort.msort(a, b, ['max', 'min', 'h', 'w']); },\n\n        msort: function(a, b, criteria) { /* sort by multiple criteria */\n            var diff, n;\n            for (n = 0 ; n < criteria.length ; n++) {\n                diff = sort[criteria[n]](a,b);\n                if (diff != 0)\n                    return diff;\n            }\n            return 0;\n        }\n\n    };\n\n    function applyPackResult(rect, packer) {\n        rect.model.position.x = rect.fit.x - packer.root.w*0.5 + rect.w*0.5;\n        rect.model.position.y = rect.fit.y - packer.root.h*0.5 + rect.h*0.5;\n    };\n\n    function projectedRectOnXY( model ) {\n        var margin = 10.0;\n        var modelBox = new THREE.Box3().setFromObject(model);\n        var width = modelBox.max.x - modelBox.min.x + margin;\n        var height = modelBox.max.y - modelBox.min.y + margin;\n        return { w: width, h: height, area: width*height, model: model };\n    };\n\n    self.arrange = function(models) {\n        var modelRectMap = models.reduce( function( map, model ) {\n            return map.set(model, projectedRectOnXY(model));\n        }, new Map());\n\n        // loop through all sorting criteria, and pick the best one (with smalles overall area)\n        var criteria = ['w', 'h', 'a', 'max', 'min', 'height', 'width', 'area', 'maxside'];\n        var allPackers = criteria.map( function( crit ) {\n\n            var rects = models.map( function(model) { return modelRectMap.get(model); });\n            rects.sort( sort[crit] );\n\n            var packer = new GrowingPacker();\n            packer.fit(rects);\n\n            return {packer: packer, rects: rects};\n        });\n\n        var packersSortedByArea = allPackers.filter( function( result ) {\n            return ! result.rects.some( function(rect) { return !rect.fit; } );\n        }).sort( function(a, b) {\n            return b.packer.root.area - a.packer.root.area;\n        });\n\n        if (packersSortedByArea.length > 0) {\n            packersSortedByArea[0].rects.forEach( function( rect ) { applyPackResult(rect, packersSortedByArea[0].packer); });\n        }\n    };\n\n}\n","/*\n * View model for OctoPrint-Slicer\n *\n * Author: Kenneth Jiang\n * License: AGPLv3\n */\n\n'use strict';\n\nimport * as THREETK from '3tk';\nimport { STLViewPort } from './STLViewPort';\nimport { OverridesViewModel } from './profile_overrides';\nimport { ModelArranger } from './ModelArranger';\n\nif (window.location.hostname != \"localhost\") {\n    Raven.config('https://85bd9314656d40da9249aec5a32a2b52@sentry.io/141297', {\n        release: '0.9.6',\n        ignoreErrors: [\n            \"Failed to execute 'arc' on 'CanvasRenderingContext2D': The radius provided\",\n            \"Cannot read property 'highlightFill' of undefined\",\n            \"Argument 1 of SVGMatrix.translate is not a finite floating-point value\",\n            /_jp.*is not a function/,\n        ],\n    }).install();\n}\n\nfunction SlicerViewModel(parameters) {\n    mixpanel.track(\"App Loaded\");\n\n    var self = this;\n\n    self.canvas = document.getElementById( 'slicer-canvas' );\n\n    //check if webGL is present. If not disable Slicer plugin\n    if ( ! THREETK.Detector.webgl ) {\n        $('#tab_plugin_slicer').empty().append(\"<h3>Slicer Plugin is disabled because your browser doesn't support WebGL</h3>\");\n        return;\n    }\n\n    // assign the injected parameters, e.g.:\n    self.slicingViewModel = parameters[0];\n    self.overridesViewModel = parameters[1];\n    self.printerStateViewModel = parameters[2];\n    self.printerProfilesViewModel = parameters[3];\n\n    self.lockScale = true;\n    self.selectedSTL = undefined;\n    self.newPrint = true;\n\n\n    // Override slicingViewModel.show to surpress default slicing behavior\n    self.slicingViewModel.show = function(target, file, force) {\n        if (!self.slicingViewModel.enableSlicingDialog() && !force) {\n            return;\n        }\n        mixpanel.track(\"Load STL\");\n\n        $('a[href=\"#tab_plugin_slicer\"]').tab('show');\n\n        self.selectedSTL = {target: target, file: file};\n        if (self.newPrint) {\n            self.addToNewPrint();\n        } else {\n            $(\"#plugin-slicer-load-model\").modal(\"show\");\n        }\n    };\n\n    self.addToNewPrint = function() {\n        self.clearPrint();\n        self.addToExistingPrint();\n    };\n\n    self.addToExistingPrint = function() {\n        self.setSlicingViewModel(self.selectedSTL.target, self.selectedSTL.file);\n        self.addSTL(self.selectedSTL.target, self.selectedSTL.file);\n        self.selectedSTL = undefined;\n\n        $(\"#plugin-slicer-load-model\").modal(\"hide\");\n    };\n\n    self.clearPrint = function() {\n        self.resetSlicingViewModel();\n        self.stlViewPort.removeAllModels();\n        self.newPrint = true;\n    }\n\n    self.addSTL = function(target, file) {\n        self.newPrint = false;\n        self.stlViewPort.loadSTL(BASEURL + \"downloads/files/\" + target + \"/\" + file);\n    }\n\n    self.onModelAdd = function(models) {\n\n        self.stlViewPort.makeModelActive(models[0]);\n\n        models.forEach( function( model ) {\n            self.fixZPosition(model);\n        });\n\n        if (self.stlViewPort.models.length > 1) {\n            new ModelArranger().arrange(self.stlViewPort.models);\n        }\n        self.stlViewPort.render();\n\n        $('#tab_plugin_slicer > div.translucent-blocker').hide();\n\n    };\n\n    self.onModelRemove = function(model) {\n        if (self.stlViewPort.models.length == 0) {\n            self.clearPrint();\n        }\n    };\n\n    self.updatePrinterBed = function(profileName) {\n        if ( profileName) {\n            var profile = self.printerProfilesViewModel.profiles.items().find(function(p) { return p.id == profileName })\n\n            var dim = profile.volume\n            self.BEDSIZE_X_MM = dim.width;\n            self.BEDSIZE_Y_MM = dim.depth;\n            self.BEDSIZE_Z_MM = dim.height;\n            if (dim.origin == \"lowerleft\" ) {\n                self.ORIGIN_OFFSET_X_MM = self.BEDSIZE_X_MM/2.0;\n                self.ORIGIN_OFFSET_Y_MM = self.BEDSIZE_Y_MM/2.0;\n            } else {\n                self.ORIGIN_OFFSET_X_MM = 0;\n                self.ORIGIN_OFFSET_Y_MM = 0;\n            }\n        }\n        self.drawBedFloor(self.BEDSIZE_X_MM, self.BEDSIZE_Y_MM);\n        self.drawWalls(self.BEDSIZE_X_MM, self.BEDSIZE_Y_MM, self.BEDSIZE_Z_MM);\n        self.stlViewPort.render();\n    }\n\n    self.slicingViewModel.printerProfile.subscribe( self.updatePrinterBed );\n\n    self.BEDSIZE_X_MM = 200;\n    self.BEDSIZE_Y_MM = 200;\n    self.BEDSIZE_Z_MM = 200;\n    self.ORIGIN_OFFSET_X_MM = 0;\n    self.ORIGIN_OFFSET_Y_MM = 0;\n\n    var CANVAS_WIDTH = 588,\n        CANVAS_HEIGHT = 588;\n\n\n    self.init = function() {\n\n        self.slicingViewModel.requestData();\n\n        self.stlViewPort = new STLViewPort(self.canvas, CANVAS_WIDTH, CANVAS_HEIGHT, self.onModelChange, self.onModelAdd)\n        self.stlViewPort.init();\n\n        //Walls and Floor\n        self.walls = new THREE.Object3D();\n        self.floor = new THREE.Object3D();\n        self.stlViewPort.scene.add(self.walls);\n        self.stlViewPort.scene.add(self.floor);\n\n        self.updatePrinterBed();\n\n        ko.applyBindings(self.slicingViewModel, $('#slicing-settings')[0]);\n\n        // Buttons on the canvas, and their behaviors.\n        // TODO: it's not DRY. mix of prez code and logics. need to figure out a better way\n        $(\"#slicer-viewport\").empty().append('<div class=\"report\"><span>Got issues or suggestions? <a target=\"_blank\" href=\"https://github.com/kennethjiang/OctoPrint-Slicer/issues/new\">Click here!</a></span></div>\\\n                  <div class=\"model\">\\\n                    <button class=\"translate disabled\" title=\"Move\"><img src=\"'\n            + PLUGIN_BASEURL\n            + 'slicer/static/img/translate.png\"></button>\\\n                    <button class=\"rotate disabled\" title=\"Rotate\"><img src=\"'\n            + PLUGIN_BASEURL\n            + 'slicer/static/img/rotate.png\"></button>\\\n                    <button class=\"scale disabled\" title=\"Scale\"><img src=\"'\n            + PLUGIN_BASEURL\n            + 'slicer/static/img/scale.png\"></button>\\\n                    <button class=\"remove disabled\" title=\"Remove\"><img src=\"'\n            + PLUGIN_BASEURL\n            + 'slicer/static/img/remove.png\"></button>\\\n                    <button class=\"split disabled\" title=\"Split\"><img src=\"'\n            + PLUGIN_BASEURL\n            + 'slicer/static/img/split.png\"></button>\\\n                </div>\\\n                <div class=\"values translate\">\\\n                    <div>\\\n                        <p><span class=\"axis x\">X</span><input type=\"number\" step=\"any\" name=\"x\"><span title=\"\">mm</span></p>\\\n                        <p><span class=\"axis y\">Y</span><input type=\"number\" step=\"any\" name=\"y\"><span title=\"\">mm</span></p>\\\n                        <span></span>\\\n                    </div>\\\n               </div>\\\n                <div class=\"values rotate\">\\\n                    <div>\\\n                        <p><span class=\"axis x\">X</span><input type=\"number\" step=\"any\" name=\"x\"><span title=\"\"></span></p>\\\n                        <p><span class=\"axis y\">Y</span><input type=\"number\" step=\"any\" name=\"y\"><span title=\"\"></span></p>\\\n                        <p><span class=\"axis z\">Z</span><input type=\"number\" step=\"any\" name=\"z\"><span title=\"\"></span></p>\\\n                        <span></span>\\\n                    </div>\\\n               </div>\\\n                <div class=\"values scale\">\\\n                    <div>\\\n                        <p><span class=\"axis x\">X</span><input type=\"number\" step=\"0.001\" name=\"x\" min=\"0.001\"></p>\\\n                        <p><span class=\"axis y\">Y</span><input type=\"number\" step=\"0.001\" name=\"y\" min=\"0.001\"></p>\\\n                        <p><span class=\"axis z\">Z</span><input type=\"number\" step=\"0.001\" name=\"z\" min=\"0.001\"></p>\\\n                        <p class=\"checkbox\"><label><input type=\"checkbox\" checked>Lock</label></p>\\\n                        <span></span>\\\n                    </div>\\\n               </div>');\n\n        $(\"#slicer-viewport\").append(self.stlViewPort.renderer.domElement);\n\n        $(\"#slicer-viewport button.translate\").click(function(event) {\n            self.stlViewPort.transformControls.setMode(\"translate\");\n            self.stlViewPort.transformControls.space = \"world\";\n            self.toggleValueInputs($(\"#slicer-viewport .translate.values div\"));\n        });\n        $(\"#slicer-viewport button.rotate\").click(function(event) {\n            self.stlViewPort.transformControls.setMode(\"rotate\");\n            self.stlViewPort.transformControls.space = \"world\";\n            self.toggleValueInputs($(\"#slicer-viewport .rotate.values div\"));\n        });\n        $(\"#slicer-viewport button.scale\").click(function(event) {\n            self.stlViewPort.transformControls.setMode(\"scale\");\n            self.stlViewPort.transformControls.space = \"local\";\n            self.toggleValueInputs($(\"#slicer-viewport .scale.values div\"));\n        });\n        $(\"#slicer-viewport button.remove\").click(function(event) {\n            self.onModelRemove( self.stlViewPort.removeActiveModel() );\n        });\n        $(\"#slicer-viewport button.split\").click(function(event) {\n            self.onModelRemove( self.stlViewPort.splitActiveModel() );\n        });\n        $(\"#slicer-viewport .values input\").change(function() {\n            self.applyValueInputs($(this));\n        });\n\n    };\n\n    self.toggleValueInputs = function(parentDiv) {\n        if ( parentDiv.hasClass(\"show\") ) {\n            parentDiv.removeClass(\"show\").children('p').removeClass(\"show\");\n        } else if (self.stlViewPort.activeModel()) {\n            $(\"#slicer-viewport .values div\").removeClass(\"show\");\n            parentDiv.addClass(\"show\").children('p').addClass(\"show\");\n        }\n    };\n\n    self.applyValueInputs = function(input) {\n        input.blur();\n        if(input[0].type == \"checkbox\") {\n            self.lockScale = input[0].checked;\n        }\n        else if(input[0].type == \"number\" && !isNaN(parseFloat(input.val()))) {\n            input.val(parseFloat(input.val()).toFixed(3));\n            var model = self.stlViewPort.activeModel();\n\n            if (input.closest(\".values\").hasClass(\"scale\") && self.lockScale) {\n                $(\"#slicer-viewport .scale.values input\").val(input.val());\n                console.log($(\"#slicer-viewport .scale.values input[name=\\\"x\\\"]\").val());\n            }\n\n            model.position.x =  parseFloat($(\"#slicer-viewport .translate.values input[name=\\\"x\\\"]\").val())\n            model.position.y =  parseFloat($(\"#slicer-viewport .translate.values input[name=\\\"y\\\"]\").val())\n            model.rotation.x =  THREE.Math.degToRad($(\"#slicer-viewport .rotate.values input[name=\\\"x\\\"]\").val());\n            model.rotation.y =  THREE.Math.degToRad($(\"#slicer-viewport .rotate.values input[name=\\\"y\\\"]\").val());\n            model.rotation.z =  THREE.Math.degToRad($(\"#slicer-viewport .rotate.values input[name=\\\"z\\\"]\").val());\n            model.scale.x =  parseFloat($(\"#slicer-viewport .scale.values input[name=\\\"x\\\"]\").val())\n            model.scale.y =  parseFloat($(\"#slicer-viewport .scale.values input[name=\\\"y\\\"]\").val())\n            model.scale.z =  parseFloat($(\"#slicer-viewport .scale.values input[name=\\\"z\\\"]\").val())\n            self.fixZPosition(model);\n            self.stlViewPort.render();\n        }\n    };\n\n    self.fixZPosition = function ( model ) {\n        var bedLowMinZ = 0.0;\n        var boundaryBox = new THREE.Box3().setFromObject(model);\n        boundaryBox.min.sub(model.position);\n        boundaryBox.max.sub(model.position);\n        model.position.z -= model.position.z + boundaryBox.min.z - bedLowMinZ;\n    }\n\n    // callback function when models are changed by TransformControls\n    self.onModelChange = function() {\n        var model = self.stlViewPort.activeModel();\n        if (model) {\n            $(\"#slicer-viewport .translate.values input[name=\\\"x\\\"]\").val(model.position.x.toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .translate.values input[name=\\\"y\\\"]\").val(model.position.y.toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .rotate.values input[name=\\\"x\\\"]\").val((model.rotation.x * 180 / Math.PI).toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .rotate.values input[name=\\\"y\\\"]\").val((model.rotation.y * 180 / Math.PI).toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .rotate.values input[name=\\\"z\\\"]\").val((model.rotation.z * 180 / Math.PI).toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .scale.values input[name=\\\"x\\\"]\").val(model.scale.x.toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .scale.values input[name=\\\"y\\\"]\").val(model.scale.y.toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .scale.values input[name=\\\"z\\\"]\").val(model.scale.z.toFixed(3)).attr(\"min\", '');\n            $(\"#slicer-viewport .scale.values input[type=\\\"checkbox\\\"]\").checked = self.lockScale;\n            self.fixZPosition(model);\n            self.stlViewPort.render();\n        }\n\n        if (!self.stlViewPort.activeModel()) {\n            $(\"#slicer-viewport .values div\").removeClass(\"show\")\n            $(\"#slicer-viewport button\").addClass(\"disabled\");\n        } else {\n            $(\"#slicer-viewport button\").removeClass(\"disabled\");\n        }\n    };\n\n    // Slicing\n    //\n    self.tempFiles = {};\n    self.removeTempFilesAfterSlicing = function (event) {\n        if ($.inArray(event.data.type, [\"SlicingDone\", \"SlicingFailed\"]) >= 0 &&\n            event.data.payload.stl in self.tempFiles) {\n            OctoPrint.files.delete(event.data.payload.stl_location,\n                event.data.payload.stl);\n            delete self.tempFiles[event.data.payload.stl];\n        }\n    }\n\n    OctoPrint.socket.onMessage(\"event\", self.removeTempFilesAfterSlicing);\n\n    self.sliceRequestData = function(slicingVM, group) {\n        var destinationFilename = slicingVM._sanitize(slicingVM.destinationFilename());\n\n        var destinationExtensions = slicingVM.data[slicingVM.slicer()] && slicingVM.data[slicingVM.slicer()].extensions && slicingVM.data[slicingVM.slicer()].extensions.destination\n            ? slicingVM.data[slicingVM.slicer()].extensions.destination\n            : [\"???\"];\n        if (!_.any(destinationExtensions, function(extension) {\n            return _.endsWith(destinationFilename.toLowerCase(), \".\" + extension.toLowerCase());\n        })) {\n            destinationFilename = destinationFilename + \".\" + destinationExtensions[0];\n        }\n        var groupCenter = new THREE.Vector3(0,0,0);\n        if (group) {\n            groupCenter = new THREE.Box3().setFromObject(group).center();\n        }\n        var data = {\n            command: \"slice\",\n            slicer: slicingVM.slicer(),\n            profile: slicingVM.profile(),\n            printerProfile: slicingVM.printerProfile(),\n            destination: destinationFilename,\n            position: { \"x\": self.ORIGIN_OFFSET_X_MM + groupCenter.x,\n                \"y\": self.ORIGIN_OFFSET_Y_MM + groupCenter.y}\n        };\n        _.extend(data, self.overridesViewModel.toJS());\n\n        if (slicingVM.afterSlicing() == \"print\") {\n            data[\"print\"] = true;\n        } else if (slicingVM.afterSlicing() == \"select\") {\n            data[\"select\"] = true;\n        }\n        return data;\n    };\n\n    self.sendSliceRequest = function(target, filename, data) {\n        $.ajax({\n            url: API_BASEURL + \"files/\" + target + \"/\" + filename,\n            type: \"POST\",\n            dataType: \"json\",\n            contentType: \"application/json; charset=UTF-8\",\n            data: JSON.stringify(data),\n            error: function(jqXHR, textStatus) {\n                new PNotify({title: \"Slicing failed\", text: textStatus, type: \"error\", hide: false});\n            }\n        });\n    };\n\n    self.slice = function() {\n        mixpanel.track(\"Slice Model\");\n\n        var target = self.slicingViewModel.target;\n        var sliceRequestData;\n\n        if (self.stlViewPort.onlyOneOriginalModel()) {\n\n            sliceRequestData = self.sliceRequestData(self.slicingViewModel);\n            self.sendSliceRequest(self.slicingViewModel.target, self.slicingViewModel.file(), sliceRequestData);\n\n        } else {\n\n            var form = new FormData();\n            var group = new THREE.Group();\n            _.forEach(self.stlViewPort.models, function (model) {\n                group.add(model.clone(true));\n            });\n\n            sliceRequestData = self.sliceRequestData(self.slicingViewModel, group);\n\n            var tempFilename = self.tempSTLFilename();\n            form.append(\"file\", self.blobFromModel(group), tempFilename);\n            $.ajax({\n                url: API_BASEURL + \"files/local\",\n                type: \"POST\",\n                data: form,\n                processData: false,\n                contentType: false,\n                // On success\n                success: function(_) {\n                    self.tempFiles[tempFilename] = 1;\n                    self.sendSliceRequest(target, tempFilename, sliceRequestData);\n                },\n                error: function(jqXHR, textStatus) {\n                    new PNotify({title: \"Slicing failed\", text: textStatus, type: \"error\", hide: false});\n                }\n            });\n\n        }\n    };\n\n    self.blobFromModel = function( model ) {\n        var exporter = new THREETK.STLBinaryExporter();\n        return new Blob([exporter.parse(model)], {type: \"text/plain\"});\n    };\n\n    self.isPrinting = ko.computed(function () {\n        return self.printerStateViewModel.isPrinting() ||\n            self.printerStateViewModel.isPaused();\n    });\n\n    self.canSliceNow = ko.computed(function () {\n        // TODO: We should be checking for same_device here, too.\n        return self.slicingViewModel.enableSliceButton() &&\n            !self.isPrinting();\n    });\n    // END: Slicing\n\n    // Helpers for drawing walls and floor\n    //\n    self.createText = function(font, text, width, depth, parentObj) {\n        var textGeometry = new THREE.TextGeometry( text, {\n            font: font,\n            size: 10,\n            height: 0.1,\n            material: 0, extrudeMaterial: 1\n        });\n        var materialFront = new THREE.MeshBasicMaterial( { color: 0x048e06} );\n        var materialSide = new THREE.MeshBasicMaterial( { color: 0x8A8A8A} );\n        var materialArray = [ materialFront, materialSide ];\n        var textMaterial = new THREE.MeshFaceMaterial(materialArray);\n\n        var mesh = new THREE.Mesh( textGeometry, textMaterial );\n        textGeometry.computeBoundingBox();\n        var textWidth = textGeometry.boundingBox.max.x - textGeometry.boundingBox.min.x;\n        var textHeight = textGeometry.boundingBox.max.y - textGeometry.boundingBox.min.y;\n        switch (text) {\n            case \"Front\":\n                mesh.position.set(-textWidth/2, -depth/2 - textHeight - 4, 1.0);\n                break;\n            case \"Back\":\n                mesh.position.set(textWidth/2, depth/2 + textHeight + 4, 1.0);\n                mesh.rotation.set(0, 0, Math.PI);\n                break;\n            case \"Left\":\n                mesh.position.set(-width/2 - textHeight - 4, textWidth/2, 1.0);\n                mesh.rotation.set(0, 0, -Math.PI / 2);\n                break;\n            case \"Right\":\n                mesh.position.set(width/2 + textHeight, -textWidth/2, 1.0);\n                mesh.rotation.set(0, 0, Math.PI / 2);\n                break;\n        }\n        parentObj.add(mesh);\n    };\n\n    self.drawBedFloor = function ( width, depth, segments ) {\n        for(var i = self.floor.children.length - 1; i >= 0; i--) {\n            var obj = self.floor.children[i];\n            self.floor.remove(obj);\n        }\n\n        segments = segments || 20;\n        var geometry = new THREE.PlaneGeometry(width, depth, segments, segments);\n        var materialEven = new THREE.MeshBasicMaterial({color: 0xccccfc});\n        var materialOdd = new THREE.MeshBasicMaterial({color: 0x444464});\n        var materials = [materialEven, materialOdd];\n        for (var x = 0; x < segments; x++) {\n            for (var y = 0; y < segments; y++) {\n                var i = x * segments + y;\n                var j = 2 * i;\n                geometry.faces[ j ].materialIndex = geometry.faces[ j + 1 ].materialIndex = (x + y) % 2;\n            }\n        }\n        var mesh = new THREE.Mesh(geometry, new THREE.MeshFaceMaterial(materials));\n        mesh.receiveShadow = true;\n        self.floor.add(mesh);\n\n        //Add text to indicate front/back of print bed\n        var loader = new THREE.FontLoader();\n        loader.load( PLUGIN_BASEURL + \"slicer/static/js/optimer_bold.typeface.json\", function ( font ) {\n            self.createText(font, \"Front\", width, depth, self.floor);\n            self.createText(font, \"Back\", width, depth, self.floor);\n            self.createText(font, \"Left\", width, depth, self.floor);\n            self.createText(font, \"Right\", width, depth, self.floor);\n            self.stlViewPort.render();\n        } );\n    };\n\n    self.drawWalls = function ( width, depth, height ) {\n        for(var i = self.walls.children.length - 1; i >= 0; i--) {\n            var obj = self.walls.children[i];\n            self.walls.remove(obj);\n        }\n\n        var wall1 = self.rectShape( width, height, 0x8888fc );\n        wall1.rotation.x = Math.PI / 2;\n        wall1.position.set(0, depth/2, height/2);\n        self.walls.add(wall1);\n\n        var wall2 = self.rectShape( height, depth, 0x8888dc );\n        wall2.rotation.y = Math.PI / 2;\n        wall2.position.set(-width/2, 0, height/2);\n        self.walls.add(wall2);\n\n        var wall3 = self.rectShape( width, height, 0x8888fc );\n        wall3.rotation.x = -Math.PI / 2;\n        wall3.position.set(0, -depth/2, height/2);\n        self.walls.add(wall3);\n\n        var wall4 = self.rectShape( height, depth, 0x8888dc );\n        wall4.rotation.y = -Math.PI / 2;\n        wall4.position.set(width/2, 0, height/2);\n        self.walls.add(wall4);\n    };\n\n    self.rectShape = function ( rectLength, rectWidth, color ) {\n        var rectShape = new THREE.Shape();\n        rectShape.moveTo( -rectLength/2,-rectWidth/2 );\n        rectShape.lineTo( -rectLength/2, rectWidth/2 );\n        rectShape.lineTo( rectLength/2, rectWidth/2 );\n        rectShape.lineTo( rectLength/2, -rectWidth/2 );\n        rectShape.lineTo( -rectLength/2, -rectWidth/2 );\n        var rectGeom = new THREE.ShapeGeometry( rectShape );\n        return new THREE.Mesh( rectGeom, new THREE.MeshBasicMaterial( { color: color } ) ) ;\n    };\n    // END: Helpers for drawing walls and floor\n\n    self.resetSlicingViewModel = function() {\n        self.slicingViewModel.target = undefined;\n        self.slicingViewModel.file(undefined);\n        self.slicingViewModel.destinationFilename(undefined);\n    };\n\n    self.setSlicingViewModel = function(target, filename) {\n        if (!self.slicingViewModel.destinationFilename()) {  // A model is added to an empty bed\n            self.slicingViewModel.target = target;\n            self.slicingViewModel.file(filename);\n            self.slicingViewModel.destinationFilename(self.computeDestinationFilename(filename));\n        }\n    };\n\n    // Returns the destination filename based on which models are loaded.\n    // The destination filename is without the final .gco on it because\n    // that will depend on the slicer.\n    self.computeDestinationFilename = function(inputFilename) {\n        // TODO: For now, just use the first model's name.\n        var destinationFilename = inputFilename.substr(0, inputFilename.lastIndexOf(\".\"));\n        if (destinationFilename.lastIndexOf(\"/\") != 0) {\n            destinationFilename = destinationFilename.substr(destinationFilename.lastIndexOf(\"/\") + 1);\n        }\n        return destinationFilename;\n    };\n\n    self.tempSTLFilename = function() {\n        var pos = self.slicingViewModel.file().lastIndexOf(\".\")\n        return [self.slicingViewModel.file().slice(0, pos),\n            \".tmp.\" + (+ new Date()),\n            self.slicingViewModel.file().slice(pos)].join('');\n    };\n\n    self.init();\n}\n\n\n// view model class, parameters for constructor, container to bind to\nOCTOPRINT_VIEWMODELS.push([\n    SlicerViewModel,\n\n    // e.g. loginStateViewModel, settingsViewModel, ...\n    [ \"slicingViewModel\", \"overridesViewModel\", \"printerStateViewModel\", \"printerProfilesViewModel\" ],\n\n    // e.g. #settings_plugin_slicer, #tab_plugin_slicer, ...\n    [ \"#slicer\" ]\n]);\n"],"names":["FrontSide","MeshBasicMaterial","LineBasicMaterial","Object3D","Geometry","Mesh","CylinderGeometry","BufferGeometry","Float32BufferAttribute","Line","CylinderBufferGeometry","OctahedronGeometry","PlaneBufferGeometry","TorusBufferGeometry","BoxGeometry","BoxBufferGeometry","DoubleSide","TransformGizmo","Vector3","Matrix4","Euler","Quaternion","Raycaster","Vector2","PerspectiveCamera","OrthographicCamera","STLViewPort","canvas","width","height","onChange","onNewModel","self","canvasWidth","canvasHeight","models","effectController","THREE","Color","init","camera","up","set","position","scene","Scene","ambientLight","AmbientLight","ambientLightColor","add","directionalLight","DirectionalLight","directionalLightColor","directionalLight2","renderer","WebGLRenderer","antialias","setClearColor","setSize","setPixelRatio","window","devicePixelRatio","gammaInput","gammaOutput","orbitControls","THREETK","domElement","enableDamping","dampingFactor","enablePan","addEventListener","render","transformControls","setRotationSnap","Math","degToRad","startTransform","endTransform","event","keyCode","lastMouseEvent","e","pickActiveModel","update","loadSTL","url","onLoad","load","geometry","addModelOfGeometry","modelToCopyTransformFrom","material","MeshStandardMaterial","modelInactiveColor","SmoothShading","metalness","roughness","stlModel","center","Box3","setFromObject","model","copy","negate","rotation","scale","push","activeModel","object","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","pointerVector","ray","setFromCamera","foundActiveModel","nextPointedModel","undefined","firstPointedModel","i","length","intersections","intersectObjects","children","makeModelActive","m","attach","detach","color","modelActiveColor","removeActiveModel","index","indexOf","splice","remove","removeAllModels","splitActiveModel","originalModel","newGeometries","GeometryUtils","split","map","onlyOneOriginalModel","z","enabled","ko","bindingHandlers","numericValue","element","valueAccessor","allBindings","data","context","interceptor","computed","unwrap","value","isNaN","parseFloat","applyBindingsToNode","OverridesViewModel","parameters","array_keys","enum_keys","item_keys","boolean_keys","slicingViewModel","ARRAY_KEYS","ENUM_KEYS","observableArray","ITEM_KEYS","BOOLEAN_KEYS","ALL_KEYS","concat","Object","keys","forEach","k","observable","optionsForKey","key","updateOverridesFromProfile","profile","endings","stripEndings","_","isString","endsWith","slice","booleans","convertBoolean","BOOLS","boolType","b","isArray","v","onProfileChange","newValue","slicing","slicer","fetchSlicingProfile","profileAjax","abort","$","ajax","API_BASEURL","subscribe","toJS","result","mapping","hasOwnProperty","baseKey","replace","contains","OCTOPRINT_VIEWMODELS","ModelArranger","sort","a","w","h","area","max","min","msort","criteria","diff","n","applyPackResult","packer","fit","root","projectedRectOnXY","margin","modelBox","arrange","modelRectMap","reduce","Map","allPackers","crit","rects","get","GrowingPacker","packersSortedByArea","filter","some","location","hostname","config","install","SlicerViewModel","track","document","getElementById","webgl","empty","append","overridesViewModel","printerStateViewModel","printerProfilesViewModel","lockScale","selectedSTL","newPrint","show","target","file","force","enableSlicingDialog","tab","addToNewPrint","modal","clearPrint","addToExistingPrint","setSlicingViewModel","addSTL","resetSlicingViewModel","stlViewPort","BASEURL","onModelAdd","fixZPosition","hide","onModelRemove","updatePrinterBed","profileName","profiles","items","find","p","id","dim","volume","BEDSIZE_X_MM","BEDSIZE_Y_MM","depth","BEDSIZE_Z_MM","origin","ORIGIN_OFFSET_X_MM","ORIGIN_OFFSET_Y_MM","drawBedFloor","drawWalls","printerProfile","CANVAS_WIDTH","CANVAS_HEIGHT","requestData","onModelChange","walls","floor","applyBindings","PLUGIN_BASEURL","click","setMode","space","toggleValueInputs","change","applyValueInputs","parentDiv","hasClass","removeClass","addClass","input","blur","type","checked","val","toFixed","closest","log","bedLowMinZ","boundaryBox","sub","attr","PI","tempFiles","removeTempFilesAfterSlicing","inArray","payload","stl","files","delete","stl_location","socket","onMessage","sliceRequestData","slicingVM","group","destinationFilename","_sanitize","destinationExtensions","extensions","destination","any","extension","toLowerCase","groupCenter","extend","afterSlicing","sendSliceRequest","filename","JSON","stringify","jqXHR","textStatus","PNotify","title","text","form","FormData","Group","clone","tempFilename","tempSTLFilename","blobFromModel","exporter","Blob","parse","isPrinting","isPaused","canSliceNow","enableSliceButton","createText","font","parentObj","textGeometry","TextGeometry","extrudeMaterial","materialFront","materialSide","materialArray","textMaterial","MeshFaceMaterial","mesh","computeBoundingBox","textWidth","boundingBox","textHeight","segments","obj","PlaneGeometry","materialEven","materialOdd","materials","j","faces","materialIndex","receiveShadow","loader","FontLoader","wall1","rectShape","wall2","wall3","wall4","rectLength","rectWidth","Shape","moveTo","lineTo","rectGeom","ShapeGeometry","computeDestinationFilename","inputFilename","substr","lastIndexOf","pos","Date","join"],"mappings":"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"}